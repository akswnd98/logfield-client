var N5=Object.defineProperty;var B5=(i,t,e)=>t in i?N5(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Q=(i,t,e)=>(B5(i,typeof t!="symbol"?t+"":t,e),e);import{O as re,a as dr,c as Z5,f as L5,b as Se,D as Me,x as De,d as xe,e as Wi,g as kt,s as z5,P as Cr}from"./katex.min-c2ac8fda.js";const F5=new re,j5=new re,cC=new re,X5=new re,Y5=new re,dC=new re,fC=new re,W5=new re,Dg=new re,V5=new re,U5=new re,q5=new re,G5=new re,H5=new re,K5=new re;class $${constructor(t){Q(this,"observers");this.observers=t.observers}async notify(t){for(let e=0;e<this.observers.length;e++)await this.observers[e].observe(t)}registerObserver(t){this.observers.push(t)}}class Ot{constructor(t){Q(this,"data");Q(this,"notifier");this.data=t.initialData,this.notifier=new $$({observers:t.observers})}getData(){return this.data}async setData(t){this.data=t,await this.notifier.notify(t)}registerObserver(t){this.notifier.registerObserver(t)}}class J5{async operate(t){await t.operate(this.data)}}class eB extends J5{constructor(){super();Q(this,"data");this.data={nodes:new Map,edges:new Map}}}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.6
 * @date    2023-03-22T11:39:37.256Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Nd(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nc={},tB={get exports(){return Nc},set exports(i){Nc=i}},Ng={},rB={get exports(){return Ng},set exports(i){Ng=i}},Bg={},iB={get exports(){return Bg},set exports(i){Bg=i}},eh=function(i){return i&&i.Math==Math&&i},Ge=eh(typeof globalThis=="object"&&globalThis)||eh(typeof window=="object"&&window)||eh(typeof self=="object"&&self)||eh(typeof T0=="object"&&T0)||function(){return this}()||Function("return this")(),Oe=function(i){try{return!!i()}catch{return!0}},nB=Oe,Xl=!nB(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),sB=Xl,pC=Function.prototype,_0=pC.apply,E0=pC.call,Ua=typeof Reflect=="object"&&Reflect.apply||(sB?E0.bind(_0):function(){return E0.apply(_0,arguments)}),vC=Xl,gC=Function.prototype,Zg=gC.call,aB=vC&&gC.bind.bind(Zg,Zg),Ce=vC?aB:function(i){return function(){return Zg.apply(i,arguments)}},mC=Ce,oB=mC({}.toString),lB=mC("".slice),Vi=function(i){return lB(oB(i),8,-1)},uB=Vi,hB=Ce,w$=function(i){if(uB(i)==="Function")return hB(i)},Lg=typeof document=="object"&&document.all,cB=typeof Lg>"u"&&Lg!==void 0,OC={all:Lg,IS_HTMLDDA:cB},yC=OC,dB=yC.all,He=yC.IS_HTMLDDA?function(i){return typeof i=="function"||i===dB}:function(i){return typeof i=="function"},ks={},fB=Oe,yt=!fB(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),pB=Xl,th=Function.prototype.call,Pt=pB?th.bind(th):function(){return th.apply(th,arguments)},Yl={},bC={}.propertyIsEnumerable,$C=Object.getOwnPropertyDescriptor,vB=$C&&!bC.call({1:2},1);Yl.f=vB?function(t){var e=$C(this,t);return!!e&&e.enumerable}:bC;var Ps=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}},gB=Ce,mB=Oe,OB=Vi,Yf=Object,yB=gB("".split),Bd=mB(function(){return!Yf("z").propertyIsEnumerable(0)})?function(i){return OB(i)=="String"?yB(i,""):Yf(i)}:Yf,Wl=function(i){return i==null},bB=Wl,$B=TypeError,Vl=function(i){if(bB(i))throw $B("Can't call method on "+i);return i},wB=Bd,SB=Vl,Jr=function(i){return wB(SB(i))},C0=He,wC=OC,xB=wC.all,Tt=wC.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:C0(i)||i===xB}:function(i){return typeof i=="object"?i!==null:C0(i)},Ne={},Wf=Ne,Vf=Ge,kB=He,I0=function(i){return kB(i)?i:void 0},er=function(i,t){return arguments.length<2?I0(Wf[i])||I0(Vf[i]):Wf[i]&&Wf[i][t]||Vf[i]&&Vf[i][t]},PB=Ce,We=PB({}.isPrototypeOf),An=typeof navigator<"u"&&String(navigator.userAgent)||"",SC=Ge,Uf=An,Q0=SC.process,A0=SC.Deno,R0=Q0&&Q0.versions||A0&&A0.version,M0=R0&&R0.v8,jr,Bc;M0&&(jr=M0.split("."),Bc=jr[0]>0&&jr[0]<4?1:+(jr[0]+jr[1]));!Bc&&Uf&&(jr=Uf.match(/Edge\/(\d+)/),(!jr||jr[1]>=74)&&(jr=Uf.match(/Chrome\/(\d+)/),jr&&(Bc=+jr[1])));var qa=Bc,D0=qa,TB=Oe,Ga=!!Object.getOwnPropertySymbols&&!TB(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&D0&&D0<41}),_B=Ga,xC=_B&&!Symbol.sham&&typeof Symbol.iterator=="symbol",EB=er,CB=He,IB=We,QB=xC,AB=Object,Ul=QB?function(i){return typeof i=="symbol"}:function(i){var t=EB("Symbol");return CB(t)&&IB(t.prototype,AB(i))},RB=String,Ha=function(i){try{return RB(i)}catch{return"Object"}},MB=He,DB=Ha,NB=TypeError,fr=function(i){if(MB(i))return i;throw NB(DB(i)+" is not a function")},BB=fr,ZB=Wl,S$=function(i,t){var e=i[t];return ZB(e)?void 0:BB(e)},qf=Pt,Gf=He,Hf=Tt,LB=TypeError,zB=function(i,t){var e,r;if(t==="string"&&Gf(e=i.toString)&&!Hf(r=qf(e,i))||Gf(e=i.valueOf)&&!Hf(r=qf(e,i))||t!=="string"&&Gf(e=i.toString)&&!Hf(r=qf(e,i)))return r;throw LB("Can't convert object to primitive value")},Sn={},FB={get exports(){return Sn},set exports(i){Sn=i}},jB=!0,N0=Ge,XB=Object.defineProperty,YB=function(i,t){try{XB(N0,i,{value:t,configurable:!0,writable:!0})}catch{N0[i]=t}return t},WB=Ge,VB=YB,B0="__core-js_shared__",UB=WB[B0]||VB(B0,{}),x$=UB,Z0=x$;(FB.exports=function(i,t){return Z0[i]||(Z0[i]=t!==void 0?t:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var qB=Vl,GB=Object,pr=function(i){return GB(qB(i))},HB=Ce,KB=pr,JB=HB({}.hasOwnProperty),pt=Object.hasOwn||function(t,e){return JB(KB(t),e)},eZ=Ce,tZ=0,rZ=Math.random(),iZ=eZ(1 .toString),Zd=function(i){return"Symbol("+(i===void 0?"":i)+")_"+iZ(++tZ+rZ,36)},nZ=Ge,sZ=Sn,L0=pt,aZ=Zd,oZ=Ga,lZ=xC,Js=nZ.Symbol,Kf=sZ("wks"),uZ=lZ?Js.for||Js:Js&&Js.withoutSetter||aZ,Ve=function(i){return L0(Kf,i)||(Kf[i]=oZ&&L0(Js,i)?Js[i]:uZ("Symbol."+i)),Kf[i]},hZ=Pt,z0=Tt,F0=Ul,cZ=S$,dZ=zB,fZ=Ve,pZ=TypeError,vZ=fZ("toPrimitive"),gZ=function(i,t){if(!z0(i)||F0(i))return i;var e=cZ(i,vZ),r;if(e){if(t===void 0&&(t="default"),r=hZ(e,i,t),!z0(r)||F0(r))return r;throw pZ("Can't convert object to primitive value")}return t===void 0&&(t="number"),dZ(i,t)},mZ=gZ,OZ=Ul,Ld=function(i){var t=mZ(i,"string");return OZ(t)?t:t+""},yZ=Ge,j0=Tt,zg=yZ.document,bZ=j0(zg)&&j0(zg.createElement),k$=function(i){return bZ?zg.createElement(i):{}},$Z=yt,wZ=Oe,SZ=k$,kC=!$Z&&!wZ(function(){return Object.defineProperty(SZ("div"),"a",{get:function(){return 7}}).a!=7}),xZ=yt,kZ=Pt,PZ=Yl,TZ=Ps,_Z=Jr,EZ=Ld,CZ=pt,IZ=kC,X0=Object.getOwnPropertyDescriptor;ks.f=xZ?X0:function(t,e){if(t=_Z(t),e=EZ(e),IZ)try{return X0(t,e)}catch{}if(CZ(t,e))return TZ(!kZ(PZ.f,t,e),t[e])};var QZ=Oe,AZ=He,RZ=/#|\.prototype\./,ql=function(i,t){var e=DZ[MZ(i)];return e==BZ?!0:e==NZ?!1:AZ(t)?QZ(t):!!t},MZ=ql.normalize=function(i){return String(i).replace(RZ,".").toLowerCase()},DZ=ql.data={},NZ=ql.NATIVE="N",BZ=ql.POLYFILL="P",PC=ql,Y0=w$,ZZ=fr,LZ=Xl,zZ=Y0(Y0.bind),Rn=function(i,t){return ZZ(i),t===void 0?i:LZ?zZ(i,t):function(){return i.apply(t,arguments)}},wr={},FZ=yt,jZ=Oe,TC=FZ&&jZ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),XZ=Tt,YZ=String,WZ=TypeError,Sr=function(i){if(XZ(i))return i;throw WZ(YZ(i)+" is not an object")},VZ=yt,UZ=kC,qZ=TC,rh=Sr,W0=Ld,GZ=TypeError,Jf=Object.defineProperty,HZ=Object.getOwnPropertyDescriptor,ep="enumerable",tp="configurable",rp="writable";wr.f=VZ?qZ?function(t,e,r){if(rh(t),e=W0(e),rh(r),typeof t=="function"&&e==="prototype"&&"value"in r&&rp in r&&!r[rp]){var n=HZ(t,e);n&&n[rp]&&(t[e]=r.value,r={configurable:tp in r?r[tp]:n[tp],enumerable:ep in r?r[ep]:n[ep],writable:!1})}return Jf(t,e,r)}:Jf:function(t,e,r){if(rh(t),e=W0(e),rh(r),UZ)try{return Jf(t,e,r)}catch{}if("get"in r||"set"in r)throw GZ("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var KZ=yt,JZ=wr,eL=Ps,Ui=KZ?function(i,t,e){return JZ.f(i,t,eL(1,e))}:function(i,t,e){return i[t]=e,i},ih=Ge,tL=Ua,rL=w$,iL=He,nL=ks.f,sL=PC,Ls=Ne,aL=Rn,zs=Ui,V0=pt,oL=function(i){var t=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new i;case 1:return new i(e);case 2:return new i(e,r)}return new i(e,r,n)}return tL(i,this,arguments)};return t.prototype=i.prototype,t},K=function(i,t){var e=i.target,r=i.global,n=i.stat,s=i.proto,a=r?ih:n?ih[e]:(ih[e]||{}).prototype,o=r?Ls:Ls[e]||zs(Ls,e,{})[e],l=o.prototype,u,h,c,d,f,p,v,m,g;for(d in t)u=sL(r?d:e+(n?".":"#")+d,i.forced),h=!u&&a&&V0(a,d),p=o[d],h&&(i.dontCallGetSet?(g=nL(a,d),v=g&&g.value):v=a[d]),f=h&&v?v:t[d],!(h&&typeof p==typeof f)&&(i.bind&&h?m=aL(f,ih):i.wrap&&h?m=oL(f):s&&iL(f)?m=rL(f):m=f,(i.sham||f&&f.sham||p&&p.sham)&&zs(m,"sham",!0),zs(o,d,m),s&&(c=e+"Prototype",V0(Ls,c)||zs(Ls,c,{}),zs(Ls[c],d,f),i.real&&l&&(u||!l[d])&&zs(l,d,f)))},lL=K,uL=yt,U0=wr.f;lL({target:"Object",stat:!0,forced:Object.defineProperty!==U0,sham:!uL},{defineProperty:U0});var hL=Ne,_C=hL.Object,cL=iB.exports=function(t,e,r){return _C.defineProperty(t,e,r)};_C.defineProperty.sham&&(cL.sham=!0);var dL=Bg,EC=dL,fL=EC,pL=fL,vL=pL,gL=vL;(function(i){i.exports=gL})(rB);(function(i){i.exports=Ng})(tB);var zd=ae(Nc),ul={},mL={get exports(){return ul},set exports(i){ul=i}},Fg={},OL={get exports(){return Fg},set exports(i){Fg=i}},yL=Vi,Mn=Array.isArray||function(t){return yL(t)=="Array"},bL=Math.ceil,$L=Math.floor,wL=Math.trunc||function(t){var e=+t;return(e>0?$L:bL)(e)},SL=wL,Fd=function(i){var t=+i;return t!==t||t===0?0:SL(t)},xL=Fd,kL=Math.min,PL=function(i){return i>0?kL(xL(i),9007199254740991):0},TL=PL,xr=function(i){return TL(i.length)},_L=TypeError,EL=9007199254740991,P$=function(i){if(i>EL)throw _L("Maximum allowed index exceeded");return i},CL=Ld,IL=wr,QL=Ps,Ka=function(i,t,e){var r=CL(t);r in i?IL.f(i,r,QL(0,e)):i[r]=e},AL=Ve,RL=AL("toStringTag"),CC={};CC[RL]="z";var T$=String(CC)==="[object z]",ML=T$,DL=He,ic=Vi,NL=Ve,BL=NL("toStringTag"),ZL=Object,LL=ic(function(){return arguments}())=="Arguments",zL=function(i,t){try{return i[t]}catch{}},qi=ML?ic:function(i){var t,e,r;return i===void 0?"Undefined":i===null?"Null":typeof(e=zL(t=ZL(i),BL))=="string"?e:LL?ic(t):(r=ic(t))=="Object"&&DL(t.callee)?"Arguments":r},FL=Ce,jL=He,jg=x$,XL=FL(Function.toString);jL(jg.inspectSource)||(jg.inspectSource=function(i){return XL(i)});var IC=jg.inspectSource,YL=Ce,WL=Oe,QC=He,VL=qi,UL=er,qL=IC,AC=function(){},GL=[],RC=UL("Reflect","construct"),_$=/^\s*(?:class|function)\b/,HL=YL(_$.exec),KL=!_$.exec(AC),$o=function(t){if(!QC(t))return!1;try{return RC(AC,GL,t),!0}catch{return!1}},MC=function(t){if(!QC(t))return!1;switch(VL(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return KL||!!HL(_$,qL(t))}catch{return!0}};MC.sham=!0;var jd=!RC||WL(function(){var i;return $o($o.call)||!$o(Object)||!$o(function(){i=!0})||i})?MC:$o,q0=Mn,JL=jd,ez=Tt,tz=Ve,rz=tz("species"),G0=Array,iz=function(i){var t;return q0(i)&&(t=i.constructor,JL(t)&&(t===G0||q0(t.prototype))?t=void 0:ez(t)&&(t=t[rz],t===null&&(t=void 0))),t===void 0?G0:t},nz=iz,Xd=function(i,t){return new(nz(i))(t===0?0:t)},sz=Oe,az=Ve,oz=qa,lz=az("species"),Gl=function(i){return oz>=51||!sz(function(){var t=[],e=t.constructor={};return e[lz]=function(){return{foo:1}},t[i](Boolean).foo!==1})},uz=K,hz=Oe,cz=Mn,dz=Tt,fz=pr,pz=xr,H0=P$,K0=Ka,vz=Xd,gz=Gl,mz=Ve,Oz=qa,DC=mz("isConcatSpreadable"),yz=Oz>=51||!hz(function(){var i=[];return i[DC]=!1,i.concat()[0]!==i}),bz=function(i){if(!dz(i))return!1;var t=i[DC];return t!==void 0?!!t:cz(i)},$z=!yz||!gz("concat");uz({target:"Array",proto:!0,arity:1,forced:$z},{concat:function(t){var e=fz(this),r=vz(e,0),n=0,s,a,o,l,u;for(s=-1,o=arguments.length;s<o;s++)if(u=s===-1?e:arguments[s],bz(u))for(l=pz(u),H0(n+l),a=0;a<l;a++,n++)a in u&&K0(r,n,u[a]);else H0(n+1),K0(r,n++,u);return r.length=n,r}});var wz=qi,Sz=String,Si=function(i){if(wz(i)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Sz(i)},Yd={},xz=Fd,kz=Math.max,Pz=Math.min,Hl=function(i,t){var e=xz(i);return e<0?kz(e+t,0):Pz(e,t)},Tz=Jr,_z=Hl,Ez=xr,J0=function(i){return function(t,e,r){var n=Tz(t),s=Ez(n),a=_z(r,s),o;if(i&&e!=e){for(;s>a;)if(o=n[a++],o!=o)return!0}else for(;s>a;a++)if((i||a in n)&&n[a]===e)return i||a||0;return!i&&-1}},E$={includes:J0(!0),indexOf:J0(!1)},Kl={},Cz=Ce,ip=pt,Iz=Jr,Qz=E$.indexOf,Az=Kl,ew=Cz([].push),NC=function(i,t){var e=Iz(i),r=0,n=[],s;for(s in e)!ip(Az,s)&&ip(e,s)&&ew(n,s);for(;t.length>r;)ip(e,s=t[r++])&&(~Qz(n,s)||ew(n,s));return n},C$=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rz=NC,Mz=C$,Jl=Object.keys||function(t){return Rz(t,Mz)},Dz=yt,Nz=TC,Bz=wr,Zz=Sr,Lz=Jr,zz=Jl;Yd.f=Dz&&!Nz?Object.defineProperties:function(t,e){Zz(t);for(var r=Lz(e),n=zz(e),s=n.length,a=0,o;s>a;)Bz.f(t,o=n[a++],r[o]);return t};var Fz=er,BC=Fz("document","documentElement"),jz=Sn,Xz=Zd,tw=jz("keys"),Wd=function(i){return tw[i]||(tw[i]=Xz(i))},Yz=Sr,Wz=Yd,rw=C$,Vz=Kl,Uz=BC,qz=k$,Gz=Wd,iw=">",nw="<",Xg="prototype",Yg="script",ZC=Gz("IE_PROTO"),np=function(){},LC=function(i){return nw+Yg+iw+i+nw+"/"+Yg+iw},sw=function(i){i.write(LC("")),i.close();var t=i.parentWindow.Object;return i=null,t},Hz=function(){var i=qz("iframe"),t="java"+Yg+":",e;return i.style.display="none",Uz.appendChild(i),i.src=String(t),e=i.contentWindow.document,e.open(),e.write(LC("document.F=Object")),e.close(),e.F},nh,nc=function(){try{nh=new ActiveXObject("htmlfile")}catch{}nc=typeof document<"u"?document.domain&&nh?sw(nh):Hz():sw(nh);for(var i=rw.length;i--;)delete nc[Xg][rw[i]];return nc()};Vz[ZC]=!0;var Ts=Object.create||function(t,e){var r;return t!==null?(np[Xg]=Yz(t),r=new np,np[Xg]=null,r[ZC]=t):r=nc(),e===void 0?r:Wz.f(r,e)},eu={},Kz=NC,Jz=C$,eF=Jz.concat("length","prototype");eu.f=Object.getOwnPropertyNames||function(t){return Kz(t,eF)};var I$={},aw=Hl,tF=xr,rF=Ka,iF=Array,nF=Math.max,zC=function(i,t,e){for(var r=tF(i),n=aw(t,r),s=aw(e===void 0?r:e,r),a=iF(nF(s-n,0)),o=0;n<s;n++,o++)rF(a,o,i[n]);return a.length=o,a},sF=Vi,aF=Jr,FC=eu.f,oF=zC,jC=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lF=function(i){try{return FC(i)}catch{return oF(jC)}};I$.f=function(t){return jC&&sF(t)=="Window"?lF(t):FC(aF(t))};var tu={};tu.f=Object.getOwnPropertySymbols;var uF=Ui,Ja=function(i,t,e,r){return r&&r.enumerable?i[t]=e:uF(i,t,e),i},hF=wr,Q$=function(i,t,e){return hF.f(i,t,e)},ru={},cF=Ve;ru.f=cF;var ow=Ne,dF=pt,fF=ru,pF=wr.f,Ke=function(i){var t=ow.Symbol||(ow.Symbol={});dF(t,i)||pF(t,i,{value:fF.f(i)})},vF=Pt,gF=er,mF=Ve,OF=Ja,XC=function(){var i=gF("Symbol"),t=i&&i.prototype,e=t&&t.valueOf,r=mF("toPrimitive");t&&!t[r]&&OF(t,r,function(n){return vF(e,this)},{arity:1})},yF=T$,bF=qi,$F=yF?{}.toString:function(){return"[object "+bF(this)+"]"},wF=T$,SF=wr.f,xF=Ui,kF=pt,PF=$F,TF=Ve,lw=TF("toStringTag"),_s=function(i,t,e,r){if(i){var n=e?i:i.prototype;kF(n,lw)||SF(n,lw,{configurable:!0,value:t}),r&&!wF&&xF(n,"toString",PF)}},_F=Ge,EF=He,uw=_F.WeakMap,CF=EF(uw)&&/native code/.test(String(uw)),IF=CF,YC=Ge,QF=Tt,AF=Ui,sp=pt,ap=x$,RF=Wd,MF=Kl,hw="Object already initialized",Wg=YC.TypeError,DF=YC.WeakMap,Zc,hl,Lc,NF=function(i){return Lc(i)?hl(i):Zc(i,{})},BF=function(i){return function(t){var e;if(!QF(t)||(e=hl(t)).type!==i)throw Wg("Incompatible receiver, "+i+" required");return e}};if(IF||ap.state){var ii=ap.state||(ap.state=new DF);ii.get=ii.get,ii.has=ii.has,ii.set=ii.set,Zc=function(i,t){if(ii.has(i))throw Wg(hw);return t.facade=i,ii.set(i,t),t},hl=function(i){return ii.get(i)||{}},Lc=function(i){return ii.has(i)}}else{var Fs=RF("state");MF[Fs]=!0,Zc=function(i,t){if(sp(i,Fs))throw Wg(hw);return t.facade=i,AF(i,Fs,t),t},hl=function(i){return sp(i,Fs)?i[Fs]:{}},Lc=function(i){return sp(i,Fs)}}var eo={set:Zc,get:hl,has:Lc,enforce:NF,getterFor:BF},ZF=Rn,LF=Ce,zF=Bd,FF=pr,jF=xr,XF=Xd,cw=LF([].push),en=function(i){var t=i==1,e=i==2,r=i==3,n=i==4,s=i==6,a=i==7,o=i==5||s;return function(l,u,h,c){for(var d=FF(l),f=zF(d),p=ZF(u,h),v=jF(f),m=0,g=c||XF,O=t?g(l,v):e||a?g(l,0):void 0,b,y;v>m;m++)if((o||m in f)&&(b=f[m],y=p(b,m,d),i))if(t)O[m]=y;else if(y)switch(i){case 3:return!0;case 5:return b;case 6:return m;case 2:cw(O,b)}else switch(i){case 4:return!1;case 7:cw(O,b)}return s?-1:r||n?n:O}},to={forEach:en(0),map:en(1),filter:en(2),some:en(3),every:en(4),find:en(5),findIndex:en(6),filterReject:en(7)},Vd=K,A$=Ge,R$=Pt,YF=Ce,$a=yt,wa=Ga,WF=Oe,St=pt,VF=We,Vg=Sr,Ud=Jr,M$=Ld,UF=Si,Ug=Ps,cl=Ts,WC=Jl,qF=eu,VC=I$,GF=tu,UC=ks,qC=wr,HF=Yd,GC=Yl,dw=Ja,KF=Q$,D$=Sn,JF=Wd,HC=Kl,fw=Zd,ej=Ve,tj=ru,rj=Ke,ij=XC,nj=_s,KC=eo,qd=to.forEach,ar=JF("hidden"),Gd="Symbol",dl="prototype",sj=KC.set,pw=KC.getterFor(Gd),qr=Object[dl],ns=A$.Symbol,Do=ns&&ns[dl],aj=A$.TypeError,op=A$.QObject,JC=UC.f,Un=qC.f,eI=VC.f,oj=GC.f,tI=YF([].push),zi=D$("symbols"),iu=D$("op-symbols"),lj=D$("wks"),qg=!op||!op[dl]||!op[dl].findChild,Gg=$a&&WF(function(){return cl(Un({},"a",{get:function(){return Un(this,"a",{value:7}).a}})).a!=7})?function(i,t,e){var r=JC(qr,t);r&&delete qr[t],Un(i,t,e),r&&i!==qr&&Un(qr,t,r)}:Un,lp=function(i,t){var e=zi[i]=cl(Do);return sj(e,{type:Gd,tag:i,description:t}),$a||(e.description=t),e},Hd=function(t,e,r){t===qr&&Hd(iu,e,r),Vg(t);var n=M$(e);return Vg(r),St(zi,n)?(r.enumerable?(St(t,ar)&&t[ar][n]&&(t[ar][n]=!1),r=cl(r,{enumerable:Ug(0,!1)})):(St(t,ar)||Un(t,ar,Ug(1,{})),t[ar][n]=!0),Gg(t,n,r)):Un(t,n,r)},N$=function(t,e){Vg(t);var r=Ud(e),n=WC(r).concat(sI(r));return qd(n,function(s){(!$a||R$(rI,r,s))&&Hd(t,s,r[s])}),t},uj=function(t,e){return e===void 0?cl(t):N$(cl(t),e)},rI=function(t){var e=M$(t),r=R$(oj,this,e);return this===qr&&St(zi,e)&&!St(iu,e)?!1:r||!St(this,e)||!St(zi,e)||St(this,ar)&&this[ar][e]?r:!0},iI=function(t,e){var r=Ud(t),n=M$(e);if(!(r===qr&&St(zi,n)&&!St(iu,n))){var s=JC(r,n);return s&&St(zi,n)&&!(St(r,ar)&&r[ar][n])&&(s.enumerable=!0),s}},nI=function(t){var e=eI(Ud(t)),r=[];return qd(e,function(n){!St(zi,n)&&!St(HC,n)&&tI(r,n)}),r},sI=function(i){var t=i===qr,e=eI(t?iu:Ud(i)),r=[];return qd(e,function(n){St(zi,n)&&(!t||St(qr,n))&&tI(r,zi[n])}),r};wa||(ns=function(){if(VF(Do,this))throw aj("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:UF(arguments[0]),e=fw(t),r=function(n){this===qr&&R$(r,iu,n),St(this,ar)&&St(this[ar],e)&&(this[ar][e]=!1),Gg(this,e,Ug(1,n))};return $a&&qg&&Gg(qr,e,{configurable:!0,set:r}),lp(e,t)},Do=ns[dl],dw(Do,"toString",function(){return pw(this).tag}),dw(ns,"withoutSetter",function(i){return lp(fw(i),i)}),GC.f=rI,qC.f=Hd,HF.f=N$,UC.f=iI,qF.f=VC.f=nI,GF.f=sI,tj.f=function(i){return lp(ej(i),i)},$a&&KF(Do,"description",{configurable:!0,get:function(){return pw(this).description}}));Vd({global:!0,constructor:!0,wrap:!0,forced:!wa,sham:!wa},{Symbol:ns});qd(WC(lj),function(i){rj(i)});Vd({target:Gd,stat:!0,forced:!wa},{useSetter:function(){qg=!0},useSimple:function(){qg=!1}});Vd({target:"Object",stat:!0,forced:!wa,sham:!$a},{create:uj,defineProperty:Hd,defineProperties:N$,getOwnPropertyDescriptor:iI});Vd({target:"Object",stat:!0,forced:!wa},{getOwnPropertyNames:nI});ij();nj(ns,Gd);HC[ar]=!0;var hj=Ga,aI=hj&&!!Symbol.for&&!!Symbol.keyFor,cj=K,dj=er,fj=pt,pj=Si,oI=Sn,vj=aI,up=oI("string-to-symbol-registry"),gj=oI("symbol-to-string-registry");cj({target:"Symbol",stat:!0,forced:!vj},{for:function(i){var t=pj(i);if(fj(up,t))return up[t];var e=dj("Symbol")(t);return up[t]=e,gj[e]=t,e}});var mj=K,Oj=pt,yj=Ul,bj=Ha,$j=Sn,wj=aI,vw=$j("symbol-to-string-registry");mj({target:"Symbol",stat:!0,forced:!wj},{keyFor:function(t){if(!yj(t))throw TypeError(bj(t)+" is not a symbol");if(Oj(vw,t))return vw[t]}});var Sj=Ce,nu=Sj([].slice),xj=Ce,gw=Mn,kj=He,mw=Vi,Pj=Si,Ow=xj([].push),Tj=function(i){if(kj(i))return i;if(gw(i)){for(var t=i.length,e=[],r=0;r<t;r++){var n=i[r];typeof n=="string"?Ow(e,n):(typeof n=="number"||mw(n)=="Number"||mw(n)=="String")&&Ow(e,Pj(n))}var s=e.length,a=!0;return function(o,l){if(a)return a=!1,l;if(gw(this))return l;for(var u=0;u<s;u++)if(e[u]===o)return l}}},_j=K,lI=er,uI=Ua,Ej=Pt,su=Ce,hI=Oe,yw=He,bw=Ul,cI=nu,Cj=Tj,Ij=Ga,Qj=String,mn=lI("JSON","stringify"),sh=su(/./.exec),$w=su("".charAt),Aj=su("".charCodeAt),Rj=su("".replace),Mj=su(1 .toString),Dj=/[\uD800-\uDFFF]/g,ww=/^[\uD800-\uDBFF]$/,Sw=/^[\uDC00-\uDFFF]$/,xw=!Ij||hI(function(){var i=lI("Symbol")();return mn([i])!="[null]"||mn({a:i})!="{}"||mn(Object(i))!="{}"}),kw=hI(function(){return mn("\uDF06\uD834")!=='"\\udf06\\ud834"'||mn("\uDEAD")!=='"\\udead"'}),Nj=function(i,t){var e=cI(arguments),r=Cj(t);if(!(!yw(r)&&(i===void 0||bw(i))))return e[1]=function(n,s){if(yw(r)&&(s=Ej(r,this,Qj(n),s)),!bw(s))return s},uI(mn,null,e)},Bj=function(i,t,e){var r=$w(e,t-1),n=$w(e,t+1);return sh(ww,i)&&!sh(Sw,n)||sh(Sw,i)&&!sh(ww,r)?"\\u"+Mj(Aj(i,0),16):i};mn&&_j({target:"JSON",stat:!0,arity:3,forced:xw||kw},{stringify:function(t,e,r){var n=cI(arguments),s=uI(xw?Nj:mn,null,n);return kw&&typeof s=="string"?Rj(s,Dj,Bj):s}});var Zj=K,Lj=Ga,zj=Oe,dI=tu,Fj=pr,jj=!Lj||zj(function(){dI.f(1)});Zj({target:"Object",stat:!0,forced:jj},{getOwnPropertySymbols:function(t){var e=dI.f;return e?e(Fj(t)):[]}});var Xj=Ke;Xj("asyncIterator");var Yj=Ke;Yj("hasInstance");var Wj=Ke;Wj("isConcatSpreadable");var Vj=Ke;Vj("iterator");var Uj=Ke;Uj("match");var qj=Ke;qj("matchAll");var Gj=Ke;Gj("replace");var Hj=Ke;Hj("search");var Kj=Ke;Kj("species");var Jj=Ke;Jj("split");var eX=Ke,tX=XC;eX("toPrimitive");tX();var rX=er,iX=Ke,nX=_s;iX("toStringTag");nX(rX("Symbol"),"Symbol");var sX=Ke;sX("unscopables");var aX=Ge,oX=_s;oX(aX.JSON,"JSON",!0);var lX=Ne,uX=lX.Symbol,ro={},Hg=yt,hX=pt,fI=Function.prototype,cX=Hg&&Object.getOwnPropertyDescriptor,B$=hX(fI,"name"),dX=B$&&(function(){}).name==="something",fX=B$&&(!Hg||Hg&&cX(fI,"name").configurable),pI={EXISTS:B$,PROPER:dX,CONFIGURABLE:fX},pX=Oe,vI=!pX(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),vX=pt,gX=He,mX=pr,OX=Wd,yX=vI,Pw=OX("IE_PROTO"),Kg=Object,bX=Kg.prototype,Kd=yX?Kg.getPrototypeOf:function(i){var t=mX(i);if(vX(t,Pw))return t[Pw];var e=t.constructor;return gX(e)&&t instanceof e?e.prototype:t instanceof Kg?bX:null},$X=Oe,wX=He,SX=Tt,xX=Ts,Tw=Kd,kX=Ja,PX=Ve,Jg=PX("iterator"),gI=!1,Ci,hp,cp;[].keys&&(cp=[].keys(),"next"in cp?(hp=Tw(Tw(cp)),hp!==Object.prototype&&(Ci=hp)):gI=!0);var TX=!SX(Ci)||$X(function(){var i={};return Ci[Jg].call(i)!==i});TX?Ci={}:Ci=xX(Ci);wX(Ci[Jg])||kX(Ci,Jg,function(){return this});var mI={IteratorPrototype:Ci,BUGGY_SAFARI_ITERATORS:gI},_X=mI.IteratorPrototype,EX=Ts,CX=Ps,IX=_s,QX=ro,AX=function(){return this},RX=function(i,t,e,r){var n=t+" Iterator";return i.prototype=EX(_X,{next:CX(+!r,e)}),IX(i,n,!1,!0),QX[n]=AX,i},MX=Ce,DX=fr,NX=function(i,t,e){try{return MX(DX(Object.getOwnPropertyDescriptor(i,t)[e]))}catch{}},BX=He,ZX=String,LX=TypeError,zX=function(i){if(typeof i=="object"||BX(i))return i;throw LX("Can't set "+ZX(i)+" as a prototype")},FX=NX,jX=Sr,XX=zX,OI=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,t={},e;try{e=FX(Object.prototype,"__proto__","set"),e(t,[]),i=t instanceof Array}catch{}return function(n,s){return jX(n),XX(s),i?e(n,s):n.__proto__=s,n}}():void 0),YX=K,WX=Pt,VX=pI,UX=RX,qX=Kd,GX=_s,_w=Ja,HX=Ve,Ew=ro,KX=mI,JX=VX.PROPER,ah=KX.BUGGY_SAFARI_ITERATORS,dp=HX("iterator"),Cw="keys",oh="values",Iw="entries",eY=function(){return this},Z$=function(i,t,e,r,n,s,a){UX(e,t,r);var o=function(g){if(g===n&&d)return d;if(!ah&&g in h)return h[g];switch(g){case Cw:return function(){return new e(this,g)};case oh:return function(){return new e(this,g)};case Iw:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,h=i.prototype,c=h[dp]||h["@@iterator"]||n&&h[n],d=!ah&&c||o(n),f=t=="Array"&&h.entries||c,p,v,m;if(f&&(p=qX(f.call(new i)),p!==Object.prototype&&p.next&&(GX(p,l,!0,!0),Ew[l]=eY)),JX&&n==oh&&c&&c.name!==oh&&(u=!0,d=function(){return WX(c,this)}),n)if(v={values:o(oh),keys:s?d:o(Cw),entries:o(Iw)},a)for(m in v)(ah||u||!(m in h))&&_w(h,m,v[m]);else YX({target:t,proto:!0,forced:ah||u},v);return a&&h[dp]!==d&&_w(h,dp,d,{name:n}),Ew[t]=d,v},L$=function(i,t){return{value:i,done:t}},tY=Jr,Qw=ro,yI=eo;wr.f;var rY=Z$,lh=L$,bI="Array Iterator",iY=yI.set,nY=yI.getterFor(bI);rY(Array,"Array",function(i,t){iY(this,{type:bI,target:tY(i),index:0,kind:t})},function(){var i=nY(this),t=i.target,e=i.kind,r=i.index++;return!t||r>=t.length?(i.target=void 0,lh(void 0,!0)):e=="keys"?lh(r,!1):e=="values"?lh(t[r],!1):lh([r,t[r]],!1)},"values");Qw.Arguments=Qw.Array;var sY={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},aY=sY,oY=Ge,lY=qi,uY=Ui,Aw=ro,hY=Ve,Rw=hY("toStringTag");for(var fp in aY){var Mw=oY[fp],pp=Mw&&Mw.prototype;pp&&lY(pp)!==Rw&&uY(pp,Rw,fp),Aw[fp]=Aw.Array}var cY=uX,$I=cY,dY=Ke;dY("dispose");var fY=$I,pY=fY,vY=Ke;vY("asyncDispose");var gY=K,mY=er,OY=Ce,wI=mY("Symbol"),yY=wI.keyFor,bY=OY(wI.prototype.valueOf);gY({target:"Symbol",stat:!0},{isRegistered:function(t){try{return yY(bY(t))!==void 0}catch{return!1}}});var $Y=K,wY=Sn,SI=er,SY=Ce,xY=Ul,kY=Ve,zc=SI("Symbol"),Dw=zc.isWellKnown,xI=SI("Object","getOwnPropertyNames"),PY=SY(zc.prototype.valueOf),Nw=wY("wks");for(var vp=0,Bw=xI(zc),TY=Bw.length;vp<TY;vp++)try{var Zw=Bw[vp];xY(zc[Zw])&&kY(Zw)}catch{}$Y({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(Dw&&Dw(t))return!0;try{for(var e=PY(t),r=0,n=xI(Nw),s=n.length;r<s;r++)if(Nw[n[r]]==e)return!0}catch{}return!1}});var _Y=Ke;_Y("matcher");var EY=Ke;EY("metadataKey");var CY=Ke;CY("observable");var IY=Ke;IY("metadata");var QY=Ke;QY("patternMatch");var AY=Ke;AY("replaceAll");var RY=pY,MY=RY;(function(i){i.exports=MY})(OL);(function(i){i.exports=Fg})(mL);var ea=ae(ul),Fc={},DY={get exports(){return Fc},set exports(i){Fc=i}},em={},NY={get exports(){return em},set exports(i){em=i}},z$=Ce,BY=Fd,ZY=Si,LY=Vl,zY=z$("".charAt),Lw=z$("".charCodeAt),FY=z$("".slice),zw=function(i){return function(t,e){var r=ZY(LY(t)),n=BY(e),s=r.length,a,o;return n<0||n>=s?i?"":void 0:(a=Lw(r,n),a<55296||a>56319||n+1===s||(o=Lw(r,n+1))<56320||o>57343?i?zY(r,n):a:i?FY(r,n,n+2):(a-55296<<10)+(o-56320)+65536)}},jY={codeAt:zw(!1),charAt:zw(!0)},XY=jY.charAt,YY=Si,kI=eo,WY=Z$,Fw=L$,PI="String Iterator",VY=kI.set,UY=kI.getterFor(PI);WY(String,"String",function(i){VY(this,{type:PI,string:YY(i),index:0})},function(){var t=UY(this),e=t.string,r=t.index,n;return r>=e.length?Fw(void 0,!0):(n=XY(e,r),t.index+=n.length,Fw(n,!1))});var qY=ru,GY=qY.f("iterator"),HY=GY,TI=HY,KY=TI,JY=KY,e3=JY,t3=e3;(function(i){i.exports=t3})(NY);(function(i){i.exports=em})(DY);var r3=ae(Fc);function Dt(i){"@babel/helpers - typeof";return Dt=typeof ea=="function"&&typeof r3=="symbol"?function(t){return typeof t}:function(t){return t&&typeof ea=="function"&&t.constructor===ea&&t!==ea.prototype?"symbol":typeof t},Dt(i)}var tm={},i3={get exports(){return tm},set exports(i){tm=i}},rm={},n3={get exports(){return rm},set exports(i){rm=i}},s3=ru,a3=s3.f("toPrimitive"),o3=a3,l3=o3,u3=l3,h3=u3,c3=h3,d3=c3;(function(i){i.exports=d3})(n3);(function(i){i.exports=rm})(i3);var f3=ae(tm);function p3(i,t){if(Dt(i)!=="object"||i===null)return i;var e=i[f3];if(e!==void 0){var r=e.call(i,t||"default");if(Dt(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function _I(i){var t=p3(i,"string");return Dt(t)==="symbol"?t:String(t)}function jw(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),zd(i,_I(r.key),r)}}function Jd(i,t,e){return t&&jw(i.prototype,t),e&&jw(i,e),zd(i,"prototype",{writable:!1}),i}function rt(i,t,e){return t=_I(t),t in i?zd(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var im={},v3={get exports(){return im},set exports(i){im=i}},EI=Ce,g3=fr,m3=Tt,O3=pt,Xw=nu,y3=Xl,CI=Function,b3=EI([].concat),$3=EI([].join),gp={},w3=function(i,t,e){if(!O3(gp,t)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";gp[t]=CI("C,a","return new C("+$3(r,",")+")")}return gp[t](i,e)},II=y3?CI.bind:function(t){var e=g3(this),r=e.prototype,n=Xw(arguments,1),s=function(){var o=b3(n,Xw(arguments));return this instanceof s?w3(e,o.length,o):e.apply(t,o)};return m3(r)&&(s.prototype=r),s},S3=K,Yw=II;S3({target:"Function",proto:!0,forced:Function.bind!==Yw},{bind:Yw});var x3=Ne,vt=function(i){return x3[i+"Prototype"]},k3=vt,P3=k3("Function").bind,T3=We,_3=P3,mp=Function.prototype,E3=function(i){var t=i.bind;return i===mp||T3(mp,i)&&t===mp.bind?_3:t},C3=E3,QI=C3;(function(i){i.exports=QI})(v3);var AI=ae(im),nm={},I3={get exports(){return nm},set exports(i){nm=i}},Q3=fr,A3=pr,R3=Bd,M3=xr,D3=TypeError,Ww=function(i){return function(t,e,r,n){Q3(e);var s=A3(t),a=R3(s),o=M3(s),l=i?o-1:0,u=i?-1:1;if(r<2)for(;;){if(l in a){n=a[l],l+=u;break}if(l+=u,i?l<0:o<=l)throw D3("Reduce of empty array with no initial value")}for(;i?l>=0:o>l;l+=u)l in a&&(n=e(n,a[l],l,s));return n}},N3={left:Ww(!1),right:Ww(!0)},B3=Oe,au=function(i,t){var e=[][i];return!!e&&B3(function(){e.call(null,t||function(){return 1},1)})},Z3=Vi,ou=typeof process<"u"&&Z3(process)=="process",L3=K,z3=N3.left,F3=au,Vw=qa,j3=ou,X3=!j3&&Vw>79&&Vw<83,Y3=X3||!F3("reduce");L3({target:"Array",proto:!0,forced:Y3},{reduce:function(t){var e=arguments.length;return z3(this,t,e,e>1?arguments[1]:void 0)}});var W3=vt,V3=W3("Array").reduce,U3=We,q3=V3,Op=Array.prototype,G3=function(i){var t=i.reduce;return i===Op||U3(Op,i)&&t===Op.reduce?q3:t},H3=G3,K3=H3;(function(i){i.exports=K3})(I3);var J3=ae(nm),sm={},eW={get exports(){return sm},set exports(i){sm=i}},tW=K,rW=to.filter,iW=Gl,nW=iW("filter");tW({target:"Array",proto:!0,forced:!nW},{filter:function(t){return rW(this,t,arguments.length>1?arguments[1]:void 0)}});var sW=vt,aW=sW("Array").filter,oW=We,lW=aW,yp=Array.prototype,uW=function(i){var t=i.filter;return i===yp||oW(yp,i)&&t===yp.filter?lW:t},hW=uW,cW=hW;(function(i){i.exports=cW})(eW);var ta=ae(sm),am={},dW={get exports(){return am},set exports(i){am=i}},fW=K,pW=to.map,vW=Gl,gW=vW("map");fW({target:"Array",proto:!0,forced:!gW},{map:function(t){return pW(this,t,arguments.length>1?arguments[1]:void 0)}});var mW=vt,OW=mW("Array").map,yW=We,bW=OW,bp=Array.prototype,$W=function(i){var t=i.map;return i===bp||yW(bp,i)&&t===bp.map?bW:t},wW=$W,SW=wW;(function(i){i.exports=SW})(dW);var Xr=ae(am),Uw={},xW={get exports(){return Uw},set exports(i){Uw=i}},kW=Mn,PW=xr,TW=P$,_W=Rn,RI=function(i,t,e,r,n,s,a,o){for(var l=n,u=0,h=a?_W(a,o):!1,c,d;u<r;)u in e&&(c=h?h(e[u],u,t):e[u],s>0&&kW(c)?(d=PW(c),l=RI(i,t,c,d,l,s-1)-1):(TW(l+1),i[l]=c),l++),u++;return l},EW=RI,CW=K,IW=EW,QW=fr,AW=pr,RW=xr,MW=Xd;CW({target:"Array",proto:!0},{flatMap:function(t){var e=AW(this),r=RW(e),n;return QW(t),n=MW(e,0),n.length=IW(n,e,e,r,0,1,t,arguments.length>1?arguments[1]:void 0),n}});var DW=vt,NW=DW("Array").flatMap,BW=We,ZW=NW,$p=Array.prototype,LW=function(i){var t=i.flatMap;return i===$p||BW($p,i)&&t===$p.flatMap?ZW:t},zW=LW,FW=zW;(function(i){i.exports=FW})(xW);var om={},jW={get exports(){return om},set exports(i){om=i}},XW=Pt,qw=Sr,YW=S$,MI=function(i,t,e){var r,n;qw(i);try{if(r=YW(i,"return"),!r){if(t==="throw")throw e;return e}r=XW(r,i)}catch(s){n=!0,r=s}if(t==="throw")throw e;if(n)throw r;return qw(r),e},WW=Sr,VW=MI,UW=function(i,t,e,r){try{return r?t(WW(e)[0],e[1]):t(e)}catch(n){VW(i,"throw",n)}},qW=Ve,GW=ro,HW=qW("iterator"),KW=Array.prototype,DI=function(i){return i!==void 0&&(GW.Array===i||KW[HW]===i)},JW=qi,Gw=S$,e4=Wl,t4=ro,r4=Ve,i4=r4("iterator"),ef=function(i){if(!e4(i))return Gw(i,i4)||Gw(i,"@@iterator")||t4[JW(i)]},n4=Pt,s4=fr,a4=Sr,o4=Ha,l4=ef,u4=TypeError,F$=function(i,t){var e=arguments.length<2?l4(i):t;if(s4(e))return a4(n4(e,i));throw u4(o4(i)+" is not iterable")},h4=Rn,c4=Pt,d4=pr,f4=UW,p4=DI,v4=jd,g4=xr,Hw=Ka,m4=F$,O4=ef,Kw=Array,y4=function(t){var e=d4(t),r=v4(this),n=arguments.length,s=n>1?arguments[1]:void 0,a=s!==void 0;a&&(s=h4(s,n>2?arguments[2]:void 0));var o=O4(e),l=0,u,h,c,d,f,p;if(o&&!(this===Kw&&p4(o)))for(d=m4(e,o),f=d.next,h=r?new this:[];!(c=c4(f,d)).done;l++)p=a?f4(d,s,[c.value,l],!0):c.value,Hw(h,l,p);else for(u=g4(e),h=r?new this(u):Kw(u);u>l;l++)p=a?s(e[l],l):e[l],Hw(h,l,p);return h.length=l,h},b4=Ve,NI=b4("iterator"),BI=!1;try{var $4=0,Jw={next:function(){return{done:!!$4++}},return:function(){BI=!0}};Jw[NI]=function(){return this},Array.from(Jw,function(){throw 2})}catch{}var ZI=function(i,t){if(!t&&!BI)return!1;var e=!1;try{var r={};r[NI]=function(){return{next:function(){return{done:e=!0}}}},i(r)}catch{}return e},w4=K,S4=y4,x4=ZI,k4=!x4(function(i){Array.from(i)});w4({target:"Array",stat:!0,forced:k4},{from:S4});var P4=Ne,T4=P4.Array.from,_4=T4,LI=_4;(function(i){i.exports=LI})(jW);var j$=ae(om),lm={},E4={get exports(){return lm},set exports(i){lm=i}},um={},C4={get exports(){return um},set exports(i){um=i}},I4=ef,Q4=I4,A4=Q4,R4=A4,M4=R4,D4=M4,N4=D4,B4=N4;(function(i){i.exports=B4})(C4);(function(i){i.exports=um})(E4);var lu=ae(lm),hm={},Z4={get exports(){return hm},set exports(i){hm=i}},L4=Ne,z4=L4.Object.getOwnPropertySymbols,F4=z4,j4=F4;(function(i){i.exports=j4})(Z4);var eS=ae(hm),cm={},X4={get exports(){return cm},set exports(i){cm=i}},dm={},Y4={get exports(){return dm},set exports(i){dm=i}},W4=K,V4=Oe,U4=Jr,zI=ks.f,FI=yt,q4=!FI||V4(function(){zI(1)});W4({target:"Object",stat:!0,forced:q4,sham:!FI},{getOwnPropertyDescriptor:function(t,e){return zI(U4(t),e)}});var G4=Ne,jI=G4.Object,H4=Y4.exports=function(t,e){return jI.getOwnPropertyDescriptor(t,e)};jI.getOwnPropertyDescriptor.sham&&(H4.sham=!0);var K4=dm,J4=K4;(function(i){i.exports=J4})(X4);var XI=ae(cm),fm={},eV={get exports(){return fm},set exports(i){fm=i}},tV=er,rV=Ce,iV=eu,nV=tu,sV=Sr,aV=rV([].concat),X$=tV("Reflect","ownKeys")||function(t){var e=iV.f(sV(t)),r=nV.f;return r?aV(e,r(t)):e},oV=K,lV=yt,uV=X$,hV=Jr,cV=ks,dV=Ka;oV({target:"Object",stat:!0,sham:!lV},{getOwnPropertyDescriptors:function(t){for(var e=hV(t),r=cV.f,n=uV(e),s={},a=0,o,l;n.length>a;)l=r(e,o=n[a++]),l!==void 0&&dV(s,o,l);return s}});var fV=Ne,pV=fV.Object.getOwnPropertyDescriptors,vV=pV,gV=vV;(function(i){i.exports=gV})(eV);var tS=ae(fm),pm={},mV={get exports(){return pm},set exports(i){pm=i}},vm={},OV={get exports(){return vm},set exports(i){vm=i}},yV=K,bV=yt,rS=Yd.f;yV({target:"Object",stat:!0,forced:Object.defineProperties!==rS,sham:!bV},{defineProperties:rS});var $V=Ne,YI=$V.Object,wV=OV.exports=function(t,e){return YI.defineProperties(t,e)};YI.defineProperties.sham&&(wV.sham=!0);var SV=vm,xV=SV;(function(i){i.exports=xV})(mV);var kV=ae(pm),gm={},PV={get exports(){return gm},set exports(i){gm=i}};(function(i){i.exports=EC})(PV);var TV=ae(gm),mm={},_V={get exports(){return mm},set exports(i){mm=i}},Om={},EV={get exports(){return Om},set exports(i){Om=i}},CV=K,IV=Mn;CV({target:"Array",stat:!0},{isArray:IV});var QV=Ne,AV=QV.Array.isArray,RV=AV,WI=RV,MV=WI,DV=MV,NV=DV,BV=NV;(function(i){i.exports=BV})(EV);(function(i){i.exports=Om})(_V);var VI=ae(mm);function ZV(i){if(VI(i))return i}function LV(i,t){var e=i==null?null:typeof ea<"u"&&lu(i)||i["@@iterator"];if(e!=null){var r,n,s,a,o=[],l=!0,u=!1;try{if(s=(e=e.call(i)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=s.call(e)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(h){u=!0,n=h}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw n}}return o}}var jc={},zV={get exports(){return jc},set exports(i){jc=i}},ym={},FV={get exports(){return ym},set exports(i){ym=i}},jV=K,iS=Mn,XV=jd,YV=Tt,nS=Hl,WV=xr,VV=Jr,UV=Ka,qV=Ve,GV=Gl,HV=nu,KV=GV("slice"),JV=qV("species"),wp=Array,eU=Math.max;jV({target:"Array",proto:!0,forced:!KV},{slice:function(t,e){var r=VV(this),n=WV(r),s=nS(t,n),a=nS(e===void 0?n:e,n),o,l,u;if(iS(r)&&(o=r.constructor,XV(o)&&(o===wp||iS(o.prototype))?o=void 0:YV(o)&&(o=o[JV],o===null&&(o=void 0)),o===wp||o===void 0))return HV(r,s,a);for(l=new(o===void 0?wp:o)(eU(a-s,0)),u=0;s<a;s++,u++)s in r&&UV(l,u,r[s]);return l.length=u,l}});var tU=vt,rU=tU("Array").slice,iU=We,nU=rU,Sp=Array.prototype,sU=function(i){var t=i.slice;return i===Sp||iU(Sp,i)&&t===Sp.slice?nU:t},aU=sU,UI=aU,oU=UI,lU=oU,uU=lU,hU=uU;(function(i){i.exports=hU})(FV);(function(i){i.exports=ym})(zV);var cU=ae(jc),bm={},dU={get exports(){return bm},set exports(i){bm=i}},$m={},fU={get exports(){return $m},set exports(i){$m=i}},pU=LI,vU=pU,gU=vU,mU=gU;(function(i){i.exports=mU})(fU);(function(i){i.exports=$m})(dU);var qI=ae(bm);function wm(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}function GI(i,t){var e;if(i){if(typeof i=="string")return wm(i,t);var r=cU(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return qI(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wm(i,t)}}function OU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(i,t){return ZV(i)||LV(i,t)||GI(i,t)||OU()}function yU(i){if(VI(i))return wm(i)}function bU(i){if(typeof ea<"u"&&lu(i)!=null||i["@@iterator"]!=null)return qI(i)}function $U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(i){return yU(i)||bU(i)||GI(i)||$U()}var Sm={},wU={get exports(){return Sm},set exports(i){Sm=i}};(function(i){i.exports=$I})(wU);var tf=ae(Sm),xm={},SU={get exports(){return xm},set exports(i){xm=i}},xU=vt,kU=xU("Array").concat,PU=We,TU=kU,xp=Array.prototype,_U=function(i){var t=i.concat;return i===xp||PU(xp,i)&&t===xp.concat?TU:t},EU=_U,CU=EU;(function(i){i.exports=CU})(SU);var rf=ae(xm),km={},IU={get exports(){return km},set exports(i){km=i}};(function(i){i.exports=UI})(IU);var nf=ae(km),Pm={},QU={get exports(){return Pm},set exports(i){Pm=i}},AU=K,RU=X$;AU({target:"Reflect",stat:!0},{ownKeys:RU});var MU=Ne,DU=MU.Reflect.ownKeys,NU=DU,BU=NU;(function(i){i.exports=BU})(QU);var ZU=ae(Pm),Tm={},LU={get exports(){return Tm},set exports(i){Tm=i}};(function(i){i.exports=WI})(LU);var yr=ae(Tm),_m={},zU={get exports(){return _m},set exports(i){_m=i}},FU=K,jU=pr,HI=Jl,XU=Oe,YU=XU(function(){HI(1)});FU({target:"Object",stat:!0,forced:YU},{keys:function(t){return HI(jU(t))}});var WU=Ne,VU=WU.Object.keys,UU=VU,qU=UU;(function(i){i.exports=qU})(zU);var Y$=ae(_m),sS={},GU={get exports(){return sS},set exports(i){sS=i}},HU=K,KU=Ce,KI=Date,JU=KU(KI.prototype.getTime);HU({target:"Date",stat:!0},{now:function(){return JU(new KI)}});var e9=Ne,t9=e9.Date.now,r9=t9,i9=r9;(function(i){i.exports=i9})(GU);var Em={},n9={get exports(){return Em},set exports(i){Em=i}},s9=to.forEach,a9=au,o9=a9("forEach"),l9=o9?[].forEach:function(t){return s9(this,t,arguments.length>1?arguments[1]:void 0)},u9=K,aS=l9;u9({target:"Array",proto:!0,forced:[].forEach!=aS},{forEach:aS});var h9=vt,c9=h9("Array").forEach,d9=c9,f9=d9,p9=qi,v9=pt,g9=We,m9=f9,kp=Array.prototype,O9={DOMTokenList:!0,NodeList:!0},JI=function(i){var t=i.forEach;return i===kp||g9(kp,i)&&t===kp.forEach||v9(O9,p9(i))?m9:t};(function(i){i.exports=JI})(n9);var fs=ae(Em),Cm={},y9={get exports(){return Cm},set exports(i){Cm=i}},b9=K,$9=Ce,w9=Mn,S9=$9([].reverse),oS=[1,2];b9({target:"Array",proto:!0,forced:String(oS)===String(oS.reverse())},{reverse:function(){return w9(this)&&(this.length=this.length),S9(this)}});var x9=vt,k9=x9("Array").reverse,P9=We,T9=k9,Pp=Array.prototype,_9=function(i){var t=i.reverse;return i===Pp||P9(Pp,i)&&t===Pp.reverse?T9:t},E9=_9,eQ=E9;(function(i){i.exports=eQ})(y9);var C9=ae(Cm),Im={},I9={get exports(){return Im},set exports(i){Im=i}},Q9=yt,A9=Mn,R9=TypeError,M9=Object.getOwnPropertyDescriptor,D9=Q9&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(i){return i instanceof TypeError}}(),N9=D9?function(i,t){if(A9(i)&&!M9(i,"length").writable)throw R9("Cannot set read only .length");return i.length=t}:function(i,t){return i.length=t},lS=Ha,B9=TypeError,tQ=function(i,t){if(!delete i[t])throw B9("Cannot delete property "+lS(t)+" of "+lS(i))},Z9=K,L9=pr,z9=Hl,F9=Fd,j9=xr,X9=N9,Y9=P$,W9=Xd,V9=Ka,Tp=tQ,U9=Gl,q9=U9("splice"),G9=Math.max,H9=Math.min;Z9({target:"Array",proto:!0,forced:!q9},{splice:function(t,e){var r=L9(this),n=j9(r),s=z9(t,n),a=arguments.length,o,l,u,h,c,d;for(a===0?o=l=0:a===1?(o=0,l=n-s):(o=a-2,l=H9(G9(F9(e),0),n-s)),Y9(n+o-l),u=W9(r,l),h=0;h<l;h++)c=s+h,c in r&&V9(u,h,r[c]);if(u.length=l,o<l){for(h=s;h<n-l;h++)c=h+l,d=h+o,c in r?r[d]=r[c]:Tp(r,d);for(h=n;h>n-l+o;h--)Tp(r,h-1)}else if(o>l)for(h=n-l;h>s;h--)c=h+l-1,d=h+o-1,c in r?r[d]=r[c]:Tp(r,d);for(h=0;h<o;h++)r[h+s]=arguments[h+2];return X9(r,n-l+o),u}});var K9=vt,J9=K9("Array").splice,eq=We,tq=J9,_p=Array.prototype,rq=function(i){var t=i.splice;return i===_p||eq(_p,i)&&t===_p.splice?tq:t},iq=rq,nq=iq;(function(i){i.exports=nq})(I9);var rQ=ae(Im),Qm={},sq={get exports(){return Qm},set exports(i){Qm=i}},uS=yt,aq=Ce,oq=Pt,lq=Oe,Ep=Jl,uq=tu,hq=Yl,cq=pr,dq=Bd,js=Object.assign,hS=Object.defineProperty,fq=aq([].concat),pq=!js||lq(function(){if(uS&&js({b:1},js(hS({},"a",{enumerable:!0,get:function(){hS(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return i[e]=7,r.split("").forEach(function(n){t[n]=n}),js({},i)[e]!=7||Ep(js({},t)).join("")!=r})?function(t,e){for(var r=cq(t),n=arguments.length,s=1,a=uq.f,o=hq.f;n>s;)for(var l=dq(arguments[s++]),u=a?fq(Ep(l),a(l)):Ep(l),h=u.length,c=0,d;h>c;)d=u[c++],(!uS||oq(o,l,d))&&(r[d]=l[d]);return r}:js,vq=K,cS=pq;vq({target:"Object",stat:!0,arity:2,forced:Object.assign!==cS},{assign:cS});var gq=Ne,mq=gq.Object.assign,Oq=mq,yq=Oq;(function(i){i.exports=yq})(sq);var bq=ae(Qm),dS={},$q={get exports(){return dS},set exports(i){dS=i}},wq=K,Sq=E$.includes,xq=Oe,kq=xq(function(){return!Array(1).includes()});wq({target:"Array",proto:!0,forced:kq},{includes:function(t){return Sq(this,t,arguments.length>1?arguments[1]:void 0)}});var Pq=vt,Tq=Pq("Array").includes,_q=Tt,Eq=Vi,Cq=Ve,Iq=Cq("match"),Qq=function(i){var t;return _q(i)&&((t=i[Iq])!==void 0?!!t:Eq(i)=="RegExp")},Aq=Qq,Rq=TypeError,Mq=function(i){if(Aq(i))throw Rq("The method doesn't accept regular expressions");return i},Dq=Ve,Nq=Dq("match"),Bq=function(i){var t=/./;try{"/./"[i](t)}catch{try{return t[Nq]=!1,"/./"[i](t)}catch{}}return!1},Zq=K,Lq=Ce,zq=Mq,Fq=Vl,fS=Si,jq=Bq,Xq=Lq("".indexOf);Zq({target:"String",proto:!0,forced:!jq("includes")},{includes:function(t){return!!~Xq(fS(Fq(this)),fS(zq(t)),arguments.length>1?arguments[1]:void 0)}});var Yq=vt,Wq=Yq("String").includes,pS=We,Vq=Tq,Uq=Wq,Cp=Array.prototype,Ip=String.prototype,qq=function(i){var t=i.includes;return i===Cp||pS(Cp,i)&&t===Cp.includes?Vq:typeof i=="string"||i===Ip||pS(Ip,i)&&t===Ip.includes?Uq:t},Gq=qq,Hq=Gq;(function(i){i.exports=Hq})($q);var vS={},Kq={get exports(){return vS},set exports(i){vS=i}},Jq=K,e7=Oe,t7=pr,iQ=Kd,r7=vI,i7=e7(function(){iQ(1)});Jq({target:"Object",stat:!0,forced:i7,sham:!r7},{getPrototypeOf:function(t){return iQ(t7(t))}});var n7=Ne,s7=n7.Object.getPrototypeOf,a7=s7,nQ=a7;(function(i){i.exports=nQ})(Kq);var gS={},o7={get exports(){return gS},set exports(i){gS=i}},l7=yt,sQ=Ce,u7=Jl,h7=Jr,c7=Yl.f,d7=sQ(c7),f7=sQ([].push),mS=function(i){return function(t){for(var e=h7(t),r=u7(e),n=r.length,s=0,a=[],o;n>s;)o=r[s++],(!l7||d7(e,o))&&f7(a,i?[o,e[o]]:e[o]);return a}},p7={entries:mS(!0),values:mS(!1)},v7=K,g7=p7.values;v7({target:"Object",stat:!0},{values:function(t){return g7(t)}});var m7=Ne,O7=m7.Object.values,y7=O7,b7=y7;(function(i){i.exports=b7})(o7);var OS={},$7={get exports(){return OS},set exports(i){OS=i}},W$=`	
\v\f\r                　\u2028\u2029\uFEFF`,w7=Ce,S7=Vl,x7=Si,Am=W$,yS=w7("".replace),k7=RegExp("^["+Am+"]+"),P7=RegExp("(^|[^"+Am+"])["+Am+"]+$"),Qp=function(i){return function(t){var e=x7(S7(t));return i&1&&(e=yS(e,k7,"")),i&2&&(e=yS(e,P7,"$1")),e}},aQ={start:Qp(1),end:Qp(2),trim:Qp(3)},oQ=Ge,T7=Oe,_7=Ce,E7=Si,C7=aQ.trim,bS=W$,Yo=oQ.parseInt,$S=oQ.Symbol,wS=$S&&$S.iterator,lQ=/^[+-]?0x/i,I7=_7(lQ.exec),Q7=Yo(bS+"08")!==8||Yo(bS+"0x16")!==22||wS&&!T7(function(){Yo(Object(wS))}),A7=Q7?function(t,e){var r=C7(E7(t));return Yo(r,e>>>0||(I7(lQ,r)?16:10))}:Yo,R7=K,SS=A7;R7({global:!0,forced:parseInt!=SS},{parseInt:SS});var M7=Ne,D7=M7.parseInt,N7=D7,B7=N7;(function(i){i.exports=B7})($7);var xS={},Z7={get exports(){return xS},set exports(i){xS=i}},L7=K,z7=w$,F7=E$.indexOf,j7=au,Rm=z7([].indexOf),uQ=!!Rm&&1/Rm([1],1,-0)<0,X7=uQ||!j7("indexOf");L7({target:"Array",proto:!0,forced:X7},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return uQ?Rm(this,t,e)||0:F7(this,t,e)}});var Y7=vt,W7=Y7("Array").indexOf,V7=We,U7=W7,Ap=Array.prototype,q7=function(i){var t=i.indexOf;return i===Ap||V7(Ap,i)&&t===Ap.indexOf?U7:t},G7=q7,H7=G7;(function(i){i.exports=H7})(Z7);var kS={},K7={get exports(){return kS},set exports(i){kS=i}},J7=pI.PROPER,e8=Oe,PS=W$,TS="​᠎",t8=function(i){return e8(function(){return!!PS[i]()||TS[i]()!==TS||J7&&PS[i].name!==i})},r8=K,i8=aQ.trim,n8=t8;r8({target:"String",proto:!0,forced:n8("trim")},{trim:function(){return i8(this)}});var s8=vt,a8=s8("String").trim,o8=We,l8=a8,Rp=String.prototype,u8=function(i){var t=i.trim;return typeof i=="string"||i===Rp||o8(Rp,i)&&t===Rp.trim?l8:t},h8=u8,c8=h8;(function(i){i.exports=c8})(K7);var Mm={},d8={get exports(){return Mm},set exports(i){Mm=i}},f8=K,p8=yt,v8=Ts;f8({target:"Object",stat:!0,sham:!p8},{create:v8});var g8=Ne,m8=g8.Object,O8=function(t,e){return m8.create(t,e)},y8=O8,hQ=y8;(function(i){i.exports=hQ})(d8);var b8=ae(Mm),Dm={},$8={get exports(){return Dm},set exports(i){Dm=i}},Nm=Ne,w8=Ua;Nm.JSON||(Nm.JSON={stringify:JSON.stringify});var S8=function(t,e,r){return w8(Nm.JSON.stringify,null,arguments)},x8=S8,k8=x8;(function(i){i.exports=k8})($8);var P8=ae(Dm),Bm={},T8={get exports(){return Bm},set exports(i){Bm=i}},_8=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",E8=TypeError,cQ=function(i,t){if(i<t)throw E8("Not enough arguments");return i},dQ=Ge,C8=Ua,I8=He,Q8=_8,A8=An,R8=nu,M8=cQ,D8=dQ.Function,N8=/MSIE .\./.test(A8)||Q8&&function(){var i=dQ.Bun.version.split(".");return i.length<3||i[0]==0&&(i[1]<3||i[1]==3&&i[2]==0)}(),fQ=function(i,t){var e=t?2:1;return N8?function(r,n){var s=M8(arguments.length,1)>e,a=I8(r)?r:D8(r),o=s?R8(arguments,e):[],l=s?function(){C8(a,this,o)}:a;return t?i(l,n):i(l)}:i},B8=K,pQ=Ge,Z8=fQ,_S=Z8(pQ.setInterval,!0);B8({global:!0,bind:!0,forced:pQ.setInterval!==_S},{setInterval:_S});var L8=K,vQ=Ge,z8=fQ,ES=z8(vQ.setTimeout,!0);L8({global:!0,bind:!0,forced:vQ.setTimeout!==ES},{setTimeout:ES});var F8=Ne,j8=F8.setTimeout;(function(i){i.exports=j8})(T8);var X8=ae(Bm),CS={},Y8={get exports(){return CS},set exports(i){CS=i}},W8=pr,IS=Hl,V8=xr,U8=function(t){for(var e=W8(this),r=V8(e),n=arguments.length,s=IS(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,o=a===void 0?r:IS(a,r);o>s;)e[s++]=t;return e},q8=K,G8=U8;q8({target:"Array",proto:!0},{fill:G8});var H8=vt,K8=H8("Array").fill,J8=We,e6=K8,Mp=Array.prototype,t6=function(i){var t=i.fill;return i===Mp||J8(Mp,i)&&t===Mp.fill?e6:t},r6=t6,i6=r6;(function(i){i.exports=i6})(Y8);var Zm={},n6={get exports(){return Zm},set exports(i){Zm=i}};(function(i){i.exports=t;function t(r){if(r)return e(r)}function e(r){for(var n in t.prototype)r[n]=t.prototype[n];return r}t.prototype.on=t.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},t.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===n||a.fn===n){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,n)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(n6);var s6=Zm;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Hr(){return Hr=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Hr.apply(this,arguments)}function Br(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t}function uh(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Lm;typeof Object.assign!="function"?Lm=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Lm=Object.assign;var ps=Lm,QS=["","webkit","Moz","MS","ms","o"],a6=typeof document>"u"?{style:{}}:document.createElement("div"),o6="function",ra=Math.round,vs=Math.abs,V$=Date.now;function sf(i,t){for(var e,r,n=t[0].toUpperCase()+t.slice(1),s=0;s<QS.length;){if(e=QS[s],r=e?e+n:t,r in i)return r;s++}}var Ii;typeof window>"u"?Ii={}:Ii=window;var gQ=sf(a6.style,"touchAction"),mQ=gQ!==void 0;function l6(){if(!mQ)return!1;var i={},t=Ii.CSS&&Ii.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return i[e]=t?Ii.CSS.supports("touch-action",e):!0}),i}var OQ="compute",yQ="auto",zm="manipulation",ss="none",fl="pan-x",pl="pan-y",hh=l6(),u6=/mobile|tablet|ip(ad|hone|od)|android/i,bQ="ontouchstart"in Ii,h6=sf(Ii,"PointerEvent")!==void 0,c6=bQ&&u6.test(navigator.userAgent),uu="touch",d6="pen",U$="mouse",f6="kinect",p6=25,Kt=1,Es=2,ct=4,hr=8,Xc=1,hu=2,cu=4,du=8,Sa=16,mi=hu|cu,as=du|Sa,$Q=mi|as,wQ=["x","y"],Yc=["clientX","clientY"];function Qi(i,t,e){var r;if(i)if(i.forEach)i.forEach(t,e);else if(i.length!==void 0)for(r=0;r<i.length;)t.call(e,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&t.call(e,i[r],r,i)}function af(i,t){return typeof i===o6?i.apply(t&&t[0]||void 0,t):i}function Kn(i,t){return i.indexOf(t)>-1}function v6(i){if(Kn(i,ss))return ss;var t=Kn(i,fl),e=Kn(i,pl);return t&&e?ss:t||e?t?fl:pl:Kn(i,zm)?zm:yQ}var SQ=function(){function i(e,r){this.manager=e,this.set(r)}var t=i.prototype;return t.set=function(r){r===OQ&&(r=this.compute()),mQ&&this.manager.element.style&&hh[r]&&(this.manager.element.style[gQ]=r),this.actions=r.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var r=[];return Qi(this.manager.recognizers,function(n){af(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),v6(r.join(" "))},t.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var a=this.actions,o=Kn(a,ss)&&!hh[ss],l=Kn(a,pl)&&!hh[pl],u=Kn(a,fl)&&!hh[fl];if(o){var h=r.pointers.length===1,c=r.distance<2,d=r.deltaTime<250;if(h&&c&&d)return}if(!(u&&l)&&(o||l&&s&mi||u&&s&as))return this.preventSrc(n)},t.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function q$(i,t){for(;i;){if(i===t)return!0;i=i.parentNode}return!1}function xQ(i){var t=i.length;if(t===1)return{x:ra(i[0].clientX),y:ra(i[0].clientY)};for(var e=0,r=0,n=0;n<t;)e+=i[n].clientX,r+=i[n].clientY,n++;return{x:ra(e/t),y:ra(r/t)}}function AS(i){for(var t=[],e=0;e<i.pointers.length;)t[e]={clientX:ra(i.pointers[e].clientX),clientY:ra(i.pointers[e].clientY)},e++;return{timeStamp:V$(),pointers:t,center:xQ(t),deltaX:i.deltaX,deltaY:i.deltaY}}function Wc(i,t,e){e||(e=wQ);var r=t[e[0]]-i[e[0]],n=t[e[1]]-i[e[1]];return Math.sqrt(r*r+n*n)}function Fm(i,t,e){e||(e=wQ);var r=t[e[0]]-i[e[0]],n=t[e[1]]-i[e[1]];return Math.atan2(n,r)*180/Math.PI}function kQ(i,t){return i===t?Xc:vs(i)>=vs(t)?i<0?hu:cu:t<0?du:Sa}function g6(i,t){var e=t.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(t.eventType===Kt||s.eventType===ct)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-r.x),t.deltaY=n.y+(e.y-r.y)}function PQ(i,t,e){return{x:t/i||0,y:e/i||0}}function m6(i,t){return Wc(t[0],t[1],Yc)/Wc(i[0],i[1],Yc)}function O6(i,t){return Fm(t[1],t[0],Yc)+Fm(i[1],i[0],Yc)}function y6(i,t){var e=i.lastInterval||t,r=t.timeStamp-e.timeStamp,n,s,a,o;if(t.eventType!==hr&&(r>p6||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,h=PQ(r,l,u);s=h.x,a=h.y,n=vs(h.x)>vs(h.y)?h.x:h.y,o=kQ(l,u),i.lastInterval=t}else n=e.velocity,s=e.velocityX,a=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=s,t.velocityY=a,t.direction=o}function b6(i,t){var e=i.session,r=t.pointers,n=r.length;e.firstInput||(e.firstInput=AS(t)),n>1&&!e.firstMultiple?e.firstMultiple=AS(t):n===1&&(e.firstMultiple=!1);var s=e.firstInput,a=e.firstMultiple,o=a?a.center:s.center,l=t.center=xQ(r);t.timeStamp=V$(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=Fm(o,l),t.distance=Wc(o,l),g6(e,t),t.offsetDirection=kQ(t.deltaX,t.deltaY);var u=PQ(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=vs(u.x)>vs(u.y)?u.x:u.y,t.scale=a?m6(a.pointers,r):1,t.rotation=a?O6(a.pointers,r):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,y6(e,t);var h=i.element,c=t.srcEvent,d;c.composedPath?d=c.composedPath()[0]:c.path?d=c.path[0]:d=c.target,q$(d,h)&&(h=d),t.target=h}function $6(i,t,e){var r=e.pointers.length,n=e.changedPointers.length,s=t&Kt&&r-n===0,a=t&(ct|hr)&&r-n===0;e.isFirst=!!s,e.isFinal=!!a,s&&(i.session={}),e.eventType=t,b6(i,e),i.emit("hammer.input",e),i.recognize(e),i.session.prevInput=e}function vl(i){return i.trim().split(/\s+/g)}function Wo(i,t,e){Qi(vl(t),function(r){i.addEventListener(r,e,!1)})}function Vo(i,t,e){Qi(vl(t),function(r){i.removeEventListener(r,e,!1)})}function RS(i){var t=i.ownerDocument||i;return t.defaultView||t.parentWindow||window}var io=function(){function i(e,r){var n=this;this.manager=e,this.callback=r,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){af(e.options.enable,[e])&&n.handler(s)},this.init()}var t=i.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Wo(this.element,this.evEl,this.domHandler),this.evTarget&&Wo(this.target,this.evTarget,this.domHandler),this.evWin&&Wo(RS(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Vo(this.element,this.evEl,this.domHandler),this.evTarget&&Vo(this.target,this.evTarget,this.domHandler),this.evWin&&Vo(RS(this.element),this.evWin,this.domHandler)},i}();function gs(i,t,e){if(i.indexOf&&!e)return i.indexOf(t);for(var r=0;r<i.length;){if(e&&i[r][e]==t||!e&&i[r]===t)return r;r++}return-1}var w6={pointerdown:Kt,pointermove:Es,pointerup:ct,pointercancel:hr,pointerout:hr},S6={2:uu,3:d6,4:U$,5:f6},TQ="pointerdown",_Q="pointermove pointerup pointercancel";Ii.MSPointerEvent&&!Ii.PointerEvent&&(TQ="MSPointerDown",_Q="MSPointerMove MSPointerUp MSPointerCancel");var EQ=function(i){Br(t,i);function t(){var r,n=t.prototype;return n.evEl=TQ,n.evWin=_Q,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var e=t.prototype;return e.handler=function(n){var s=this.store,a=!1,o=n.type.toLowerCase().replace("ms",""),l=w6[o],u=S6[n.pointerType]||n.pointerType,h=u===uu,c=gs(s,n.pointerId,"pointerId");l&Kt&&(n.button===0||h)?c<0&&(s.push(n),c=s.length-1):l&(ct|hr)&&(a=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,l,{pointers:s,changedPointers:[n],pointerType:u,srcEvent:n}),a&&s.splice(c,1))},t}(io);function gl(i){return Array.prototype.slice.call(i,0)}function G$(i,t,e){for(var r=[],n=[],s=0;s<i.length;){var a=t?i[s][t]:i[s];gs(n,a)<0&&r.push(i[s]),n[s]=a,s++}return e&&(t?r=r.sort(function(o,l){return o[t]>l[t]}):r=r.sort()),r}var x6={touchstart:Kt,touchmove:Es,touchend:ct,touchcancel:hr},k6="touchstart touchmove touchend touchcancel",H$=function(i){Br(t,i);function t(){var r;return t.prototype.evTarget=k6,r=i.apply(this,arguments)||this,r.targetIds={},r}var e=t.prototype;return e.handler=function(n){var s=x6[n.type],a=P6.call(this,n,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:uu,srcEvent:n})},t}(io);function P6(i,t){var e=gl(i.touches),r=this.targetIds;if(t&(Kt|Es)&&e.length===1)return r[e[0].identifier]=!0,[e,e];var n,s,a=gl(i.changedTouches),o=[],l=this.target;if(s=e.filter(function(u){return q$(u.target,l)}),t===Kt)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<a.length;)r[a[n].identifier]&&o.push(a[n]),t&(ct|hr)&&delete r[a[n].identifier],n++;if(o.length)return[G$(s.concat(o),"identifier",!0),o]}var T6={mousedown:Kt,mousemove:Es,mouseup:ct},_6="mousedown",E6="mousemove mouseup",K$=function(i){Br(t,i);function t(){var r,n=t.prototype;return n.evEl=_6,n.evWin=E6,r=i.apply(this,arguments)||this,r.pressed=!1,r}var e=t.prototype;return e.handler=function(n){var s=T6[n.type];s&Kt&&n.button===0&&(this.pressed=!0),s&Es&&n.which!==1&&(s=ct),this.pressed&&(s&ct&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:U$,srcEvent:n}))},t}(io),C6=2500,MS=25;function DS(i){var t=i.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var o=n.indexOf(r);o>-1&&n.splice(o,1)};setTimeout(s,C6)}}function I6(i,t){i&Kt?(this.primaryTouch=t.changedPointers[0].identifier,DS.call(this,t)):i&(ct|hr)&&DS.call(this,t)}function Q6(i){for(var t=i.srcEvent.clientX,e=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(t-n.x),a=Math.abs(e-n.y);if(s<=MS&&a<=MS)return!0}return!1}var CQ=function(){var i=function(t){Br(e,t);function e(n,s){var a;return a=t.call(this,n,s)||this,a.handler=function(o,l,u){var h=u.pointerType===uu,c=u.pointerType===U$;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(h)I6.call(uh(uh(a)),l,u);else if(c&&Q6.call(uh(uh(a)),u))return;a.callback(o,l,u)}},a.touch=new H$(a.manager,a.handler),a.mouse=new K$(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=e.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(io);return i}();function A6(i){var t,e=i.options.inputClass;return e?t=e:h6?t=EQ:c6?t=H$:bQ?t=CQ:t=K$,new t(i,$6)}function ia(i,t,e){return Array.isArray(i)?(Qi(i,e[t],e),!0):!1}var sc=1,Rr=2,xa=4,On=8,Ai=On,ml=16,fi=32,R6=1;function M6(){return R6++}function ch(i,t){var e=t.manager;return e?e.get(i):i}function NS(i){return i&ml?"cancel":i&On?"end":i&xa?"move":i&Rr?"start":""}var fu=function(){function i(e){e===void 0&&(e={}),this.options=Hr({enable:!0},e),this.id=M6(),this.manager=null,this.state=sc,this.simultaneous={},this.requireFail=[]}var t=i.prototype;return t.set=function(r){return ps(this.options,r),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(r){if(ia(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=ch(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},t.dropRecognizeWith=function(r){return ia(r,"dropRecognizeWith",this)?this:(r=ch(r,this),delete this.simultaneous[r.id],this)},t.requireFailure=function(r){if(ia(r,"requireFailure",this))return this;var n=this.requireFail;return r=ch(r,this),gs(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},t.dropRequireFailure=function(r){if(ia(r,"dropRequireFailure",this))return this;r=ch(r,this);var n=gs(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},t.emit=function(r){var n=this,s=this.state;function a(o){n.manager.emit(o,r)}s<On&&a(n.options.event+NS(s)),a(n.options.event),r.additionalEvent&&a(r.additionalEvent),s>=On&&a(n.options.event+NS(s))},t.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=fi},t.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(fi|sc)))return!1;r++}return!0},t.recognize=function(r){var n=ps({},r);if(!af(this.options.enable,[this,n])){this.reset(),this.state=fi;return}this.state&(Ai|ml|fi)&&(this.state=sc),this.state=this.process(n),this.state&(Rr|xa|On|ml)&&this.tryEmit(n)},t.process=function(r){},t.getTouchAction=function(){},t.reset=function(){},i}(),jm=function(i){Br(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Hr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[zm]},e.process=function(n){var s=this,a=this.options,o=n.pointers.length===a.pointers,l=n.distance<a.threshold,u=n.deltaTime<a.time;if(this.reset(),n.eventType&Kt&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==ct)return this.failTimeout();var h=this.pTime?n.timeStamp-this.pTime<a.interval:!0,c=!this.pCenter||Wc(this.pCenter,n.center)<a.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!h?this.count=1:this.count+=1,this._input=n;var d=this.count%a.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ai,s.tryEmit()},a.interval),Rr):Ai}return fi},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=fi},this.options.interval),fi},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===Ai&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(fu),ka=function(i){Br(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Hr({pointers:1},r))||this}var e=t.prototype;return e.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},e.process=function(n){var s=this.state,a=n.eventType,o=s&(Rr|xa),l=this.attrTest(n);return o&&(a&hr||!l)?s|ml:o||l?a&ct?s|On:s&Rr?s|xa:Rr:fi},t}(fu);function IQ(i){return i===Sa?"down":i===du?"up":i===hu?"left":i===cu?"right":""}var J$=function(i){Br(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Hr({event:"pan",threshold:10,pointers:1,direction:$Q},r))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,s=[];return n&mi&&s.push(pl),n&as&&s.push(fl),s},e.directionTest=function(n){var s=this.options,a=!0,o=n.distance,l=n.direction,u=n.deltaX,h=n.deltaY;return l&s.direction||(s.direction&mi?(l=u===0?Xc:u<0?hu:cu,a=u!==this.pX,o=Math.abs(n.deltaX)):(l=h===0?Xc:h<0?du:Sa,a=h!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,a&&o>s.threshold&&l&s.direction},e.attrTest=function(n){return ka.prototype.attrTest.call(this,n)&&(this.state&Rr||!(this.state&Rr)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=IQ(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},t}(ka),QQ=function(i){Br(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Hr({event:"swipe",threshold:10,velocity:.3,direction:mi|as,pointers:1},r))||this}var e=t.prototype;return e.getTouchAction=function(){return J$.prototype.getTouchAction.call(this)},e.attrTest=function(n){var s=this.options.direction,a;return s&(mi|as)?a=n.overallVelocity:s&mi?a=n.overallVelocityX:s&as&&(a=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&vs(a)>this.options.velocity&&n.eventType&ct},e.emit=function(n){var s=IQ(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},t}(ka),AQ=function(i){Br(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Hr({event:"pinch",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[ss]},e.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Rr)},e.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},t}(ka),RQ=function(i){Br(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Hr({event:"rotate",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[ss]},e.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Rr)},t}(ka),MQ=function(i){Br(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Hr({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[yQ]},e.process=function(n){var s=this,a=this.options,o=n.pointers.length===a.pointers,l=n.distance<a.threshold,u=n.deltaTime>a.time;if(this._input=n,!l||!o||n.eventType&(ct|hr)&&!u)this.reset();else if(n.eventType&Kt)this.reset(),this._timer=setTimeout(function(){s.state=Ai,s.tryEmit()},a.time);else if(n.eventType&ct)return Ai;return fi},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===Ai&&(n&&n.eventType&ct?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=V$(),this.manager.emit(this.options.event,this._input)))},t}(fu),DQ={domEvents:!1,touchAction:OQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},BS=[[RQ,{enable:!1}],[AQ,{enable:!1},["rotate"]],[QQ,{direction:mi}],[J$,{direction:mi},["swipe"]],[jm],[jm,{event:"doubletap",taps:2},["tap"]],[MQ]],D6=1,ZS=2;function LS(i,t){var e=i.element;if(e.style){var r;Qi(i.options.cssProps,function(n,s){r=sf(e.style,s),t?(i.oldCssProps[r]=e.style[r],e.style[r]=n):e.style[r]=i.oldCssProps[r]||""}),t||(i.oldCssProps={})}}function N6(i,t){var e=document.createEvent("Event");e.initEvent(i,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var zS=function(){function i(e,r){var n=this;this.options=ps({},DQ,r||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=A6(this),this.touchAction=new SQ(this,this.options.touchAction),LS(this,!0),Qi(this.options.recognizers,function(s){var a=n.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var t=i.prototype;return t.set=function(r){return ps(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},t.stop=function(r){this.session.stopped=r?ZS:D6},t.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,a=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&Ai)&&(n.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],n.stopped!==ZS&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(r):s.reset(),!o&&s.state&(Rr|xa|On)&&(n.curRecognizer=s,o=s),l++}},t.get=function(r){if(r instanceof fu)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},t.add=function(r){if(ia(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},t.remove=function(r){if(ia(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,a=gs(s,n);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},t.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return Qi(vl(r),function(a){s[a]=s[a]||[],s[a].push(n)}),this},t.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return Qi(vl(r),function(a){n?s[a]&&s[a].splice(gs(s[a],n),1):delete s[a]}),this},t.emit=function(r,n){this.options.domEvents&&N6(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](n),a++}},t.destroy=function(){this.element&&LS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),B6={touchstart:Kt,touchmove:Es,touchend:ct,touchcancel:hr},Z6="touchstart",L6="touchstart touchmove touchend touchcancel",z6=function(i){Br(t,i);function t(){var r,n=t.prototype;return n.evTarget=Z6,n.evWin=L6,r=i.apply(this,arguments)||this,r.started=!1,r}var e=t.prototype;return e.handler=function(n){var s=B6[n.type];if(s===Kt&&(this.started=!0),!!this.started){var a=F6.call(this,n,s);s&(ct|hr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:uu,srcEvent:n})}},t}(io);function F6(i,t){var e=gl(i.touches),r=gl(i.changedTouches);return t&(ct|hr)&&(e=G$(e.concat(r),"identifier",!0)),[e,r]}function NQ(i,t,e){var r="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,s),i.apply(this,arguments)}}var BQ=NQ(function(i,t,e){for(var r=Object.keys(t),n=0;n<r.length;)(!e||e&&i[r[n]]===void 0)&&(i[r[n]]=t[r[n]]),n++;return i},"extend","Use `assign`."),j6=NQ(function(i,t){return BQ(i,t,!0)},"merge","Use `assign`.");function X6(i,t,e){var r=t.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,e&&ps(n,e)}function FS(i,t){return function(){return i.apply(t,arguments)}}var Y6=function(){var i=function(e,r){return r===void 0&&(r={}),new zS(e,Hr({recognizers:BS.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=$Q,i.DIRECTION_DOWN=Sa,i.DIRECTION_LEFT=hu,i.DIRECTION_RIGHT=cu,i.DIRECTION_UP=du,i.DIRECTION_HORIZONTAL=mi,i.DIRECTION_VERTICAL=as,i.DIRECTION_NONE=Xc,i.DIRECTION_DOWN=Sa,i.INPUT_START=Kt,i.INPUT_MOVE=Es,i.INPUT_END=ct,i.INPUT_CANCEL=hr,i.STATE_POSSIBLE=sc,i.STATE_BEGAN=Rr,i.STATE_CHANGED=xa,i.STATE_ENDED=On,i.STATE_RECOGNIZED=Ai,i.STATE_CANCELLED=ml,i.STATE_FAILED=fi,i.Manager=zS,i.Input=io,i.TouchAction=SQ,i.TouchInput=H$,i.MouseInput=K$,i.PointerEventInput=EQ,i.TouchMouseInput=CQ,i.SingleTouchInput=z6,i.Recognizer=fu,i.AttrRecognizer=ka,i.Tap=jm,i.Pan=J$,i.Swipe=QQ,i.Pinch=AQ,i.Rotate=RQ,i.Press=MQ,i.on=Wo,i.off=Vo,i.each=Qi,i.merge=j6,i.extend=BQ,i.bindFn=FS,i.assign=ps,i.inherit=X6,i.bindFn=FS,i.prefixed=sf,i.toArray=gl,i.inArray=gs,i.uniqueArray=G$,i.splitStr=vl,i.boolOrFn=af,i.hasParent=q$,i.addEventListeners=Wo,i.removeEventListeners=Vo,i.defaults=ps({},DQ,{preset:BS}),i}(),W6=Y6;function ZQ(i,t){var e=typeof tf<"u"&&lu(i)||i["@@iterator"];if(!e){if(yr(i)||(e=V6(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function V6(i,t){var e;if(i){if(typeof i=="string")return jS(i,t);var r=nf(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return j$(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jS(i,t)}}function jS(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var LQ=tf("DELETE");function U6(i){for(var t,e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return zQ.apply(void 0,rf(t=[{},i]).call(t,r))}function zQ(){var i=Vc.apply(void 0,arguments);return jQ(i),i}function Vc(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var r;return Vc.apply(void 0,rf(r=[zQ(t[0],t[1])]).call(r,or(nf(t).call(t,2))))}var n=t[0],s=t[1],a=ZQ(ZU(s)),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===LQ?delete n[l]:n[l]!==null&&s[l]!==null&&Dt(n[l])==="object"&&Dt(s[l])==="object"&&!yr(n[l])&&!yr(s[l])?n[l]=Vc(n[l],s[l]):n[l]=FQ(s[l]))}}catch(u){a.e(u)}finally{a.f()}return n}function FQ(i){return yr(i)?Xr(i).call(i,function(t){return FQ(t)}):Dt(i)==="object"&&i!==null?Vc({},i):i}function jQ(i){for(var t=0,e=Y$(i);t<e.length;t++){var r=e[t];i[r]===LQ?delete i[r]:Dt(i[r])==="object"&&i[r]!==null&&jQ(i[r])}}function q6(){var i=function(){};return{on:i,off:i,destroy:i,emit:i,get:function(){return{set:i}}}}var G6=typeof window<"u"?window.Hammer||W6:function(){return q6()};function Ti(i){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=G6(this._dom.overlay);r.on("tap",AI(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];fs(n).call(n,function(s){r.on(s,function(a){a.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(s){H6(s.target,i)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(s){("key"in s?s.key==="Escape":s.keyCode===27)&&t.deactivate()}}s6(Ti.prototype);Ti.current=null;Ti.prototype.destroy=function(){var i,t;this.deactivate();var e=ZQ(C9(i=rQ(t=this._cleanupQueue).call(t,0)).call(i)),r;try{for(e.s();!(r=e.n()).done;){var n=r.value;n()}}catch(s){e.e(s)}finally{e.f()}};Ti.prototype.activate=function(){Ti.current&&Ti.current.deactivate(),Ti.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ti.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ti.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function H6(i,t){for(;i;){if(i===t)return!0;i=i.parentNode}return!1}var Xm={},K6={get exports(){return Xm},set exports(i){Xm=i}},J6=jd,eG=Ha,tG=TypeError,XQ=function(i){if(J6(i))return i;throw tG(eG(i)+" is not a constructor")},rG=K,iG=er,Dp=Ua,nG=II,XS=XQ,sG=Sr,YS=Tt,aG=Ts,YQ=Oe,e1=iG("Reflect","construct"),oG=Object.prototype,lG=[].push,WQ=YQ(function(){function i(){}return!(e1(function(){},[],i)instanceof i)}),VQ=!YQ(function(){e1(function(){})}),WS=WQ||VQ;rG({target:"Reflect",stat:!0,forced:WS,sham:WS},{construct:function(t,e){XS(t),sG(e);var r=arguments.length<3?t:XS(arguments[2]);if(VQ&&!WQ)return e1(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Dp(lG,n,e),new(Dp(nG,t,n))}var s=r.prototype,a=aG(YS(s)?s:oG),o=Dp(t,a,e);return YS(o)?o:a}});var uG=Ne,hG=uG.Reflect.construct,cG=hG,dG=cG;(function(i){i.exports=dG})(K6);var ac=ae(Xm);function Wn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Uc={},fG={get exports(){return Uc},set exports(i){Uc=i}},Ym={},pG={get exports(){return Ym},set exports(i){Ym=i}},vG=hQ,gG=vG,mG=gG,OG=mG;(function(i){i.exports=OG})(pG);(function(i){i.exports=Ym})(fG);var yG=ae(Uc),qc={},bG={get exports(){return qc},set exports(i){qc=i}},Wm={},$G={get exports(){return Wm},set exports(i){Wm=i}},wG=K,SG=OI;wG({target:"Object",stat:!0},{setPrototypeOf:SG});var xG=Ne,kG=xG.Object.setPrototypeOf,PG=kG,TG=PG,_G=TG,EG=_G,CG=EG,IG=CG;(function(i){i.exports=IG})($G);(function(i){i.exports=Wm})(bG);var Vm=ae(qc),Um={},QG={get exports(){return Um},set exports(i){Um=i}},qm={},AG={get exports(){return qm},set exports(i){qm=i}},RG=QI,MG=RG,DG=MG,NG=DG;(function(i){i.exports=NG})(AG);(function(i){i.exports=qm})(QG);var UQ=ae(Um);function Gm(i,t){var e;return Gm=Vm?UQ(e=Vm).call(e):function(n,s){return n.__proto__=s,n},Gm(i,t)}function BG(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=yG(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),zd(i,"prototype",{writable:!1}),t&&Gm(i,t)}function ZG(i,t){if(t&&(Dt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wn(i)}var Gc={},LG={get exports(){return Gc},set exports(i){Gc=i}},Hm={},zG={get exports(){return Hm},set exports(i){Hm=i}},FG=nQ,jG=FG,XG=jG,YG=XG;(function(i){i.exports=YG})(zG);(function(i){i.exports=Hm})(LG);var VS=ae(Gc);function Hc(i){var t;return Hc=Vm?UQ(t=VS).call(t):function(r){return r.__proto__||VS(r)},Hc(i)}var Km={},WG={get exports(){return Km},set exports(i){Km=i}},Jm={},VG={get exports(){return Jm},set exports(i){Jm=i}};(function(i){var t=ul,e=Fc;function r(n){"@babel/helpers - typeof";return i.exports=r=typeof t=="function"&&typeof e=="symbol"?function(s){return typeof s}:function(s){return s&&typeof t=="function"&&s.constructor===t&&s!==t.prototype?"symbol":typeof s},i.exports.__esModule=!0,i.exports.default=i.exports,r(n)}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports})(VG);var eO={},UG={get exports(){return eO},set exports(i){eO=i}},tO={},qG={get exports(){return tO},set exports(i){tO=i}},GG=JI,HG=GG,KG=HG,JG=KG;(function(i){i.exports=JG})(qG);(function(i){i.exports=tO})(UG);var rO={},eH={get exports(){return rO},set exports(i){rO=i}},iO={},tH={get exports(){return iO},set exports(i){iO=i}},US=pt,rH=X$,iH=ks,nH=wr,sH=function(i,t,e){for(var r=rH(t),n=nH.f,s=iH.f,a=0;a<r.length;a++){var o=r[a];!US(i,o)&&!(e&&US(e,o))&&n(i,o,s(t,o))}},aH=Tt,oH=Ui,lH=function(i,t){aH(t)&&"cause"in t&&oH(i,"cause",t.cause)},uH=Ce,qQ=Error,hH=uH("".replace),cH=function(i){return String(qQ(i).stack)}("zxcasd"),GQ=/\n\s*at [^:]*:[^\n]*/,dH=GQ.test(cH),fH=function(i,t){if(dH&&typeof i=="string"&&!qQ.prepareStackTrace)for(;t--;)i=hH(i,GQ,"");return i},pH=Oe,vH=Ps,gH=!pH(function(){var i=Error("a");return"stack"in i?(Object.defineProperty(i,"stack",vH(1,7)),i.stack!==7):!0}),mH=Ui,OH=fH,yH=gH,qS=Error.captureStackTrace,bH=function(i,t,e,r){yH&&(qS?qS(i,t):mH(i,"stack",OH(e,r)))},$H=Rn,wH=Pt,SH=Sr,xH=Ha,kH=DI,PH=xr,GS=We,TH=F$,_H=ef,HS=MI,EH=TypeError,oc=function(i,t){this.stopped=i,this.result=t},KS=oc.prototype,Cs=function(i,t,e){var r=e&&e.that,n=!!(e&&e.AS_ENTRIES),s=!!(e&&e.IS_RECORD),a=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=$H(t,r),u,h,c,d,f,p,v,m=function(O){return u&&HS(u,"normal",O),new oc(!0,O)},g=function(O){return n?(SH(O),o?l(O[0],O[1],m):l(O[0],O[1])):o?l(O,m):l(O)};if(s)u=i.iterator;else if(a)u=i;else{if(h=_H(i),!h)throw EH(xH(i)+" is not iterable");if(kH(h)){for(c=0,d=PH(i);d>c;c++)if(f=g(i[c]),f&&GS(KS,f))return f;return new oc(!1)}u=TH(i,h)}for(p=s?i.next:u.next;!(v=wH(p,u)).done;){try{f=g(v.value)}catch(O){HS(u,"throw",O)}if(typeof f=="object"&&f&&GS(KS,f))return f}return new oc(!1)},CH=Si,IH=function(i,t){return i===void 0?arguments.length<2?"":t:CH(i)},QH=K,AH=We,RH=Kd,Kc=OI,MH=sH,HQ=Ts,Np=Ui,Bp=Ps,DH=lH,NH=bH,BH=Cs,ZH=IH,LH=Ve,zH=LH("toStringTag"),Jc=Error,FH=[].push,Pa=function(t,e){var r=AH(Zp,this),n;Kc?n=Kc(Jc(),r?RH(this):Zp):(n=r?this:HQ(Zp),Np(n,zH,"Error")),e!==void 0&&Np(n,"message",ZH(e)),NH(n,Pa,n.stack,1),arguments.length>2&&DH(n,arguments[2]);var s=[];return BH(t,FH,{that:s}),Np(n,"errors",s),n};Kc?Kc(Pa,Jc):MH(Pa,Jc,{name:!0});var Zp=Pa.prototype=HQ(Jc.prototype,{constructor:Bp(1,Pa),message:Bp(1,""),name:Bp(1,"AggregateError")});QH({global:!0,constructor:!0,arity:2},{AggregateError:Pa});var jH=er,XH=Q$,YH=Ve,WH=yt,JS=YH("species"),KQ=function(i){var t=jH(i);WH&&t&&!t[JS]&&XH(t,JS,{configurable:!0,get:function(){return this}})},VH=We,UH=TypeError,t1=function(i,t){if(VH(t,i))return i;throw UH("Incorrect invocation")},ex=Sr,qH=XQ,GH=Wl,HH=Ve,KH=HH("species"),JQ=function(i,t){var e=ex(i).constructor,r;return e===void 0||GH(r=ex(e)[KH])?t:qH(r)},JH=An,e2=/(?:ipad|iphone|ipod).*applewebkit/i.test(JH),$r=Ge,eK=Ua,tK=Rn,tx=He,rK=pt,t2=Oe,rx=BC,iK=nu,ix=k$,nK=cQ,sK=e2,aK=ou,nO=$r.setImmediate,sO=$r.clearImmediate,oK=$r.process,Lp=$r.Dispatch,lK=$r.Function,nx=$r.MessageChannel,uK=$r.String,zp=0,Uo={},sx="onreadystatechange",Ol,jn,Fp,jp;t2(function(){Ol=$r.location});var r1=function(i){if(rK(Uo,i)){var t=Uo[i];delete Uo[i],t()}},Xp=function(i){return function(){r1(i)}},ax=function(i){r1(i.data)},ox=function(i){$r.postMessage(uK(i),Ol.protocol+"//"+Ol.host)};(!nO||!sO)&&(nO=function(t){nK(arguments.length,1);var e=tx(t)?t:lK(t),r=iK(arguments,1);return Uo[++zp]=function(){eK(e,void 0,r)},jn(zp),zp},sO=function(t){delete Uo[t]},aK?jn=function(i){oK.nextTick(Xp(i))}:Lp&&Lp.now?jn=function(i){Lp.now(Xp(i))}:nx&&!sK?(Fp=new nx,jp=Fp.port2,Fp.port1.onmessage=ax,jn=tK(jp.postMessage,jp)):$r.addEventListener&&tx($r.postMessage)&&!$r.importScripts&&Ol&&Ol.protocol!=="file:"&&!t2(ox)?(jn=ox,$r.addEventListener("message",ax,!1)):sx in ix("script")?jn=function(i){rx.appendChild(ix("script"))[sx]=function(){rx.removeChild(this),r1(i)}}:jn=function(i){setTimeout(Xp(i),0)});var r2={set:nO,clear:sO},i2=function(){this.head=null,this.tail=null};i2.prototype={add:function(i){var t={item:i,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var i=this.head;if(i){var t=this.head=i.next;return t===null&&(this.tail=null),i.item}}};var n2=i2,hK=An,cK=/ipad|iphone|ipod/i.test(hK)&&typeof Pebble<"u",dK=An,fK=/web0s(?!.*chrome)/i.test(dK),ms=Ge,lx=Rn,pK=ks.f,Yp=r2.set,vK=n2,gK=e2,mK=cK,OK=fK,Wp=ou,ux=ms.MutationObserver||ms.WebKitMutationObserver,hx=ms.document,cx=ms.process,dh=ms.Promise,dx=pK(ms,"queueMicrotask"),aO=dx&&dx.value,Xs,Vp,Up,fh,fx;if(!aO){var ph=new vK,vh=function(){var i,t;for(Wp&&(i=cx.domain)&&i.exit();t=ph.get();)try{t()}catch(e){throw ph.head&&Xs(),e}i&&i.enter()};!gK&&!Wp&&!OK&&ux&&hx?(Vp=!0,Up=hx.createTextNode(""),new ux(vh).observe(Up,{characterData:!0}),Xs=function(){Up.data=Vp=!Vp}):!mK&&dh&&dh.resolve?(fh=dh.resolve(void 0),fh.constructor=dh,fx=lx(fh.then,fh),Xs=function(){fx(vh)}):Wp?Xs=function(){cx.nextTick(vh)}:(Yp=lx(Yp,ms),Xs=function(){Yp(vh)}),aO=function(i){ph.head||Xs(),ph.add(i)}}var yK=aO,bK=function(i,t){try{arguments.length==1?console.error(i):console.error(i,t)}catch{}},no=function(i){try{return{error:!1,value:i()}}catch(t){return{error:!0,value:t}}},$K=Ge,so=$K.Promise,s2=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",wK=s2,SK=ou,xK=!wK&&!SK&&typeof window=="object"&&typeof document=="object",kK=Ge,qo=so,PK=He,TK=PC,_K=IC,EK=Ve,CK=xK,IK=s2,qp=qa,px=qo&&qo.prototype,QK=EK("species"),oO=!1,a2=PK(kK.PromiseRejectionEvent),AK=TK("Promise",function(){var i=_K(qo),t=i!==String(qo);if(!t&&qp===66||!(px.catch&&px.finally))return!0;if(!qp||qp<51||!/native code/.test(i)){var e=new qo(function(s){s(1)}),r=function(s){s(function(){},function(){})},n=e.constructor={};if(n[QK]=r,oO=e.then(function(){})instanceof r,!oO)return!0}return!t&&(CK||IK)&&!a2}),pu={CONSTRUCTOR:AK,REJECTION_EVENT:a2,SUBCLASSING:oO},Gi={},vx=fr,RK=TypeError,MK=function(i){var t,e;this.promise=new i(function(r,n){if(t!==void 0||e!==void 0)throw RK("Bad Promise constructor");t=r,e=n}),this.resolve=vx(t),this.reject=vx(e)};Gi.f=function(i){return new MK(i)};var DK=K,ed=ou,xn=Ge,vu=Pt,NK=Ja,BK=_s,ZK=KQ,LK=fr,lO=He,zK=Tt,FK=t1,jK=JQ,o2=r2.set,i1=yK,XK=bK,YK=no,WK=n2,l2=eo,uO=so,u2=pu,h2=Gi,of="Promise",c2=u2.CONSTRUCTOR,VK=u2.REJECTION_EVENT,Gp=l2.getterFor(of),UK=l2.set,qK=uO&&uO.prototype,na=uO,Hp=qK,d2=xn.TypeError,hO=xn.document,n1=xn.process,cO=h2.f,GK=cO,HK=!!(hO&&hO.createEvent&&xn.dispatchEvent),f2="unhandledrejection",KK="rejectionhandled",gx=0,p2=1,JK=2,s1=1,v2=2,gh,mx,eJ,g2=function(i){var t;return zK(i)&&lO(t=i.then)?t:!1},m2=function(i,t){var e=t.value,r=t.state==p2,n=r?i.ok:i.fail,s=i.resolve,a=i.reject,o=i.domain,l,u,h;try{n?(r||(t.rejection===v2&&rJ(t),t.rejection=s1),n===!0?l=e:(o&&o.enter(),l=n(e),o&&(o.exit(),h=!0)),l===i.promise?a(d2("Promise-chain cycle")):(u=g2(l))?vu(u,l,s,a):s(l)):a(e)}catch(c){o&&!h&&o.exit(),a(c)}},O2=function(i,t){i.notified||(i.notified=!0,i1(function(){for(var e=i.reactions,r;r=e.get();)m2(r,i);i.notified=!1,t&&!i.rejection&&tJ(i)}))},y2=function(i,t,e){var r,n;HK?(r=hO.createEvent("Event"),r.promise=t,r.reason=e,r.initEvent(i,!1,!0),xn.dispatchEvent(r)):r={promise:t,reason:e},!VK&&(n=xn["on"+i])?n(r):i===f2&&XK("Unhandled promise rejection",e)},tJ=function(i){vu(o2,xn,function(){var t=i.facade,e=i.value,r=Ox(i),n;if(r&&(n=YK(function(){ed?n1.emit("unhandledRejection",e,t):y2(f2,t,e)}),i.rejection=ed||Ox(i)?v2:s1,n.error))throw n.value})},Ox=function(i){return i.rejection!==s1&&!i.parent},rJ=function(i){vu(o2,xn,function(){var t=i.facade;ed?n1.emit("rejectionHandled",t):y2(KK,t,i.value)})},sa=function(i,t,e){return function(r){i(t,r,e)}},da=function(i,t,e){i.done||(i.done=!0,e&&(i=e),i.value=t,i.state=JK,O2(i,!0))},dO=function(i,t,e){if(!i.done){i.done=!0,e&&(i=e);try{if(i.facade===t)throw d2("Promise can't be resolved itself");var r=g2(t);r?i1(function(){var n={done:!1};try{vu(r,t,sa(dO,n,i),sa(da,n,i))}catch(s){da(n,s,i)}}):(i.value=t,i.state=p2,O2(i,!1))}catch(n){da({done:!1},n,i)}}};c2&&(na=function(t){FK(this,Hp),LK(t),vu(gh,this);var e=Gp(this);try{t(sa(dO,e),sa(da,e))}catch(r){da(e,r)}},Hp=na.prototype,gh=function(t){UK(this,{type:of,done:!1,notified:!1,parent:!1,reactions:new WK,rejection:!1,state:gx,value:void 0})},gh.prototype=NK(Hp,"then",function(t,e){var r=Gp(this),n=cO(jK(this,na));return r.parent=!0,n.ok=lO(t)?t:!0,n.fail=lO(e)&&e,n.domain=ed?n1.domain:void 0,r.state==gx?r.reactions.add(n):i1(function(){m2(n,r)}),n.promise}),mx=function(){var i=new gh,t=Gp(i);this.promise=i,this.resolve=sa(dO,t),this.reject=sa(da,t)},h2.f=cO=function(i){return i===na||i===eJ?new mx(i):GK(i)});DK({global:!0,constructor:!0,wrap:!0,forced:c2},{Promise:na});BK(na,of,!1,!0);ZK(of);var iJ=so,nJ=ZI,sJ=pu.CONSTRUCTOR,lf=sJ||!nJ(function(i){iJ.all(i).then(void 0,function(){})}),aJ=K,oJ=Pt,lJ=fr,uJ=Gi,hJ=no,cJ=Cs,dJ=lf;aJ({target:"Promise",stat:!0,forced:dJ},{all:function(t){var e=this,r=uJ.f(e),n=r.resolve,s=r.reject,a=hJ(function(){var o=lJ(e.resolve),l=[],u=0,h=1;cJ(t,function(c){var d=u++,f=!1;h++,oJ(o,e,c).then(function(p){f||(f=!0,l[d]=p,--h||n(l))},s)}),--h||n(l)});return a.error&&s(a.value),r.promise}});var fJ=K,pJ=pu.CONSTRUCTOR,yx=so;yx&&yx.prototype;fJ({target:"Promise",proto:!0,forced:pJ,real:!0},{catch:function(i){return this.then(void 0,i)}});var vJ=K,gJ=Pt,mJ=fr,OJ=Gi,yJ=no,bJ=Cs,$J=lf;vJ({target:"Promise",stat:!0,forced:$J},{race:function(t){var e=this,r=OJ.f(e),n=r.reject,s=yJ(function(){var a=mJ(e.resolve);bJ(t,function(o){gJ(a,e,o).then(r.resolve,n)})});return s.error&&n(s.value),r.promise}});var wJ=K,SJ=Pt,xJ=Gi,kJ=pu.CONSTRUCTOR;wJ({target:"Promise",stat:!0,forced:kJ},{reject:function(t){var e=xJ.f(this);return SJ(e.reject,void 0,t),e.promise}});var PJ=Sr,TJ=Tt,_J=Gi,b2=function(i,t){if(PJ(i),TJ(t)&&t.constructor===i)return t;var e=_J.f(i),r=e.resolve;return r(t),e.promise},EJ=K,CJ=er,IJ=jB,QJ=so,AJ=pu.CONSTRUCTOR,RJ=b2,MJ=CJ("Promise"),DJ=!AJ;EJ({target:"Promise",stat:!0,forced:IJ},{resolve:function(t){return RJ(DJ&&this===MJ?QJ:this,t)}});var NJ=K,BJ=Pt,ZJ=fr,LJ=Gi,zJ=no,FJ=Cs,jJ=lf;NJ({target:"Promise",stat:!0,forced:jJ},{allSettled:function(t){var e=this,r=LJ.f(e),n=r.resolve,s=r.reject,a=zJ(function(){var o=ZJ(e.resolve),l=[],u=0,h=1;FJ(t,function(c){var d=u++,f=!1;h++,BJ(o,e,c).then(function(p){f||(f=!0,l[d]={status:"fulfilled",value:p},--h||n(l))},function(p){f||(f=!0,l[d]={status:"rejected",reason:p},--h||n(l))})}),--h||n(l)});return a.error&&s(a.value),r.promise}});var XJ=K,YJ=Pt,WJ=fr,VJ=er,UJ=Gi,qJ=no,GJ=Cs,HJ=lf,bx="No one promise resolved";XJ({target:"Promise",stat:!0,forced:HJ},{any:function(t){var e=this,r=VJ("AggregateError"),n=UJ.f(e),s=n.resolve,a=n.reject,o=qJ(function(){var l=WJ(e.resolve),u=[],h=0,c=1,d=!1;GJ(t,function(f){var p=h++,v=!1;c++,YJ(l,e,f).then(function(m){v||d||(d=!0,s(m))},function(m){v||d||(v=!0,u[p]=m,--c||a(new r(u,bx)))})}),--c||a(new r(u,bx))});return o.error&&a(o.value),n.promise}});var KJ=K,fO=so,JJ=Oe,eee=er,tee=He,ree=JQ,$x=b2,iee=fO&&fO.prototype,nee=!!fO&&JJ(function(){iee.finally.call({then:function(){}},function(){})});KJ({target:"Promise",proto:!0,real:!0,forced:nee},{finally:function(i){var t=ree(this,eee("Promise")),e=tee(i);return this.then(e?function(r){return $x(t,i()).then(function(){return r})}:i,e?function(r){return $x(t,i()).then(function(){throw r})}:i)}});var see=Ne,aee=see.Promise,oee=aee,lee=oee,uee=lee,hee=uee,cee=K,dee=Gi,fee=no;cee({target:"Promise",stat:!0,forced:!0},{try:function(i){var t=dee.f(this),e=fee(i);return(e.error?t.reject:t.resolve)(e.value),t.promise}});var pee=hee,vee=pee;(function(i){i.exports=vee})(tH);(function(i){i.exports=iO})(eH);var pO={},gee={get exports(){return pO},set exports(i){pO=i}},vO={},mee={get exports(){return vO},set exports(i){vO=i}},Oee=eQ,yee=Oee,bee=yee,$ee=bee;(function(i){i.exports=$ee})(mee);(function(i){i.exports=vO})(gee);(function(i){var t=Jm.default,e=Nc,r=ul,n=Uc,s=Gc,a=eO,o=qc,l=rO,u=pO,h=jc;function c(){i.exports=c=function(){return d},i.exports.__esModule=!0,i.exports.default=i.exports;var d={},f=Object.prototype,p=f.hasOwnProperty,v=e||function(A,I,D){A[I]=D.value},m=typeof r=="function"?r:{},g=m.iterator||"@@iterator",O=m.asyncIterator||"@@asyncIterator",b=m.toStringTag||"@@toStringTag";function y(A,I,D){return e(A,I,{value:D,enumerable:!0,configurable:!0,writable:!0}),A[I]}try{y({},"")}catch{y=function(D,X,J){return D[X]=J}}function w(A,I,D,X){var J=I&&I.prototype instanceof T?I:T,ne=n(J.prototype),et=new Xe(X||[]);return v(ne,"_invoke",{value:fe(A,D,et)}),ne}function x(A,I,D){try{return{type:"normal",arg:A.call(I,D)}}catch(X){return{type:"throw",arg:X}}}d.wrap=w;var P={};function T(){}function S(){}function k(){}var C={};y(C,g,function(){return this});var j=s,z=j&&j(j($e([])));z&&z!==f&&p.call(z,g)&&(C=z);var ee=k.prototype=T.prototype=n(C);function oe(A){var I;a(I=["next","throw","return"]).call(I,function(D){y(A,D,function(X){return this._invoke(D,X)})})}function se(A,I){function D(J,ne,et,jt){var tr=x(A[J],A,ne);if(tr.type!=="throw"){var zn=tr.arg,Ji=zn.value;return Ji&&t(Ji)=="object"&&p.call(Ji,"__await")?I.resolve(Ji.__await).then(function(Fn){D("next",Fn,et,jt)},function(Fn){D("throw",Fn,et,jt)}):I.resolve(Ji).then(function(Fn){zn.value=Fn,et(zn)},function(Fn){return D("throw",Fn,et,jt)})}jt(tr.arg)}var X;v(this,"_invoke",{value:function(ne,et){function jt(){return new I(function(tr,zn){D(ne,et,tr,zn)})}return X=X?X.then(jt,jt):jt()}})}function fe(A,I,D){var X="suspendedStart";return function(J,ne){if(X==="executing")throw new Error("Generator is already running");if(X==="completed"){if(J==="throw")throw ne;return Be()}for(D.method=J,D.arg=ne;;){var et=D.delegate;if(et){var jt=pe(et,D);if(jt){if(jt===P)continue;return jt}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(X==="suspendedStart")throw X="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);X="executing";var tr=x(A,I,D);if(tr.type==="normal"){if(X=D.done?"completed":"suspendedYield",tr.arg===P)continue;return{value:tr.arg,done:D.done}}tr.type==="throw"&&(X="completed",D.method="throw",D.arg=tr.arg)}}}function pe(A,I){var D=I.method,X=A.iterator[D];if(X===void 0)return I.delegate=null,D==="throw"&&A.iterator.return&&(I.method="return",I.arg=void 0,pe(A,I),I.method==="throw")||D!=="return"&&(I.method="throw",I.arg=new TypeError("The iterator does not provide a '"+D+"' method")),P;var J=x(X,A.iterator,I.arg);if(J.type==="throw")return I.method="throw",I.arg=J.arg,I.delegate=null,P;var ne=J.arg;return ne?ne.done?(I[A.resultName]=ne.value,I.next=A.nextLoc,I.method!=="return"&&(I.method="next",I.arg=void 0),I.delegate=null,P):ne:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,P)}function ve(A){var I={tryLoc:A[0]};1 in A&&(I.catchLoc=A[1]),2 in A&&(I.finallyLoc=A[2],I.afterLoc=A[3]),this.tryEntries.push(I)}function lt(A){var I=A.completion||{};I.type="normal",delete I.arg,A.completion=I}function Xe(A){this.tryEntries=[{tryLoc:"root"}],a(A).call(A,ve,this),this.reset(!0)}function $e(A){if(A){var I=A[g];if(I)return I.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var D=-1,X=function J(){for(;++D<A.length;)if(p.call(A,D))return J.value=A[D],J.done=!1,J;return J.value=void 0,J.done=!0,J};return X.next=X}}return{next:Be}}function Be(){return{value:void 0,done:!0}}return S.prototype=k,v(ee,"constructor",{value:k,configurable:!0}),v(k,"constructor",{value:S,configurable:!0}),S.displayName=y(k,b,"GeneratorFunction"),d.isGeneratorFunction=function(A){var I=typeof A=="function"&&A.constructor;return!!I&&(I===S||(I.displayName||I.name)==="GeneratorFunction")},d.mark=function(A){return o?o(A,k):(A.__proto__=k,y(A,b,"GeneratorFunction")),A.prototype=n(ee),A},d.awrap=function(A){return{__await:A}},oe(se.prototype),y(se.prototype,O,function(){return this}),d.AsyncIterator=se,d.async=function(A,I,D,X,J){J===void 0&&(J=l);var ne=new se(w(A,I,D,X),J);return d.isGeneratorFunction(I)?ne:ne.next().then(function(et){return et.done?et.value:ne.next()})},oe(ee),y(ee,b,"Generator"),y(ee,g,function(){return this}),y(ee,"toString",function(){return"[object Generator]"}),d.keys=function(A){var I=Object(A),D=[];for(var X in I)D.push(X);return u(D).call(D),function J(){for(;D.length;){var ne=D.pop();if(ne in I)return J.value=ne,J.done=!1,J}return J.done=!0,J}},d.values=$e,Xe.prototype={constructor:Xe,reset:function(I){var D;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,a(D=this.tryEntries).call(D,lt),!I)for(var X in this)X.charAt(0)==="t"&&p.call(this,X)&&!isNaN(+h(X).call(X,1))&&(this[X]=void 0)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var D=this;function X(zn,Ji){return et.type="throw",et.arg=I,D.next=zn,Ji&&(D.method="next",D.arg=void 0),!!Ji}for(var J=this.tryEntries.length-1;J>=0;--J){var ne=this.tryEntries[J],et=ne.completion;if(ne.tryLoc==="root")return X("end");if(ne.tryLoc<=this.prev){var jt=p.call(ne,"catchLoc"),tr=p.call(ne,"finallyLoc");if(jt&&tr){if(this.prev<ne.catchLoc)return X(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return X(ne.finallyLoc)}else if(jt){if(this.prev<ne.catchLoc)return X(ne.catchLoc,!0)}else{if(!tr)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return X(ne.finallyLoc)}}}},abrupt:function(I,D){for(var X=this.tryEntries.length-1;X>=0;--X){var J=this.tryEntries[X];if(J.tryLoc<=this.prev&&p.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var ne=J;break}}ne&&(I==="break"||I==="continue")&&ne.tryLoc<=D&&D<=ne.finallyLoc&&(ne=null);var et=ne?ne.completion:{};return et.type=I,et.arg=D,ne?(this.method="next",this.next=ne.finallyLoc,P):this.complete(et)},complete:function(I,D){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&D&&(this.next=D),P},finish:function(I){for(var D=this.tryEntries.length-1;D>=0;--D){var X=this.tryEntries[D];if(X.finallyLoc===I)return this.complete(X.completion,X.afterLoc),lt(X),P}},catch:function(I){for(var D=this.tryEntries.length-1;D>=0;--D){var X=this.tryEntries[D];if(X.tryLoc===I){var J=X.completion;if(J.type==="throw"){var ne=J.arg;lt(X)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(I,D,X){return this.delegate={iterator:$e(I),resultName:D,nextLoc:X},this.method==="next"&&(this.arg=void 0),P}},d}i.exports=c,i.exports.__esModule=!0,i.exports.default=i.exports})(WG);var lc=Km(),ir=lc;try{regeneratorRuntime=lc}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=lc:Function("r","regeneratorRuntime = r")(lc)}var gO={},wee={get exports(){return gO},set exports(i){gO=i}},td={},See={get exports(){return td},set exports(i){td=i}},xee=Oe,kee=xee(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}}),Pee=Oe,Tee=Tt,_ee=Vi,wx=kee,uc=Object.isExtensible,Eee=Pee(function(){uc(1)}),Cee=Eee||wx?function(t){return!Tee(t)||wx&&_ee(t)=="ArrayBuffer"?!1:uc?uc(t):!0}:uc,Iee=Oe,Qee=!Iee(function(){return Object.isExtensible(Object.preventExtensions({}))}),Aee=K,Ree=Ce,Mee=Kl,Dee=Tt,a1=pt,Nee=wr.f,Sx=eu,Bee=I$,o1=Cee,Zee=Zd,Lee=Qee,$2=!1,Fi=Zee("meta"),zee=0,l1=function(i){Nee(i,Fi,{value:{objectID:"O"+zee++,weakData:{}}})},Fee=function(i,t){if(!Dee(i))return typeof i=="symbol"?i:(typeof i=="string"?"S":"P")+i;if(!a1(i,Fi)){if(!o1(i))return"F";if(!t)return"E";l1(i)}return i[Fi].objectID},jee=function(i,t){if(!a1(i,Fi)){if(!o1(i))return!0;if(!t)return!1;l1(i)}return i[Fi].weakData},Xee=function(i){return Lee&&$2&&o1(i)&&!a1(i,Fi)&&l1(i),i},Yee=function(){Wee.enable=function(){},$2=!0;var i=Sx.f,t=Ree([].splice),e={};e[Fi]=1,i(e).length&&(Sx.f=function(r){for(var n=i(r),s=0,a=n.length;s<a;s++)if(n[s]===Fi){t(n,s,1);break}return n},Aee({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Bee.f}))},Wee=See.exports={enable:Yee,fastKey:Fee,getWeakData:jee,onFreeze:Xee};Mee[Fi]=!0;var Vee=K,Uee=Ge,qee=td,Gee=Oe,Hee=Ui,Kee=Cs,Jee=t1,ete=He,tte=Tt,rte=_s,ite=wr.f,nte=to.forEach,ste=yt,w2=eo,ate=w2.set,ote=w2.getterFor,S2=function(i,t,e){var r=i.indexOf("Map")!==-1,n=i.indexOf("Weak")!==-1,s=r?"set":"add",a=Uee[i],o=a&&a.prototype,l={},u;if(!ste||!ete(a)||!(n||o.forEach&&!Gee(function(){new a().entries().next()})))u=e.getConstructor(t,i,r,s),qee.enable();else{u=t(function(d,f){ate(Jee(d,h),{type:i,collection:new a}),f!=null&&Kee(f,d[s],{that:d,AS_ENTRIES:r})});var h=u.prototype,c=ote(i);nte(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var f=d=="add"||d=="set";d in o&&!(n&&d=="clear")&&Hee(h,d,function(p,v){var m=c(this).collection;if(!f&&n&&!tte(p))return d=="get"?void 0:!1;var g=m[d](p===0?0:p,v);return f?this:g})}),n||ite(h,"size",{configurable:!0,get:function(){return c(this).collection.size}})}return rte(u,i,!1,!0),l[i]=u,Vee({global:!0,forced:!0},l),n||e.setStrong(u,i,r),u},lte=Ja,ute=function(i,t,e){for(var r in t)e&&e.unsafe&&i[r]?i[r]=t[r]:lte(i,r,t[r],e);return i},hte=Ts,cte=Q$,xx=ute,dte=Rn,fte=t1,pte=Wl,vte=Cs,gte=Z$,mh=L$,mte=KQ,wo=yt,kx=td.fastKey,x2=eo,Px=x2.set,Kp=x2.getterFor,k2={getConstructor:function(i,t,e,r){var n=i(function(u,h){fte(u,s),Px(u,{type:t,index:hte(null),first:void 0,last:void 0,size:0}),wo||(u.size=0),pte(h)||vte(h,u[r],{that:u,AS_ENTRIES:e})}),s=n.prototype,a=Kp(t),o=function(u,h,c){var d=a(u),f=l(u,h),p,v;return f?f.value=c:(d.last=f={index:v=kx(h,!0),key:h,value:c,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=f),p&&(p.next=f),wo?d.size++:u.size++,v!=="F"&&(d.index[v]=f)),u},l=function(u,h){var c=a(u),d=kx(h),f;if(d!=="F")return c.index[d];for(f=c.first;f;f=f.next)if(f.key==h)return f};return xx(s,{clear:function(){for(var h=this,c=a(h),d=c.index,f=c.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete d[f.index],f=f.next;c.first=c.last=void 0,wo?c.size=0:h.size=0},delete:function(u){var h=this,c=a(h),d=l(h,u);if(d){var f=d.next,p=d.previous;delete c.index[d.index],d.removed=!0,p&&(p.next=f),f&&(f.previous=p),c.first==d&&(c.first=f),c.last==d&&(c.last=p),wo?c.size--:h.size--}return!!d},forEach:function(h){for(var c=a(this),d=dte(h,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:c.first;)for(d(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(h){return!!l(this,h)}}),xx(s,e?{get:function(h){var c=l(this,h);return c&&c.value},set:function(h,c){return o(this,h===0?0:h,c)}}:{add:function(h){return o(this,h=h===0?0:h,h)}}),wo&&cte(s,"size",{configurable:!0,get:function(){return a(this).size}}),n},setStrong:function(i,t,e){var r=t+" Iterator",n=Kp(t),s=Kp(r);gte(i,t,function(a,o){Px(this,{type:r,target:a,state:n(a),kind:o,last:void 0})},function(){for(var a=s(this),o=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,mh(void 0,!0)):o=="keys"?mh(l.key,!1):o=="values"?mh(l.value,!1):mh([l.key,l.value],!1)},e?"entries":"values",!e,!0),mte(t)}},Ote=S2,yte=k2;Ote("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},yte);var bte=Ne,$te=bte.Map,wte=$te,Ste=wte;(function(i){i.exports=Ste})(wee);var P2=ae(gO),mO={},xte={get exports(){return mO},set exports(i){mO=i}},kte=K,Pte=to.some,Tte=au,_te=Tte("some");kte({target:"Array",proto:!0,forced:!_te},{some:function(t){return Pte(this,t,arguments.length>1?arguments[1]:void 0)}});var Ete=vt,Cte=Ete("Array").some,Ite=We,Qte=Cte,Jp=Array.prototype,Ate=function(i){var t=i.some;return i===Jp||Ite(Jp,i)&&t===Jp.some?Qte:t},Rte=Ate,Mte=Rte;(function(i){i.exports=Mte})(xte);var Dte=ae(mO),OO={},Nte={get exports(){return OO},set exports(i){OO=i}},Bte=vt,Zte=Bte("Array").keys,Lte=Zte,zte=Lte,Fte=qi,jte=pt,Xte=We,Yte=zte,ev=Array.prototype,Wte={DOMTokenList:!0,NodeList:!0},Vte=function(i){var t=i.keys;return i===ev||Xte(ev,i)&&t===ev.keys||jte(Wte,Fte(i))?Yte:t};(function(i){i.exports=Vte})(Nte);var Ys=ae(OO),yO={},Ute={get exports(){return yO},set exports(i){yO=i}},Tx=zC,qte=Math.floor,bO=function(i,t){var e=i.length,r=qte(e/2);return e<8?Gte(i,t):Hte(i,bO(Tx(i,0,r),t),bO(Tx(i,r),t),t)},Gte=function(i,t){for(var e=i.length,r=1,n,s;r<e;){for(s=r,n=i[r];s&&t(i[s-1],n)>0;)i[s]=i[--s];s!==r++&&(i[s]=n)}return i},Hte=function(i,t,e,r){for(var n=t.length,s=e.length,a=0,o=0;a<n||o<s;)i[a+o]=a<n&&o<s?r(t[a],e[o])<=0?t[a++]:e[o++]:a<n?t[a++]:e[o++];return i},Kte=bO,Jte=An,_x=Jte.match(/firefox\/(\d+)/i),ere=!!_x&&+_x[1],tre=An,rre=/MSIE|Trident/.test(tre),ire=An,Ex=ire.match(/AppleWebKit\/(\d+)\./),nre=!!Ex&&+Ex[1],sre=K,T2=Ce,are=fr,ore=pr,Cx=xr,lre=tQ,Ix=Si,u1=Oe,ure=Kte,hre=au,Qx=ere,cre=rre,Ax=qa,Rx=nre,dn=[],Mx=T2(dn.sort),dre=T2(dn.push),fre=u1(function(){dn.sort(void 0)}),pre=u1(function(){dn.sort(null)}),vre=hre("sort"),_2=!u1(function(){if(Ax)return Ax<70;if(!(Qx&&Qx>3)){if(cre)return!0;if(Rx)return Rx<603;var i="",t,e,r,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)dn.push({k:e+n,v:r})}for(dn.sort(function(s,a){return a.v-s.v}),n=0;n<dn.length;n++)e=dn[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return i!=="DGBEFHACIJK"}}),gre=fre||!pre||!vre||!_2,mre=function(i){return function(t,e){return e===void 0?-1:t===void 0?1:i!==void 0?+i(t,e)||0:Ix(t)>Ix(e)?1:-1}};sre({target:"Array",proto:!0,forced:gre},{sort:function(t){t!==void 0&&are(t);var e=ore(this);if(_2)return t===void 0?Mx(e):Mx(e,t);var r=[],n=Cx(e),s,a;for(a=0;a<n;a++)a in e&&dre(r,e[a]);for(ure(r,mre(t)),s=Cx(r),a=0;a<s;)e[a]=r[a++];for(;a<n;)lre(e,a++);return e}});var Ore=vt,yre=Ore("Array").sort,bre=We,$re=yre,tv=Array.prototype,wre=function(i){var t=i.sort;return i===tv||bre(tv,i)&&t===tv.sort?$re:t},Sre=wre,xre=Sre;(function(i){i.exports=xre})(Ute);var $O=ae(yO),wO={},kre={get exports(){return wO},set exports(i){wO=i}},Pre=vt,Tre=Pre("Array").values,_re=Tre,Ere=_re,Cre=qi,Ire=pt,Qre=We,Are=Ere,rv=Array.prototype,Rre={DOMTokenList:!0,NodeList:!0},Mre=function(i){var t=i.values;return i===rv||Qre(rv,i)&&t===rv.values||Ire(Rre,Cre(i))?Are:t};(function(i){i.exports=Mre})(kre);var Dx=ae(wO),SO={},Dre={get exports(){return SO},set exports(i){SO=i}};(function(i){i.exports=TI})(Dre);var fa=ae(SO),xO={},Nre={get exports(){return xO},set exports(i){xO=i}},Bre=vt,Zre=Bre("Array").entries,Lre=Zre,zre=Lre,Fre=qi,jre=pt,Xre=We,Yre=zre,iv=Array.prototype,Wre={DOMTokenList:!0,NodeList:!0},Vre=function(i){var t=i.entries;return i===iv||Xre(iv,i)&&t===iv.entries||jre(Wre,Fre(i))?Yre:t};(function(i){i.exports=Vre})(Nre);var Ure=ae(xO);let Oh;const qre=new Uint8Array(16);function Gre(){if(!Oh&&(Oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oh(qre)}const Qt=[];for(let i=0;i<256;++i)Qt.push((i+256).toString(16).slice(1));function Hre(i,t=0){return(Qt[i[t+0]]+Qt[i[t+1]]+Qt[i[t+2]]+Qt[i[t+3]]+"-"+Qt[i[t+4]]+Qt[i[t+5]]+"-"+Qt[i[t+6]]+Qt[i[t+7]]+"-"+Qt[i[t+8]]+Qt[i[t+9]]+"-"+Qt[i[t+10]]+Qt[i[t+11]]+Qt[i[t+12]]+Qt[i[t+13]]+Qt[i[t+14]]+Qt[i[t+15]]).toLowerCase()}const Kre=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Nx={randomUUID:Kre};function Jre(i,t,e){if(Nx.randomUUID&&!t&&!i)return Nx.randomUUID();i=i||{};const r=i.random||(i.rng||Gre)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=r[n];return t}return Hre(r)}function Bx(i){return typeof i=="string"||typeof i=="number"}var eie=function(){function i(t){Nd(this,i),rt(this,"delay",void 0),rt(this,"max",void 0),rt(this,"_queue",[]),rt(this,"_timeout",null),rt(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return Jd(i,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,r=this._extended.methods,n=0;n<r.length;n++){var s=r[n];s.original?e[s.name]=s.original:delete e[s.name]}this._extended=null}}},{key:"replace",value:function(e,r){var n=this,s=e[r];if(!s)throw new Error("Method "+r+" undefined");e[r]=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];n.queue({args:o,fn:s,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=X8(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,r;fs(e=rQ(r=this._queue).call(r,0)).call(e,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(e,r){var n=new i(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var s=[{name:"flush",original:void 0}];if(r&&r.replace)for(var a=0;a<r.replace.length;a++){var o=r.replace[a];s.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:s},n}}]),i}(),tie=function(){function i(){Nd(this,i),rt(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),rt(this,"subscribe",i.prototype.on),rt(this,"unsubscribe",i.prototype.off)}return Jd(i,[{key:"_trigger",value:function(e,r,n){var s,a;if(e==="*")throw new Error("Cannot trigger event *");fs(s=rf(a=[]).call(a,or(this._subscribers[e]),or(this._subscribers["*"]))).call(s,function(o){o(e,r,n??null)})}},{key:"on",value:function(e,r){typeof r=="function"&&this._subscribers[e].push(r)}},{key:"off",value:function(e,r){var n;this._subscribers[e]=ta(n=this._subscribers[e]).call(n,function(s){return s!==r})}}]),i}(),kO={},rie={get exports(){return kO},set exports(i){kO=i}},iie=S2,nie=k2;iie("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},nie);var sie=Ne,aie=sie.Set,oie=aie,lie=oie;(function(i){i.exports=lie})(rie);var nv=ae(kO),PO={},uie={get exports(){return PO},set exports(i){PO=i}},TO={},hie={get exports(){return TO},set exports(i){TO=i}},cie=F$,die=cie,fie=die,pie=fie,vie=pie,gie=vie,mie=gie,Oie=mie;(function(i){i.exports=Oie})(hie);(function(i){i.exports=TO})(uie);var sv=ae(PO),E2;function ni(i,t){var e=typeof tf<"u"&&lu(i)||i["@@iterator"];if(!e){if(yr(i)||(e=yie(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function yie(i,t){var e;if(i){if(typeof i=="string")return Zx(i,t);var r=nf(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return j$(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zx(i,t)}}function Zx(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}E2=fa;var Lx=function(){function i(t){Nd(this,i),rt(this,"_pairs",void 0),this._pairs=t}return Jd(i,[{key:E2,value:ir.mark(function t(){var e,r,n,s,a;return ir.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=ni(this._pairs),l.prev=1,e.s();case 3:if((r=e.n()).done){l.next=9;break}return n=rr(r.value,2),s=n[0],a=n[1],l.next=7,[s,a];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),e.e(l.t0);case 14:return l.prev=14,e.f(),l.finish(14);case 17:case"end":return l.stop()}},t,this,[[1,11,14,17]])})},{key:"entries",value:ir.mark(function t(){var e,r,n,s,a;return ir.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=ni(this._pairs),l.prev=1,e.s();case 3:if((r=e.n()).done){l.next=9;break}return n=rr(r.value,2),s=n[0],a=n[1],l.next=7,[s,a];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),e.e(l.t0);case 14:return l.prev=14,e.f(),l.finish(14);case 17:case"end":return l.stop()}},t,this,[[1,11,14,17]])})},{key:"keys",value:ir.mark(function t(){var e,r,n,s;return ir.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=ni(this._pairs),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return n=rr(r.value,1),s=n[0],o.next=7,s;case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},t,this,[[1,11,14,17]])})},{key:"values",value:ir.mark(function t(){var e,r,n,s;return ir.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=ni(this._pairs),o.prev=1,e.s();case 3:if((r=e.n()).done){o.next=9;break}return n=rr(r.value,2),s=n[1],o.next=7,s;case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},t,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var e;return Xr(e=or(this._pairs)).call(e,function(r){return r[0]})}},{key:"toItemArray",value:function(){var e;return Xr(e=or(this._pairs)).call(e,function(r){return r[1]})}},{key:"toEntryArray",value:function(){return or(this._pairs)}},{key:"toObjectMap",value:function(){var e=b8(null),r=ni(this._pairs),n;try{for(r.s();!(n=r.n()).done;){var s=rr(n.value,2),a=s[0],o=s[1];e[a]=o}}catch(l){r.e(l)}finally{r.f()}return e}},{key:"toMap",value:function(){return new P2(this._pairs)}},{key:"toIdSet",value:function(){return new nv(this.toIdArray())}},{key:"toItemSet",value:function(){return new nv(this.toItemArray())}},{key:"cache",value:function(){return new i(or(this._pairs))}},{key:"distinct",value:function(e){var r=new nv,n=ni(this._pairs),s;try{for(n.s();!(s=n.n()).done;){var a=rr(s.value,2),o=a[0],l=a[1];r.add(e(l,o))}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"filter",value:function(e){var r=this._pairs;return new i(rt({},fa,ir.mark(function n(){var s,a,o,l,u;return ir.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=ni(r),c.prev=1,s.s();case 3:if((a=s.n()).done){c.next=10;break}if(o=rr(a.value,2),l=o[0],u=o[1],!e(u,l)){c.next=8;break}return c.next=8,[l,u];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),s.e(c.t0);case 15:return c.prev=15,s.f(),c.finish(15);case 18:case"end":return c.stop()}},n,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(e){var r=ni(this._pairs),n;try{for(r.s();!(n=r.n()).done;){var s=rr(n.value,2),a=s[0],o=s[1];e(o,a)}}catch(l){r.e(l)}finally{r.f()}}},{key:"map",value:function(e){var r=this._pairs;return new i(rt({},fa,ir.mark(function n(){var s,a,o,l,u;return ir.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:s=ni(r),c.prev=1,s.s();case 3:if((a=s.n()).done){c.next=9;break}return o=rr(a.value,2),l=o[0],u=o[1],c.next=7,[l,e(u,l)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),s.e(c.t0);case 14:return c.prev=14,s.f(),c.finish(14);case 17:case"end":return c.stop()}},n,null,[[1,11,14,17]])})))}},{key:"max",value:function(e){var r=sv(this._pairs),n=r.next();if(n.done)return null;for(var s=n.value[1],a=e(n.value[1],n.value[0]);!(n=r.next()).done;){var o=rr(n.value,2),l=o[0],u=o[1],h=e(u,l);h>a&&(a=h,s=u)}return s}},{key:"min",value:function(e){var r=sv(this._pairs),n=r.next();if(n.done)return null;for(var s=n.value[1],a=e(n.value[1],n.value[0]);!(n=r.next()).done;){var o=rr(n.value,2),l=o[0],u=o[1],h=e(u,l);h<a&&(a=h,s=u)}return s}},{key:"reduce",value:function(e,r){var n=ni(this._pairs),s;try{for(n.s();!(s=n.n()).done;){var a=rr(s.value,2),o=a[0],l=a[1];r=e(r,l,o)}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"sort",value:function(e){var r=this;return new i(rt({},fa,function(){var n;return sv($O(n=or(r._pairs)).call(n,function(s,a){var o=rr(s,2),l=o[0],u=o[1],h=rr(a,2),c=h[0],d=h[1];return e(u,d,l,c)}))}))}}]),i}();function zx(i,t){var e=Y$(i);if(eS){var r=eS(i);t&&(r=ta(r).call(r,function(n){return XI(i,n).enumerable})),e.push.apply(e,r)}return e}function Fx(i){for(var t=1;t<arguments.length;t++){var e,r,n=arguments[t]!=null?arguments[t]:{};t%2?fs(e=zx(Object(n),!0)).call(e,function(s){rt(i,s,n[s])}):tS?kV(i,tS(n)):fs(r=zx(Object(n))).call(r,function(s){TV(i,s,XI(n,s))})}return i}function av(i,t){var e=typeof tf<"u"&&lu(i)||i["@@iterator"];if(!e){if(yr(i)||(e=bie(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function bie(i,t){var e;if(i){if(typeof i=="string")return jx(i,t);var r=nf(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return j$(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jx(i,t)}}function jx(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}function $ie(i){var t=wie();return function(){var r=Hc(i),n;if(t){var s=Hc(this).constructor;n=ac(r,arguments,s)}else n=r.apply(this,arguments);return ZG(this,n)}}function wie(){if(typeof Reflect>"u"||!ac||ac.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(ac(Boolean,[],function(){})),!0}catch{return!1}}function Sie(i,t){return i[t]==null&&(i[t]=Jre()),i}var Ta=function(i){BG(e,i);var t=$ie(e);function e(r,n){var s;return Nd(this,e),s=t.call(this),rt(Wn(s),"flush",void 0),rt(Wn(s),"length",void 0),rt(Wn(s),"_options",void 0),rt(Wn(s),"_data",void 0),rt(Wn(s),"_idProp",void 0),rt(Wn(s),"_queue",null),r&&!yr(r)&&(n=r,r=[]),s._options=n||{},s._data=new P2,s.length=0,s._idProp=s._options.fieldId||"id",r&&r.length&&s.add(r),s.setOptions(n),s}return Jd(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=eie.extend(this,{replace:["add","update","remove"]})),n.queue&&Dt(n.queue)==="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,s){var a=this,o=[],l;if(yr(n)){var u=Xr(n).call(n,function(d){return d[a._idProp]});if(Dte(u).call(u,function(d){return a._data.has(d)}))throw new Error("A duplicate id was found in the parameter array.");for(var h=0,c=n.length;h<c;h++)l=this._addItem(n[h]),o.push(l)}else if(n&&Dt(n)==="object")l=this._addItem(n),o.push(l);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},s),o}},{key:"update",value:function(n,s){var a=this,o=[],l=[],u=[],h=[],c=this._idProp,d=function(g){var O=g[c];if(O!=null&&a._data.has(O)){var b=g,y=bq({},a._data.get(O)),w=a._updateItem(b);l.push(w),h.push(b),u.push(y)}else{var x=a._addItem(g);o.push(x)}};if(yr(n))for(var f=0,p=n.length;f<p;f++)n[f]&&Dt(n[f])==="object"?d(n[f]):console.warn("Ignoring input item, which is not an object at index "+f);else if(n&&Dt(n)==="object")d(n);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},s),l.length){var v={items:l,oldData:u,data:h};this._trigger("update",v,s)}return rf(o).call(o,l)}},{key:"updateOnly",value:function(n,s){var a,o=this;yr(n)||(n=[n]);var l=Xr(a=Xr(n).call(n,function(h){var c=o._data.get(h[o._idProp]);if(c==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:c,update:h}})).call(a,function(h){var c=h.oldData,d=h.update,f=c[o._idProp],p=U6(c,d);return o._data.set(f,p),{id:f,oldData:c,updatedData:p}});if(l.length){var u={items:Xr(l).call(l,function(h){return h.id}),oldData:Xr(l).call(l,function(h){return h.oldData}),data:Xr(l).call(l,function(h){return h.updatedData})};return this._trigger("update",u,s),u.items}else return[]}},{key:"get",value:function(n,s){var a=void 0,o=void 0,l=void 0;Bx(n)?(a=n,l=s):yr(n)?(o=n,l=s):l=n;var u=l&&l.returnType==="Object"?"Object":"Array",h=l&&ta(l),c=[],d=void 0,f=void 0,p=void 0;if(a!=null)d=this._data.get(a),d&&h&&!h(d)&&(d=void 0);else if(o!=null)for(var v=0,m=o.length;v<m;v++)d=this._data.get(o[v]),d!=null&&(!h||h(d))&&c.push(d);else{var g;f=or(Ys(g=this._data).call(g));for(var O=0,b=f.length;O<b;O++)p=f[O],d=this._data.get(p),d!=null&&(!h||h(d))&&c.push(d)}if(l&&l.order&&a==null&&this._sort(c,l.order),l&&l.fields){var y=l.fields;if(a!=null&&d!=null)d=this._filterFields(d,y);else for(var w=0,x=c.length;w<x;w++)c[w]=this._filterFields(c[w],y)}if(u=="Object"){for(var P={},T=0,S=c.length;T<S;T++){var k=c[T],C=k[this._idProp];P[C]=k}return P}else if(a!=null){var j;return(j=d)!==null&&j!==void 0?j:null}else return c}},{key:"getIds",value:function(n){var s=this._data,a=n&&ta(n),o=n&&n.order,l=or(Ys(s).call(s)),u=[];if(a)if(o){for(var h=[],c=0,d=l.length;c<d;c++){var f=l[c],p=this._data.get(f);p!=null&&a(p)&&h.push(p)}this._sort(h,o);for(var v=0,m=h.length;v<m;v++)u.push(h[v][this._idProp])}else for(var g=0,O=l.length;g<O;g++){var b=l[g],y=this._data.get(b);y!=null&&a(y)&&u.push(y[this._idProp])}else if(o){for(var w=[],x=0,P=l.length;x<P;x++){var T=l[x];w.push(s.get(T))}this._sort(w,o);for(var S=0,k=w.length;S<k;S++)u.push(w[S][this._idProp])}else for(var C=0,j=l.length;C<j;C++){var z=l[C],ee=s.get(z);ee!=null&&u.push(ee[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,s){var a=s&&ta(s),o=this._data,l=or(Ys(o).call(o));if(s&&s.order)for(var u=this.get(s),h=0,c=u.length;h<c;h++){var d=u[h],f=d[this._idProp];n(d,f)}else for(var p=0,v=l.length;p<v;p++){var m=l[p],g=this._data.get(m);g!=null&&(!a||a(g))&&n(g,m)}}},{key:"map",value:function(n,s){for(var a=s&&ta(s),o=[],l=this._data,u=or(Ys(l).call(l)),h=0,c=u.length;h<c;h++){var d=u[h],f=this._data.get(d);f!=null&&(!a||a(f))&&o.push(n(f,d))}return s&&s.order&&this._sort(o,s.order),o}},{key:"_filterFields",value:function(n,s){var a;return n&&J3(a=yr(s)?s:Y$(s)).call(a,function(o,l){return o[l]=n[l],o},{})}},{key:"_sort",value:function(n,s){if(typeof s=="string"){var a=s;$O(n).call(n,function(o,l){var u=o[a],h=l[a];return u>h?1:u<h?-1:0})}else if(typeof s=="function")$O(n).call(n,s);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,s){for(var a=[],o=[],l=yr(n)?n:[n],u=0,h=l.length;u<h;u++){var c=this._remove(l[u]);if(c){var d=c[this._idProp];d!=null&&(a.push(d),o.push(c))}}return a.length&&this._trigger("remove",{items:a,oldData:o},s),a}},{key:"_remove",value:function(n){var s;if(Bx(n)?s=n:n&&Dt(n)==="object"&&(s=n[this._idProp]),s!=null&&this._data.has(s)){var a=this._data.get(s)||null;return this._data.delete(s),--this.length,a}return null}},{key:"clear",value:function(n){for(var s,a=or(Ys(s=this._data).call(s)),o=[],l=0,u=a.length;l<u;l++)o.push(this._data.get(a[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:a,oldData:o},n),a}},{key:"max",value:function(n){var s,a=null,o=null,l=av(Dx(s=this._data).call(s)),u;try{for(l.s();!(u=l.n()).done;){var h=u.value,c=h[n];typeof c=="number"&&(o==null||c>o)&&(a=h,o=c)}}catch(d){l.e(d)}finally{l.f()}return a||null}},{key:"min",value:function(n){var s,a=null,o=null,l=av(Dx(s=this._data).call(s)),u;try{for(l.s();!(u=l.n()).done;){var h=u.value,c=h[n];typeof c=="number"&&(o==null||c<o)&&(a=h,o=c)}}catch(d){l.e(d)}finally{l.f()}return a||null}},{key:"distinct",value:function(n){for(var s=this._data,a=or(Ys(s).call(s)),o=[],l=0,u=0,h=a.length;u<h;u++){for(var c=a[u],d=s.get(c),f=d[n],p=!1,v=0;v<l;v++)if(o[v]==f){p=!0;break}!p&&f!==void 0&&(o[l]=f,l++)}return o}},{key:"_addItem",value:function(n){var s=Sie(n,this._idProp),a=s[this._idProp];if(this._data.has(a))throw new Error("Cannot add item: item with id "+a+" already exists");return this._data.set(a,s),++this.length,a}},{key:"_updateItem",value:function(n){var s=n[this._idProp];if(s==null)throw new Error("Cannot update item: item has no id (item: "+P8(n)+")");var a=this._data.get(s);if(!a)throw new Error("Cannot update item: no item with id "+s+" found");return this._data.set(s,Fx(Fx({},a),n)),s}},{key:"stream",value:function(n){if(n){var s=this._data;return new Lx(rt({},fa,ir.mark(function o(){var l,u,h,c;return ir.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=av(n),f.prev=1,l.s();case 3:if((u=l.n()).done){f.next=11;break}if(h=u.value,c=s.get(h),c==null){f.next=9;break}return f.next=9,[h,c];case 9:f.next=3;break;case 11:f.next=16;break;case 13:f.prev=13,f.t0=f.catch(1),l.e(f.t0);case 16:return f.prev=16,l.f(),f.finish(16);case 19:case"end":return f.stop()}},o,null,[[1,13,16,19]])})))}else{var a;return new Lx(rt({},fa,AI(a=Ure(this._data)).call(a,this._data)))}}}]),e}(tie);function xie(i,t){return Dt(t)==="object"&&t!==null&&i===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof fs(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof Xr(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function C2(i,t){return Dt(t)==="object"&&t!==null&&i===t.idProp&&typeof fs(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof Xr(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&xie(i,t.getDataSet())}const hc=new Ot({initialData:!1,observers:[]}),Xx=new $$({observers:[]}),_O=new Ot({initialData:-1,observers:[]}),No=new Ot({initialData:"",observers:[]}),Go=new Ot({initialData:"",observers:[]}),cc=new Ot({initialData:!1,observers:[]}),_a=new eB,uf=new Ot({initialData:{mode:!1,x:"0",y:"0"},observers:[]}),hf=new Ot({initialData:{mode:!1,x:"0",y:"0"},observers:[]}),cf=new Ot({initialData:{mode:!1,x:"0",y:"0"},observers:[]}),yh=[uf,hf,cf],I2=new Ot({initialData:-1,observers:[]}),Q2=new Ot({initialData:-1,observers:[]}),EO=new Ot({initialData:!1,observers:[]}),yl=new Ta,dc=new Ta;/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.6
 * @date    2023-03-23T21:31:19.223Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var CO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var IO={},kie={get exports(){return IO},set exports(i){IO=i}},bh=function(i){return i&&i.Math==Math&&i},gt=bh(typeof globalThis=="object"&&globalThis)||bh(typeof window=="object"&&window)||bh(typeof self=="object"&&self)||bh(typeof CO=="object"&&CO)||function(){return this}()||Function("return this")(),ye=function(i){try{return!!i()}catch{return!0}},Pie=ye,gu=!Pie(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),Tie=gu,A2=Function.prototype,Yx=A2.apply,Wx=A2.call,mu=typeof Reflect=="object"&&Reflect.apply||(Tie?Wx.bind(Yx):function(){return Wx.apply(Yx,arguments)}),R2=gu,M2=Function.prototype,QO=M2.call,_ie=R2&&M2.bind.bind(QO,QO),be=R2?_ie:function(i){return function(){return QO.apply(i,arguments)}},D2=be,Eie=D2({}.toString),Cie=D2("".slice),Hi=function(i){return Cie(Eie(i),8,-1)},Iie=Hi,Qie=be,h1=function(i){if(Iie(i)==="Function")return Qie(i)},AO=typeof document=="object"&&document.all,Aie=typeof AO>"u"&&AO!==void 0,N2={all:AO,IS_HTMLDDA:Aie},B2=N2,Rie=B2.all,_t=B2.IS_HTMLDDA?function(i){return typeof i=="function"||i===Rie}:function(i){return typeof i=="function"},ao={},Mie=ye,bt=!Mie(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Die=gu,$h=Function.prototype.call,kr=Die?$h.bind($h):function(){return $h.apply($h,arguments)},Ou={},Z2={}.propertyIsEnumerable,L2=Object.getOwnPropertyDescriptor,Nie=L2&&!Z2.call({1:2},1);Ou.f=Nie?function(t){var e=L2(this,t);return!!e&&e.enumerable}:Z2;var yu=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}},Bie=be,Zie=ye,Lie=Hi,ov=Object,zie=Bie("".split),df=Zie(function(){return!ov("z").propertyIsEnumerable(0)})?function(i){return Lie(i)=="String"?zie(i,""):ov(i)}:ov,bu=function(i){return i==null},Fie=bu,jie=TypeError,$u=function(i){if(Fie(i))throw jie("Can't call method on "+i);return i},Xie=df,Yie=$u,ei=function(i){return Xie(Yie(i))},Vx=_t,z2=N2,Wie=z2.all,Et=z2.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:Vx(i)||i===Wie}:function(i){return typeof i=="object"?i!==null:Vx(i)},ge={},lv=ge,uv=gt,Vie=_t,Ux=function(i){return Vie(i)?i:void 0},Zr=function(i,t){return arguments.length<2?Ux(lv[i])||Ux(uv[i]):lv[i]&&lv[i][t]||uv[i]&&uv[i][t]},Uie=be,at=Uie({}.isPrototypeOf),wu=typeof navigator<"u"&&String(navigator.userAgent)||"",F2=gt,hv=wu,qx=F2.process,Gx=F2.Deno,Hx=qx&&qx.versions||Gx&&Gx.version,Kx=Hx&&Hx.v8,Yr,rd;Kx&&(Yr=Kx.split("."),rd=Yr[0]>0&&Yr[0]<4?1:+(Yr[0]+Yr[1]));!rd&&hv&&(Yr=hv.match(/Edge\/(\d+)/),(!Yr||Yr[1]>=74)&&(Yr=hv.match(/Chrome\/(\d+)/),Yr&&(rd=+Yr[1])));var Su=rd,Jx=Su,qie=ye,oo=!!Object.getOwnPropertySymbols&&!qie(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&Jx&&Jx<41}),Gie=oo,j2=Gie&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Hie=Zr,Kie=_t,Jie=at,ene=j2,tne=Object,xu=ene?function(i){return typeof i=="symbol"}:function(i){var t=Hie("Symbol");return Kie(t)&&Jie(t.prototype,tne(i))},rne=String,lo=function(i){try{return rne(i)}catch{return"Object"}},ine=_t,nne=lo,sne=TypeError,Is=function(i){if(ine(i))return i;throw sne(nne(i)+" is not a function")},ane=Is,one=bu,c1=function(i,t){var e=i[t];return one(e)?void 0:ane(e)},cv=kr,dv=_t,fv=Et,lne=TypeError,une=function(i,t){var e,r;if(t==="string"&&dv(e=i.toString)&&!fv(r=cv(e,i))||dv(e=i.valueOf)&&!fv(r=cv(e,i))||t!=="string"&&dv(e=i.toString)&&!fv(r=cv(e,i)))return r;throw lne("Can't convert object to primitive value")},kn={},hne={get exports(){return kn},set exports(i){kn=i}},ek=gt,cne=Object.defineProperty,dne=function(i,t){try{cne(ek,i,{value:t,configurable:!0,writable:!0})}catch{ek[i]=t}return t},fne=gt,pne=dne,tk="__core-js_shared__",vne=fne[tk]||pne(tk,{}),d1=vne,rk=d1;(hne.exports=function(i,t){return rk[i]||(rk[i]=t!==void 0?t:{})})("versions",[]).push({version:"3.29.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"});var gne=$u,mne=Object,Pr=function(i){return mne(gne(i))},One=be,yne=Pr,bne=One({}.hasOwnProperty),Ct=Object.hasOwn||function(t,e){return bne(yne(t),e)},$ne=be,wne=0,Sne=Math.random(),xne=$ne(1 .toString),ff=function(i){return"Symbol("+(i===void 0?"":i)+")_"+xne(++wne+Sne,36)},kne=gt,Pne=kn,ik=Ct,Tne=ff,_ne=oo,Ene=j2,aa=kne.Symbol,pv=Pne("wks"),Cne=Ene?aa.for||aa:aa&&aa.withoutSetter||Tne,ot=function(i){return ik(pv,i)||(pv[i]=_ne&&ik(aa,i)?aa[i]:Cne("Symbol."+i)),pv[i]},Ine=kr,nk=Et,sk=xu,Qne=c1,Ane=une,Rne=ot,Mne=TypeError,Dne=Rne("toPrimitive"),Nne=function(i,t){if(!nk(i)||sk(i))return i;var e=Qne(i,Dne),r;if(e){if(t===void 0&&(t="default"),r=Ine(e,i,t),!nk(r)||sk(r))return r;throw Mne("Can't convert object to primitive value")}return t===void 0&&(t="number"),Ane(i,t)},Bne=Nne,Zne=xu,pf=function(i){var t=Bne(i,"string");return Zne(t)?t:t+""},Lne=gt,ak=Et,RO=Lne.document,zne=ak(RO)&&ak(RO.createElement),X2=function(i){return zne?RO.createElement(i):{}},Fne=bt,jne=ye,Xne=X2,Y2=!Fne&&!jne(function(){return Object.defineProperty(Xne("div"),"a",{get:function(){return 7}}).a!=7}),Yne=bt,Wne=kr,Vne=Ou,Une=yu,qne=ei,Gne=pf,Hne=Ct,Kne=Y2,ok=Object.getOwnPropertyDescriptor;ao.f=Yne?ok:function(t,e){if(t=qne(t),e=Gne(e),Kne)try{return ok(t,e)}catch{}if(Hne(t,e))return Une(!Wne(Vne.f,t,e),t[e])};var Jne=ye,ese=_t,tse=/#|\.prototype\./,ku=function(i,t){var e=ise[rse(i)];return e==sse?!0:e==nse?!1:ese(t)?Jne(t):!!t},rse=ku.normalize=function(i){return String(i).replace(tse,".").toLowerCase()},ise=ku.data={},nse=ku.NATIVE="N",sse=ku.POLYFILL="P",ase=ku,lk=h1,ose=Is,lse=gu,use=lk(lk.bind),Pu=function(i,t){return ose(i),t===void 0?i:lse?use(i,t):function(){return i.apply(t,arguments)}},Lr={},hse=bt,cse=ye,W2=hse&&cse(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),dse=Et,fse=String,pse=TypeError,Tr=function(i){if(dse(i))return i;throw pse(fse(i)+" is not an object")},vse=bt,gse=Y2,mse=W2,wh=Tr,uk=pf,Ose=TypeError,vv=Object.defineProperty,yse=Object.getOwnPropertyDescriptor,gv="enumerable",mv="configurable",Ov="writable";Lr.f=vse?mse?function(t,e,r){if(wh(t),e=uk(e),wh(r),typeof t=="function"&&e==="prototype"&&"value"in r&&Ov in r&&!r[Ov]){var n=yse(t,e);n&&n[Ov]&&(t[e]=r.value,r={configurable:mv in r?r[mv]:n[mv],enumerable:gv in r?r[gv]:n[gv],writable:!1})}return vv(t,e,r)}:vv:function(t,e,r){if(wh(t),e=uk(e),wh(r),gse)try{return vv(t,e,r)}catch{}if("get"in r||"set"in r)throw Ose("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var bse=bt,$se=Lr,wse=yu,uo=bse?function(i,t,e){return $se.f(i,t,wse(1,e))}:function(i,t,e){return i[t]=e,i},Sh=gt,Sse=mu,xse=h1,kse=_t,Pse=ao.f,Tse=ase,Ws=ge,_se=Pu,Vs=uo,hk=Ct,Ese=function(i){var t=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new i;case 1:return new i(e);case 2:return new i(e,r)}return new i(e,r,n)}return Sse(i,this,arguments)};return t.prototype=i.prototype,t},ie=function(i,t){var e=i.target,r=i.global,n=i.stat,s=i.proto,a=r?Sh:n?Sh[e]:(Sh[e]||{}).prototype,o=r?Ws:Ws[e]||Vs(Ws,e,{})[e],l=o.prototype,u,h,c,d,f,p,v,m,g;for(d in t)u=Tse(r?d:e+(n?".":"#")+d,i.forced),h=!u&&a&&hk(a,d),p=o[d],h&&(i.dontCallGetSet?(g=Pse(a,d),v=g&&g.value):v=a[d]),f=h&&v?v:t[d],!(h&&typeof p==typeof f)&&(i.bind&&h?m=_se(f,Sh):i.wrap&&h?m=Ese(f):s&&kse(f)?m=xse(f):m=f,(i.sham||f&&f.sham||p&&p.sham)&&Vs(m,"sham",!0),Vs(o,d,m),s&&(c=e+"Prototype",hk(Ws,c)||Vs(Ws,c,{}),Vs(Ws[c],d,f),i.real&&l&&(u||!l[d])&&Vs(l,d,f)))},Cse=Math.ceil,Ise=Math.floor,Qse=Math.trunc||function(t){var e=+t;return(e>0?Ise:Cse)(e)},Ase=Qse,vf=function(i){var t=+i;return t!==t||t===0?0:Ase(t)},Rse=vf,Mse=Math.max,Dse=Math.min,Tu=function(i,t){var e=Rse(i);return e<0?Mse(e+t,0):Dse(e,t)},Nse=vf,Bse=Math.min,Zse=function(i){return i>0?Bse(Nse(i),9007199254740991):0},Lse=Zse,ti=function(i){return Lse(i.length)},zse=ei,Fse=Tu,jse=ti,ck=function(i){return function(t,e,r){var n=zse(t),s=jse(n),a=Fse(r,s),o;if(i&&e!=e){for(;s>a;)if(o=n[a++],o!=o)return!0}else for(;s>a;a++)if((i||a in n)&&n[a]===e)return i||a||0;return!i&&-1}},f1={includes:ck(!0),indexOf:ck(!1)},_u={},Xse=be,yv=Ct,Yse=ei,Wse=f1.indexOf,Vse=_u,dk=Xse([].push),V2=function(i,t){var e=Yse(i),r=0,n=[],s;for(s in e)!yv(Vse,s)&&yv(e,s)&&dk(n,s);for(;t.length>r;)yv(e,s=t[r++])&&(~Wse(n,s)||dk(n,s));return n},p1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Use=V2,qse=p1,Eu=Object.keys||function(t){return Use(t,qse)},Cu={};Cu.f=Object.getOwnPropertySymbols;var fk=bt,Gse=be,Hse=kr,Kse=ye,bv=Eu,Jse=Cu,eae=Ou,tae=Pr,rae=df,Us=Object.assign,pk=Object.defineProperty,iae=Gse([].concat),nae=!Us||Kse(function(){if(fk&&Us({b:1},Us(pk({},"a",{enumerable:!0,get:function(){pk(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var i={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return i[e]=7,r.split("").forEach(function(n){t[n]=n}),Us({},i)[e]!=7||bv(Us({},t)).join("")!=r})?function(t,e){for(var r=tae(t),n=arguments.length,s=1,a=Jse.f,o=eae.f;n>s;)for(var l=rae(arguments[s++]),u=a?iae(bv(l),a(l)):bv(l),h=u.length,c=0,d;h>c;)d=u[c++],(!fk||Hse(o,l,d))&&(r[d]=l[d]);return r}:Us,sae=ie,vk=nae;sae({target:"Object",stat:!0,arity:2,forced:Object.assign!==vk},{assign:vk});var aae=ge,oae=aae.Object.assign,lae=oae,uae=lae;(function(i){i.exports=uae})(kie);var dt=H(IO),MO={},hae={get exports(){return MO},set exports(i){MO=i}},cae=be,gf=cae([].slice),U2=be,dae=Is,fae=Et,pae=Ct,gk=gf,vae=gu,q2=Function,gae=U2([].concat),mae=U2([].join),$v={},Oae=function(i,t,e){if(!pae($v,t)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";$v[t]=q2("C,a","return new C("+mae(r,",")+")")}return $v[t](i,e)},G2=vae?q2.bind:function(t){var e=dae(this),r=e.prototype,n=gk(arguments,1),s=function(){var o=gae(n,gk(arguments));return this instanceof s?Oae(e,o.length,o):e.apply(t,o)};return fae(r)&&(s.prototype=r),s},yae=ie,mk=G2;yae({target:"Function",proto:!0,forced:Function.bind!==mk},{bind:mk});var bae=ge,It=function(i){return bae[i+"Prototype"]},$ae=It,wae=$ae("Function").bind,Sae=at,xae=wae,wv=Function.prototype,kae=function(i){var t=i.bind;return i===wv||Sae(wv,i)&&t===wv.bind?xae:t},Pae=kae,H2=Pae;(function(i){i.exports=H2})(hae);var M=H(MO);function v1(i,t,e,r){i.beginPath(),i.arc(t,e,r,0,2*Math.PI,!1),i.closePath()}function Tae(i,t,e,r){i.beginPath(),i.rect(t-r,e-r,r*2,r*2),i.closePath()}function _ae(i,t,e,r){i.beginPath(),r*=1.15,e+=.275*r;var n=r*2,s=n/2,a=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-s*s);i.moveTo(t,e-(o-a)),i.lineTo(t+s,e+a),i.lineTo(t-s,e+a),i.lineTo(t,e-(o-a)),i.closePath()}function Eae(i,t,e,r){i.beginPath(),r*=1.15,e-=.275*r;var n=r*2,s=n/2,a=Math.sqrt(3)/6*n,o=Math.sqrt(n*n-s*s);i.moveTo(t,e+(o-a)),i.lineTo(t+s,e-a),i.lineTo(t-s,e-a),i.lineTo(t,e+(o-a)),i.closePath()}function Cae(i,t,e,r){i.beginPath(),r*=.82,e+=.1*r;for(var n=0;n<10;n++){var s=n%2===0?r*1.3:r*.5;i.lineTo(t+s*Math.sin(n*2*Math.PI/10),e-s*Math.cos(n*2*Math.PI/10))}i.closePath()}function Iae(i,t,e,r){i.beginPath(),i.lineTo(t,e+r),i.lineTo(t+r,e),i.lineTo(t,e-r),i.lineTo(t-r,e),i.closePath()}function K2(i,t,e,r,n,s){var a=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(t+s,e),i.lineTo(t+r-s,e),i.arc(t+r-s,e+s,s,a*270,a*360,!1),i.lineTo(t+r,e+n-s),i.arc(t+r-s,e+n-s,s,0,a*90,!1),i.lineTo(t+s,e+n),i.arc(t+s,e+n-s,s,a*90,a*180,!1),i.lineTo(t,e+s),i.arc(t+s,e+s,s,a*180,a*270,!1),i.closePath()}function DO(i,t,e,r,n){var s=.5522848,a=r/2*s,o=n/2*s,l=t+r,u=e+n,h=t+r/2,c=e+n/2;i.beginPath(),i.moveTo(t,c),i.bezierCurveTo(t,c-o,h-a,e,h,e),i.bezierCurveTo(h+a,e,l,c-o,l,c),i.bezierCurveTo(l,c+o,h+a,u,h,u),i.bezierCurveTo(h-a,u,t,c+o,t,c),i.closePath()}function J2(i,t,e,r,n){var s=.3333333333333333,a=r,o=n*s,l=.5522848,u=a/2*l,h=o/2*l,c=t+a,d=e+o,f=t+a/2,p=e+o/2,v=e+(n-o/2),m=e+n;i.beginPath(),i.moveTo(c,p),i.bezierCurveTo(c,p+h,f+u,d,f,d),i.bezierCurveTo(f-u,d,t,p+h,t,p),i.bezierCurveTo(t,p-h,f-u,e,f,e),i.bezierCurveTo(f+u,e,c,p-h,c,p),i.lineTo(c,v),i.bezierCurveTo(c,v+h,f+u,m,f,m),i.bezierCurveTo(f-u,m,t,v+h,t,v),i.lineTo(t,p)}function eA(i,t,e,r,n,s){i.beginPath(),i.moveTo(t,e);for(var a=s.length,o=r-t,l=n-e,u=l/o,h=Math.sqrt(o*o+l*l),c=0,d=!0,f=0,p=+s[0];h>=.1;)p=+s[c++%a],p>h&&(p=h),f=Math.sqrt(p*p/(1+u*u)),f=o<0?-f:f,t+=f,e+=u*f,d===!0?i.lineTo(t,e):i.moveTo(t,e),h-=p,d=!d}function Qae(i,t,e,r){i.beginPath();var n=6,s=Math.PI*2/n;i.moveTo(t+r,e);for(var a=1;a<n;a++)i.lineTo(t+r*Math.cos(s*a),e+r*Math.sin(s*a));i.closePath()}var Ok={circle:v1,dashedLine:eA,database:J2,diamond:Iae,ellipse:DO,ellipse_vis:DO,hexagon:Qae,roundRect:K2,square:Tae,star:Cae,triangle:_ae,triangleDown:Eae};function Aae(i){return Object.prototype.hasOwnProperty.call(Ok,i)?Ok[i]:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(t,r)}}var NO={},Rae={get exports(){return NO},set exports(i){NO=i}};(function(i){i.exports=t;function t(r){if(r)return e(r)}function e(r){for(var n in t.prototype)r[n]=t.prototype[n];return r}t.prototype.on=t.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},t.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===n||a.fn===n){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+r],this},t.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,n)}return this},t.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},t.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(Rae);var tA=NO,BO={},Mae={get exports(){return BO},set exports(i){BO=i}},Dae=ot,Nae=Dae("toStringTag"),rA={};rA[Nae]="z";var g1=String(rA)==="[object z]",Bae=g1,Zae=_t,fc=Hi,Lae=ot,zae=Lae("toStringTag"),Fae=Object,jae=fc(function(){return arguments}())=="Arguments",Xae=function(i,t){try{return i[t]}catch{}},Qs=Bae?fc:function(i){var t,e,r;return i===void 0?"Undefined":i===null?"Null":typeof(e=Xae(t=Fae(i),zae))=="string"?e:jae?fc(t):(r=fc(t))=="Object"&&Zae(t.callee)?"Arguments":r},Yae=Qs,Wae=String,xi=function(i){if(Yae(i)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Wae(i)},m1=be,Vae=vf,Uae=xi,qae=$u,Gae=m1("".charAt),yk=m1("".charCodeAt),Hae=m1("".slice),bk=function(i){return function(t,e){var r=Uae(qae(t)),n=Vae(e),s=r.length,a,o;return n<0||n>=s?i?"":void 0:(a=yk(r,n),a<55296||a>56319||n+1===s||(o=yk(r,n+1))<56320||o>57343?i?Gae(r,n):a:i?Hae(r,n,n+2):(a-55296<<10)+(o-56320)+65536)}},Kae={codeAt:bk(!1),charAt:bk(!0)},Jae=gt,eoe=_t,$k=Jae.WeakMap,iA=eoe($k)&&/native code/.test(String($k)),toe=kn,roe=ff,wk=toe("keys"),mf=function(i){return wk[i]||(wk[i]=roe(i))},ioe=iA,nA=gt,noe=Et,soe=uo,Sv=Ct,xv=d1,aoe=mf,ooe=_u,Sk="Object already initialized",ZO=nA.TypeError,loe=nA.WeakMap,id,bl,nd,uoe=function(i){return nd(i)?bl(i):id(i,{})},hoe=function(i){return function(t){var e;if(!noe(t)||(e=bl(t)).type!==i)throw ZO("Incompatible receiver, "+i+" required");return e}};if(ioe||xv.state){var si=xv.state||(xv.state=new loe);si.get=si.get,si.has=si.has,si.set=si.set,id=function(i,t){if(si.has(i))throw ZO(Sk);return t.facade=i,si.set(i,t),t},bl=function(i){return si.get(i)||{}},nd=function(i){return si.has(i)}}else{var qs=aoe("state");ooe[qs]=!0,id=function(i,t){if(Sv(i,qs))throw ZO(Sk);return t.facade=i,soe(i,qs,t),t},bl=function(i){return Sv(i,qs)?i[qs]:{}},nd=function(i){return Sv(i,qs)}}var As={set:id,get:bl,has:nd,enforce:uoe,getterFor:hoe},LO=bt,coe=Ct,sA=Function.prototype,doe=LO&&Object.getOwnPropertyDescriptor,O1=coe(sA,"name"),foe=O1&&(function(){}).name==="something",poe=O1&&(!LO||LO&&doe(sA,"name").configurable),aA={EXISTS:O1,PROPER:foe,CONFIGURABLE:poe},Of={},voe=bt,goe=W2,moe=Lr,Ooe=Tr,yoe=ei,boe=Eu;Of.f=voe&&!goe?Object.defineProperties:function(t,e){Ooe(t);for(var r=yoe(e),n=boe(e),s=n.length,a=0,o;s>a;)moe.f(t,o=n[a++],r[o]);return t};var $oe=Zr,woe=$oe("document","documentElement"),Soe=Tr,xoe=Of,xk=p1,koe=_u,Poe=woe,Toe=X2,_oe=mf,kk=">",Pk="<",zO="prototype",FO="script",oA=_oe("IE_PROTO"),kv=function(){},lA=function(i){return Pk+FO+kk+i+Pk+"/"+FO+kk},Tk=function(i){i.write(lA("")),i.close();var t=i.parentWindow.Object;return i=null,t},Eoe=function(){var i=Toe("iframe"),t="java"+FO+":",e;return i.style.display="none",Poe.appendChild(i),i.src=String(t),e=i.contentWindow.document,e.open(),e.write(lA("document.F=Object")),e.close(),e.F},xh,pc=function(){try{xh=new ActiveXObject("htmlfile")}catch{}pc=typeof document<"u"?document.domain&&xh?Tk(xh):Eoe():Tk(xh);for(var i=xk.length;i--;)delete pc[zO][xk[i]];return pc()};koe[oA]=!0;var ho=Object.create||function(t,e){var r;return t!==null?(kv[zO]=Soe(t),r=new kv,kv[zO]=null,r[oA]=t):r=pc(),e===void 0?r:xoe.f(r,e)},Coe=ye,uA=!Coe(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype}),Ioe=Ct,Qoe=_t,Aoe=Pr,Roe=mf,Moe=uA,_k=Roe("IE_PROTO"),jO=Object,Doe=jO.prototype,yf=Moe?jO.getPrototypeOf:function(i){var t=Aoe(i);if(Ioe(t,_k))return t[_k];var e=t.constructor;return Qoe(e)&&t instanceof e?e.prototype:t instanceof jO?Doe:null},Noe=uo,Iu=function(i,t,e,r){return r&&r.enumerable?i[t]=e:Noe(i,t,e),i},Boe=ye,Zoe=_t,Loe=Et,zoe=ho,Ek=yf,Foe=Iu,joe=ot,XO=joe("iterator"),hA=!1,Ri,Pv,Tv;[].keys&&(Tv=[].keys(),"next"in Tv?(Pv=Ek(Ek(Tv)),Pv!==Object.prototype&&(Ri=Pv)):hA=!0);var Xoe=!Loe(Ri)||Boe(function(){var i={};return Ri[XO].call(i)!==i});Xoe?Ri={}:Ri=zoe(Ri);Zoe(Ri[XO])||Foe(Ri,XO,function(){return this});var cA={IteratorPrototype:Ri,BUGGY_SAFARI_ITERATORS:hA},Yoe=g1,Woe=Qs,Voe=Yoe?{}.toString:function(){return"[object "+Woe(this)+"]"},Uoe=g1,qoe=Lr.f,Goe=uo,Hoe=Ct,Koe=Voe,Joe=ot,Ck=Joe("toStringTag"),co=function(i,t,e,r){if(i){var n=e?i:i.prototype;Hoe(n,Ck)||qoe(n,Ck,{configurable:!0,value:t}),r&&!Uoe&&Goe(n,"toString",Koe)}},fo={},ele=cA.IteratorPrototype,tle=ho,rle=yu,ile=co,nle=fo,sle=function(){return this},ale=function(i,t,e,r){var n=t+" Iterator";return i.prototype=tle(ele,{next:rle(+!r,e)}),ile(i,n,!1,!0),nle[n]=sle,i},ole=be,lle=Is,ule=function(i,t,e){try{return ole(lle(Object.getOwnPropertyDescriptor(i,t)[e]))}catch{}},hle=_t,cle=String,dle=TypeError,fle=function(i){if(typeof i=="object"||hle(i))return i;throw dle("Can't set "+cle(i)+" as a prototype")},ple=ule,vle=Tr,gle=fle,mle=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,t={},e;try{e=ple(Object.prototype,"__proto__","set"),e(t,[]),i=t instanceof Array}catch{}return function(n,s){return vle(n),gle(s),i?e(n,s):n.__proto__=s,n}}():void 0),Ole=ie,yle=kr,ble=aA,$le=ale,wle=yf,Sle=co,Ik=Iu,xle=ot,Qk=fo,kle=cA,Ple=ble.PROPER,kh=kle.BUGGY_SAFARI_ITERATORS,_v=xle("iterator"),Ak="keys",Ph="values",Rk="entries",Tle=function(){return this},y1=function(i,t,e,r,n,s,a){$le(e,t,r);var o=function(g){if(g===n&&d)return d;if(!kh&&g in h)return h[g];switch(g){case Ak:return function(){return new e(this,g)};case Ph:return function(){return new e(this,g)};case Rk:return function(){return new e(this,g)}}return function(){return new e(this)}},l=t+" Iterator",u=!1,h=i.prototype,c=h[_v]||h["@@iterator"]||n&&h[n],d=!kh&&c||o(n),f=t=="Array"&&h.entries||c,p,v,m;if(f&&(p=wle(f.call(new i)),p!==Object.prototype&&p.next&&(Sle(p,l,!0,!0),Qk[l]=Tle)),Ple&&n==Ph&&c&&c.name!==Ph&&(u=!0,d=function(){return yle(c,this)}),n)if(v={values:o(Ph),keys:s?d:o(Ak),entries:o(Rk)},a)for(m in v)(kh||u||!(m in h))&&Ik(h,m,v[m]);else Ole({target:t,proto:!0,forced:kh||u},v);return a&&h[_v]!==d&&Ik(h,_v,d,{name:n}),Qk[t]=d,v},b1=function(i,t){return{value:i,done:t}},_le=Kae.charAt,Ele=xi,dA=As,Cle=y1,Mk=b1,fA="String Iterator",Ile=dA.set,Qle=dA.getterFor(fA);Cle(String,"String",function(i){Ile(this,{type:fA,string:Ele(i),index:0})},function(){var t=Qle(this),e=t.string,r=t.index,n;return r>=e.length?Mk(void 0,!0):(n=_le(e,r),t.index+=n.length,Mk(n,!1))});var Ale=kr,Dk=Tr,Rle=c1,pA=function(i,t,e){var r,n;Dk(i);try{if(r=Rle(i,"return"),!r){if(t==="throw")throw e;return e}r=Ale(r,i)}catch(s){n=!0,r=s}if(t==="throw")throw e;if(n)throw r;return Dk(r),e},Mle=Tr,Dle=pA,Nle=function(i,t,e,r){try{return r?t(Mle(e)[0],e[1]):t(e)}catch(n){Dle(i,"throw",n)}},Ble=ot,Zle=fo,Lle=Ble("iterator"),zle=Array.prototype,vA=function(i){return i!==void 0&&(Zle.Array===i||zle[Lle]===i)},Fle=be,jle=_t,YO=d1,Xle=Fle(Function.toString);jle(YO.inspectSource)||(YO.inspectSource=function(i){return Xle(i)});var Yle=YO.inspectSource,Wle=be,Vle=ye,gA=_t,Ule=Qs,qle=Zr,Gle=Yle,mA=function(){},Hle=[],OA=qle("Reflect","construct"),$1=/^\s*(?:class|function)\b/,Kle=Wle($1.exec),Jle=!$1.exec(mA),So=function(t){if(!gA(t))return!1;try{return OA(mA,Hle,t),!0}catch{return!1}},yA=function(t){if(!gA(t))return!1;switch(Ule(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Jle||!!Kle($1,Gle(t))}catch{return!0}};yA.sham=!0;var bf=!OA||Vle(function(){var i;return So(So.call)||!So(Object)||!So(function(){i=!0})||i})?yA:So,eue=pf,tue=Lr,rue=yu,po=function(i,t,e){var r=eue(t);r in i?tue.f(i,r,rue(0,e)):i[r]=e},iue=Qs,Nk=c1,nue=bu,sue=fo,aue=ot,oue=aue("iterator"),$f=function(i){if(!nue(i))return Nk(i,oue)||Nk(i,"@@iterator")||sue[iue(i)]},lue=kr,uue=Is,hue=Tr,cue=lo,due=$f,fue=TypeError,bA=function(i,t){var e=arguments.length<2?due(i):t;if(uue(e))return hue(lue(e,i));throw fue(cue(i)+" is not iterable")},pue=Pu,vue=kr,gue=Pr,mue=Nle,Oue=vA,yue=bf,bue=ti,Bk=po,$ue=bA,wue=$f,Zk=Array,Sue=function(t){var e=gue(t),r=yue(this),n=arguments.length,s=n>1?arguments[1]:void 0,a=s!==void 0;a&&(s=pue(s,n>2?arguments[2]:void 0));var o=wue(e),l=0,u,h,c,d,f,p;if(o&&!(this===Zk&&Oue(o)))for(d=$ue(e,o),f=d.next,h=r?new this:[];!(c=vue(f,d)).done;l++)p=a?mue(d,s,[c.value,l],!0):c.value,Bk(h,l,p);else for(u=bue(e),h=r?new this(u):Zk(u);u>l;l++)p=a?s(e[l],l):e[l],Bk(h,l,p);return h.length=l,h},xue=ot,$A=xue("iterator"),wA=!1;try{var kue=0,Lk={next:function(){return{done:!!kue++}},return:function(){wA=!0}};Lk[$A]=function(){return this},Array.from(Lk,function(){throw 2})}catch{}var Pue=function(i,t){if(!t&&!wA)return!1;var e=!1;try{var r={};r[$A]=function(){return{next:function(){return{done:e=!0}}}},i(r)}catch{}return e},Tue=ie,_ue=Sue,Eue=Pue,Cue=!Eue(function(i){Array.from(i)});Tue({target:"Array",stat:!0,forced:Cue},{from:_ue});var Iue=ge,Que=Iue.Array.from,Aue=Que,SA=Aue;(function(i){i.exports=SA})(Mae);var Rs=H(BO),WO={},Rue={get exports(){return WO},set exports(i){WO=i}},VO={},Mue={get exports(){return VO},set exports(i){VO=i}},Due=ei,zk=fo,xA=As;Lr.f;var Nue=y1,Th=b1,kA="Array Iterator",Bue=xA.set,Zue=xA.getterFor(kA);Nue(Array,"Array",function(i,t){Bue(this,{type:kA,target:Due(i),index:0,kind:t})},function(){var i=Zue(this),t=i.target,e=i.kind,r=i.index++;return!t||r>=t.length?(i.target=void 0,Th(void 0,!0)):e=="keys"?Th(r,!1):e=="values"?Th(t[r],!1):Th([r,t[r]],!1)},"values");zk.Arguments=zk.Array;var Lue=$f,zue=Lue,Fue={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},jue=Fue,Xue=gt,Yue=Qs,Wue=uo,Fk=fo,Vue=ot,jk=Vue("toStringTag");for(var Ev in jue){var Xk=Xue[Ev],Cv=Xk&&Xk.prototype;Cv&&Yue(Cv)!==jk&&Wue(Cv,jk,Ev),Fk[Ev]=Fk.Array}var Uue=zue,que=Uue,Gue=que,Hue=Gue,Kue=Hue,Jue=Kue;(function(i){i.exports=Jue})(Mue);(function(i){i.exports=VO})(Rue);var Ki=H(WO),UO={},ehe={get exports(){return UO},set exports(i){UO=i}},Qu={},the=V2,rhe=p1,ihe=rhe.concat("length","prototype");Qu.f=Object.getOwnPropertyNames||function(t){return the(t,ihe)};var wf={},Yk=Tu,nhe=ti,she=po,ahe=Array,ohe=Math.max,PA=function(i,t,e){for(var r=nhe(i),n=Yk(t,r),s=Yk(e===void 0?r:e,r),a=ahe(ohe(s-n,0)),o=0;n<s;n++,o++)she(a,o,i[n]);return a.length=o,a},lhe=Hi,uhe=ei,TA=Qu.f,hhe=PA,_A=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],che=function(i){try{return TA(i)}catch{return hhe(_A)}};wf.f=function(t){return _A&&lhe(t)=="Window"?che(t):TA(uhe(t))};var dhe=Lr,w1=function(i,t,e){return dhe.f(i,t,e)},Au={},fhe=ot;Au.f=fhe;var Wk=ge,phe=Ct,vhe=Au,ghe=Lr.f,Je=function(i){var t=Wk.Symbol||(Wk.Symbol={});phe(t,i)||ghe(t,i,{value:vhe.f(i)})},mhe=kr,Ohe=Zr,yhe=ot,bhe=Iu,EA=function(){var i=Ohe("Symbol"),t=i&&i.prototype,e=t&&t.valueOf,r=yhe("toPrimitive");t&&!t[r]&&bhe(t,r,function(n){return mhe(e,this)},{arity:1})},$he=Hi,Ms=Array.isArray||function(t){return $he(t)=="Array"},Vk=Ms,whe=bf,She=Et,xhe=ot,khe=xhe("species"),Uk=Array,Phe=function(i){var t;return Vk(i)&&(t=i.constructor,whe(t)&&(t===Uk||Vk(t.prototype))?t=void 0:She(t)&&(t=t[khe],t===null&&(t=void 0))),t===void 0?Uk:t},The=Phe,S1=function(i,t){return new(The(i))(t===0?0:t)},_he=Pu,Ehe=be,Che=df,Ihe=Pr,Qhe=ti,Ahe=S1,qk=Ehe([].push),tn=function(i){var t=i==1,e=i==2,r=i==3,n=i==4,s=i==6,a=i==7,o=i==5||s;return function(l,u,h,c){for(var d=Ihe(l),f=Che(d),p=_he(u,h),v=Qhe(f),m=0,g=c||Ahe,O=t?g(l,v):e||a?g(l,0):void 0,b,y;v>m;m++)if((o||m in f)&&(b=f[m],y=p(b,m,d),i))if(t)O[m]=y;else if(y)switch(i){case 3:return!0;case 5:return b;case 6:return m;case 2:qk(O,b)}else switch(i){case 4:return!1;case 7:qk(O,b)}return s?-1:r||n?n:O}},Dn={forEach:tn(0),map:tn(1),filter:tn(2),some:tn(3),every:tn(4),find:tn(5),findIndex:tn(6),filterReject:tn(7)},Sf=ie,x1=gt,k1=kr,Rhe=be,Ea=bt,Ca=oo,Mhe=ye,xt=Ct,Dhe=at,qO=Tr,xf=ei,P1=pf,Nhe=xi,GO=yu,$l=ho,CA=Eu,Bhe=Qu,IA=wf,Zhe=Cu,QA=ao,AA=Lr,Lhe=Of,RA=Ou,Gk=Iu,zhe=w1,T1=kn,Fhe=mf,MA=_u,Hk=ff,jhe=ot,Xhe=Au,Yhe=Je,Whe=EA,Vhe=co,DA=As,kf=Dn.forEach,lr=Fhe("hidden"),Pf="Symbol",wl="prototype",Uhe=DA.set,Kk=DA.getterFor(Pf),Gr=Object[wl],os=x1.Symbol,Bo=os&&os[wl],qhe=x1.TypeError,Iv=x1.QObject,NA=QA.f,qn=AA.f,BA=IA.f,Ghe=RA.f,ZA=Rhe([].push),ji=T1("symbols"),Ru=T1("op-symbols"),Hhe=T1("wks"),HO=!Iv||!Iv[wl]||!Iv[wl].findChild,KO=Ea&&Mhe(function(){return $l(qn({},"a",{get:function(){return qn(this,"a",{value:7}).a}})).a!=7})?function(i,t,e){var r=NA(Gr,t);r&&delete Gr[t],qn(i,t,e),r&&i!==Gr&&qn(Gr,t,r)}:qn,Qv=function(i,t){var e=ji[i]=$l(Bo);return Uhe(e,{type:Pf,tag:i,description:t}),Ea||(e.description=t),e},Tf=function(t,e,r){t===Gr&&Tf(Ru,e,r),qO(t);var n=P1(e);return qO(r),xt(ji,n)?(r.enumerable?(xt(t,lr)&&t[lr][n]&&(t[lr][n]=!1),r=$l(r,{enumerable:GO(0,!1)})):(xt(t,lr)||qn(t,lr,GO(1,{})),t[lr][n]=!0),KO(t,n,r)):qn(t,n,r)},_1=function(t,e){qO(t);var r=xf(e),n=CA(r).concat(jA(r));return kf(n,function(s){(!Ea||k1(LA,r,s))&&Tf(t,s,r[s])}),t},Khe=function(t,e){return e===void 0?$l(t):_1($l(t),e)},LA=function(t){var e=P1(t),r=k1(Ghe,this,e);return this===Gr&&xt(ji,e)&&!xt(Ru,e)?!1:r||!xt(this,e)||!xt(ji,e)||xt(this,lr)&&this[lr][e]?r:!0},zA=function(t,e){var r=xf(t),n=P1(e);if(!(r===Gr&&xt(ji,n)&&!xt(Ru,n))){var s=NA(r,n);return s&&xt(ji,n)&&!(xt(r,lr)&&r[lr][n])&&(s.enumerable=!0),s}},FA=function(t){var e=BA(xf(t)),r=[];return kf(e,function(n){!xt(ji,n)&&!xt(MA,n)&&ZA(r,n)}),r},jA=function(i){var t=i===Gr,e=BA(t?Ru:xf(i)),r=[];return kf(e,function(n){xt(ji,n)&&(!t||xt(Gr,n))&&ZA(r,ji[n])}),r};Ca||(os=function(){if(Dhe(Bo,this))throw qhe("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:Nhe(arguments[0]),e=Hk(t),r=function(n){this===Gr&&k1(r,Ru,n),xt(this,lr)&&xt(this[lr],e)&&(this[lr][e]=!1),KO(this,e,GO(1,n))};return Ea&&HO&&KO(Gr,e,{configurable:!0,set:r}),Qv(e,t)},Bo=os[wl],Gk(Bo,"toString",function(){return Kk(this).tag}),Gk(os,"withoutSetter",function(i){return Qv(Hk(i),i)}),RA.f=LA,AA.f=Tf,Lhe.f=_1,QA.f=zA,Bhe.f=IA.f=FA,Zhe.f=jA,Xhe.f=function(i){return Qv(jhe(i),i)},Ea&&zhe(Bo,"description",{configurable:!0,get:function(){return Kk(this).description}}));Sf({global:!0,constructor:!0,wrap:!0,forced:!Ca,sham:!Ca},{Symbol:os});kf(CA(Hhe),function(i){Yhe(i)});Sf({target:Pf,stat:!0,forced:!Ca},{useSetter:function(){HO=!0},useSimple:function(){HO=!1}});Sf({target:"Object",stat:!0,forced:!Ca,sham:!Ea},{create:Khe,defineProperty:Tf,defineProperties:_1,getOwnPropertyDescriptor:zA});Sf({target:"Object",stat:!0,forced:!Ca},{getOwnPropertyNames:FA});Whe();Vhe(os,Pf);MA[lr]=!0;var Jhe=oo,XA=Jhe&&!!Symbol.for&&!!Symbol.keyFor,ece=ie,tce=Zr,rce=Ct,ice=xi,YA=kn,nce=XA,Av=YA("string-to-symbol-registry"),sce=YA("symbol-to-string-registry");ece({target:"Symbol",stat:!0,forced:!nce},{for:function(i){var t=ice(i);if(rce(Av,t))return Av[t];var e=tce("Symbol")(t);return Av[t]=e,sce[e]=t,e}});var ace=ie,oce=Ct,lce=xu,uce=lo,hce=kn,cce=XA,Jk=hce("symbol-to-string-registry");ace({target:"Symbol",stat:!0,forced:!cce},{keyFor:function(t){if(!lce(t))throw TypeError(uce(t)+" is not a symbol");if(oce(Jk,t))return Jk[t]}});var dce=be,eP=Ms,fce=_t,tP=Hi,pce=xi,rP=dce([].push),vce=function(i){if(fce(i))return i;if(eP(i)){for(var t=i.length,e=[],r=0;r<t;r++){var n=i[r];typeof n=="string"?rP(e,n):(typeof n=="number"||tP(n)=="Number"||tP(n)=="String")&&rP(e,pce(n))}var s=e.length,a=!0;return function(o,l){if(a)return a=!1,l;if(eP(this))return l;for(var u=0;u<s;u++)if(e[u]===o)return l}}},gce=ie,WA=Zr,VA=mu,mce=kr,Mu=be,UA=ye,iP=_t,nP=xu,qA=gf,Oce=vce,yce=oo,bce=String,yn=WA("JSON","stringify"),_h=Mu(/./.exec),sP=Mu("".charAt),$ce=Mu("".charCodeAt),wce=Mu("".replace),Sce=Mu(1 .toString),xce=/[\uD800-\uDFFF]/g,aP=/^[\uD800-\uDBFF]$/,oP=/^[\uDC00-\uDFFF]$/,lP=!yce||UA(function(){var i=WA("Symbol")();return yn([i])!="[null]"||yn({a:i})!="{}"||yn(Object(i))!="{}"}),uP=UA(function(){return yn("\uDF06\uD834")!=='"\\udf06\\ud834"'||yn("\uDEAD")!=='"\\udead"'}),kce=function(i,t){var e=qA(arguments),r=Oce(t);if(!(!iP(r)&&(i===void 0||nP(i))))return e[1]=function(n,s){if(iP(r)&&(s=mce(r,this,bce(n),s)),!nP(s))return s},VA(yn,null,e)},Pce=function(i,t,e){var r=sP(e,t-1),n=sP(e,t+1);return _h(aP,i)&&!_h(oP,n)||_h(oP,i)&&!_h(aP,r)?"\\u"+Sce($ce(i,0),16):i};yn&&gce({target:"JSON",stat:!0,arity:3,forced:lP||uP},{stringify:function(t,e,r){var n=qA(arguments),s=VA(lP?kce:yn,null,n);return uP&&typeof s=="string"?wce(s,xce,Pce):s}});var Tce=ie,_ce=oo,Ece=ye,GA=Cu,Cce=Pr,Ice=!_ce||Ece(function(){GA.f(1)});Tce({target:"Object",stat:!0,forced:Ice},{getOwnPropertySymbols:function(t){var e=GA.f;return e?e(Cce(t)):[]}});var Qce=ge,Ace=Qce.Object.getOwnPropertySymbols,Rce=Ace,Mce=Rce;(function(i){i.exports=Mce})(ehe);var Pn=H(UO),JO={},Dce={get exports(){return JO},set exports(i){JO=i}},ey={},Nce={get exports(){return ey},set exports(i){ey=i}},Bce=ie,Zce=ye,Lce=ei,HA=ao.f,KA=bt,zce=!KA||Zce(function(){HA(1)});Bce({target:"Object",stat:!0,forced:zce,sham:!KA},{getOwnPropertyDescriptor:function(t,e){return HA(Lce(t),e)}});var Fce=ge,JA=Fce.Object,jce=Nce.exports=function(t,e){return JA.getOwnPropertyDescriptor(t,e)};JA.getOwnPropertyDescriptor.sham&&(jce.sham=!0);var Xce=ey,eR=Xce;(function(i){i.exports=eR})(Dce);var Nn=H(JO),ty={},Yce={get exports(){return ty},set exports(i){ty=i}},Wce=Zr,Vce=be,Uce=Qu,qce=Cu,Gce=Tr,Hce=Vce([].concat),tR=Wce("Reflect","ownKeys")||function(t){var e=Uce.f(Gce(t)),r=qce.f;return r?Hce(e,r(t)):e},Kce=ie,Jce=bt,ede=tR,tde=ei,rde=ao,ide=po;Kce({target:"Object",stat:!0,sham:!Jce},{getOwnPropertyDescriptors:function(t){for(var e=tde(t),r=rde.f,n=ede(e),s={},a=0,o,l;n.length>a;)l=r(e,o=n[a++]),l!==void 0&&ide(s,o,l);return s}});var nde=ge,sde=nde.Object.getOwnPropertyDescriptors,ade=sde,ode=ade;(function(i){i.exports=ode})(Yce);var Tn=H(ty),ry={},lde={get exports(){return ry},set exports(i){ry=i}},iy={},ude={get exports(){return iy},set exports(i){iy=i}},hde=ie,cde=bt,hP=Of.f;hde({target:"Object",stat:!0,forced:Object.defineProperties!==hP,sham:!cde},{defineProperties:hP});var dde=ge,rR=dde.Object,fde=ude.exports=function(t,e){return rR.defineProperties(t,e)};rR.defineProperties.sham&&(fde.sham=!0);var pde=iy,vde=pde;(function(i){i.exports=vde})(lde);var _f=H(ry),ny={},gde={get exports(){return ny},set exports(i){ny=i}},sy={},mde={get exports(){return sy},set exports(i){sy=i}},Ode=ie,yde=bt,cP=Lr.f;Ode({target:"Object",stat:!0,forced:Object.defineProperty!==cP,sham:!yde},{defineProperty:cP});var bde=ge,iR=bde.Object,$de=mde.exports=function(t,e,r){return iR.defineProperty(t,e,r)};iR.defineProperty.sham&&($de.sham=!0);var wde=sy,nR=wde;(function(i){i.exports=nR})(gde);var Ef=H(ny);function Z(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var ay={},Sde={get exports(){return ay},set exports(i){ay=i}},oy={},xde={get exports(){return oy},set exports(i){oy=i}},kde=nR,Pde=kde,Tde=Pde,_de=Tde;(function(i){i.exports=_de})(xde);(function(i){i.exports=oy})(Sde);var Cf=H(ay),ly={},Ede={get exports(){return ly},set exports(i){ly=i}},uy={},Cde={get exports(){return uy},set exports(i){uy=i}},Ide=TypeError,Qde=9007199254740991,sR=function(i){if(i>Qde)throw Ide("Maximum allowed index exceeded");return i},Ade=ye,Rde=ot,Mde=Su,Dde=Rde("species"),Du=function(i){return Mde>=51||!Ade(function(){var t=[],e=t.constructor={};return e[Dde]=function(){return{foo:1}},t[i](Boolean).foo!==1})},Nde=ie,Bde=ye,Zde=Ms,Lde=Et,zde=Pr,Fde=ti,dP=sR,fP=po,jde=S1,Xde=Du,Yde=ot,Wde=Su,aR=Yde("isConcatSpreadable"),Vde=Wde>=51||!Bde(function(){var i=[];return i[aR]=!1,i.concat()[0]!==i}),Ude=function(i){if(!Lde(i))return!1;var t=i[aR];return t!==void 0?!!t:Zde(i)},qde=!Vde||!Xde("concat");Nde({target:"Array",proto:!0,arity:1,forced:qde},{concat:function(t){var e=zde(this),r=jde(e,0),n=0,s,a,o,l,u;for(s=-1,o=arguments.length;s<o;s++)if(u=s===-1?e:arguments[s],Ude(u))for(l=Fde(u),dP(n+l),a=0;a<l;a++,n++)a in u&&fP(r,n,u[a]);else dP(n+1),fP(r,n++,u);return r.length=n,r}});var Gde=Je;Gde("asyncIterator");var Hde=Je;Hde("hasInstance");var Kde=Je;Kde("isConcatSpreadable");var Jde=Je;Jde("iterator");var efe=Je;efe("match");var tfe=Je;tfe("matchAll");var rfe=Je;rfe("replace");var ife=Je;ife("search");var nfe=Je;nfe("species");var sfe=Je;sfe("split");var afe=Je,ofe=EA;afe("toPrimitive");ofe();var lfe=Zr,ufe=Je,hfe=co;ufe("toStringTag");hfe(lfe("Symbol"),"Symbol");var cfe=Je;cfe("unscopables");var dfe=gt,ffe=co;ffe(dfe.JSON,"JSON",!0);var pfe=ge,vfe=pfe.Symbol,gfe=vfe,oR=gfe,mfe=Je;mfe("dispose");var Ofe=oR,yfe=Ofe,bfe=Je;bfe("asyncDispose");var $fe=ie,wfe=Zr,Sfe=be,lR=wfe("Symbol"),xfe=lR.keyFor,kfe=Sfe(lR.prototype.valueOf);$fe({target:"Symbol",stat:!0},{isRegistered:function(t){try{return xfe(kfe(t))!==void 0}catch{return!1}}});var Pfe=ie,Tfe=kn,uR=Zr,_fe=be,Efe=xu,Cfe=ot,sd=uR("Symbol"),pP=sd.isWellKnown,hR=uR("Object","getOwnPropertyNames"),Ife=_fe(sd.prototype.valueOf),vP=Tfe("wks");for(var Rv=0,gP=hR(sd),Qfe=gP.length;Rv<Qfe;Rv++)try{var mP=gP[Rv];Efe(sd[mP])&&Cfe(mP)}catch{}Pfe({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(pP&&pP(t))return!0;try{for(var e=Ife(t),r=0,n=hR(vP),s=n.length;r<s;r++)if(vP[n[r]]==e)return!0}catch{}return!1}});var Afe=Je;Afe("matcher");var Rfe=Je;Rfe("metadataKey");var Mfe=Je;Mfe("observable");var Dfe=Je;Dfe("metadata");var Nfe=Je;Nfe("patternMatch");var Bfe=Je;Bfe("replaceAll");var Zfe=yfe,Lfe=Zfe;(function(i){i.exports=Lfe})(Cde);(function(i){i.exports=uy})(Ede);var oa=H(ly),hy={},zfe={get exports(){return hy},set exports(i){hy=i}},cy={},Ffe={get exports(){return cy},set exports(i){cy=i}},jfe=Au,Xfe=jfe.f("iterator"),Yfe=Xfe,Wfe=Yfe,Vfe=Wfe,Ufe=Vfe,qfe=Ufe,Gfe=qfe;(function(i){i.exports=Gfe})(Ffe);(function(i){i.exports=cy})(zfe);var Hfe=H(hy);function _e(i){"@babel/helpers - typeof";return _e=typeof oa=="function"&&typeof Hfe=="symbol"?function(t){return typeof t}:function(t){return t&&typeof oa=="function"&&t.constructor===oa&&t!==oa.prototype?"symbol":typeof t},_e(i)}var dy={},Kfe={get exports(){return dy},set exports(i){dy=i}},fy={},Jfe={get exports(){return fy},set exports(i){fy=i}},epe=Au,tpe=epe.f("toPrimitive"),rpe=tpe,ipe=rpe,npe=ipe,spe=npe,ape=spe,ope=ape;(function(i){i.exports=ope})(Jfe);(function(i){i.exports=fy})(Kfe);var lpe=H(dy);function upe(i,t){if(_e(i)!=="object"||i===null)return i;var e=i[lpe];if(e!==void 0){var r=e.call(i,t||"default");if(_e(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function cR(i){var t=upe(i,"string");return _e(t)==="symbol"?t:String(t)}function OP(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Cf(i,cR(r.key),r)}}function L(i,t,e){return t&&OP(i.prototype,t),e&&OP(i,e),Cf(i,"prototype",{writable:!1}),i}function If(i,t,e){return t=cR(t),t in i?Cf(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var py={},hpe={get exports(){return py},set exports(i){py=i}},vy={},cpe={get exports(){return vy},set exports(i){vy=i}},dpe=ie,fpe=Ms;dpe({target:"Array",stat:!0},{isArray:fpe});var ppe=ge,vpe=ppe.Array.isArray,gpe=vpe,dR=gpe,mpe=dR,Ope=mpe,ype=Ope,bpe=ype;(function(i){i.exports=bpe})(cpe);(function(i){i.exports=vy})(hpe);var fR=H(py);function $pe(i){if(fR(i))return i}function wpe(i,t){var e=i==null?null:typeof oa<"u"&&Ki(i)||i["@@iterator"];if(e!=null){var r,n,s,a,o=[],l=!0,u=!1;try{if(s=(e=e.call(i)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=s.call(e)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(h){u=!0,n=h}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw n}}return o}}var gy={},Spe={get exports(){return gy},set exports(i){gy=i}},my={},xpe={get exports(){return my},set exports(i){my=i}},kpe=ie,yP=Ms,Ppe=bf,Tpe=Et,bP=Tu,_pe=ti,Epe=ei,Cpe=po,Ipe=ot,Qpe=Du,Ape=gf,Rpe=Qpe("slice"),Mpe=Ipe("species"),Mv=Array,Dpe=Math.max;kpe({target:"Array",proto:!0,forced:!Rpe},{slice:function(t,e){var r=Epe(this),n=_pe(r),s=bP(t,n),a=bP(e===void 0?n:e,n),o,l,u;if(yP(r)&&(o=r.constructor,Ppe(o)&&(o===Mv||yP(o.prototype))?o=void 0:Tpe(o)&&(o=o[Mpe],o===null&&(o=void 0)),o===Mv||o===void 0))return Ape(r,s,a);for(l=new(o===void 0?Mv:o)(Dpe(a-s,0)),u=0;s<a;s++,u++)s in r&&Cpe(l,u,r[s]);return l.length=u,l}});var Npe=It,Bpe=Npe("Array").slice,Zpe=at,Lpe=Bpe,Dv=Array.prototype,zpe=function(i){var t=i.slice;return i===Dv||Zpe(Dv,i)&&t===Dv.slice?Lpe:t},Fpe=zpe,pR=Fpe,jpe=pR,Xpe=jpe,Ype=Xpe,Wpe=Ype;(function(i){i.exports=Wpe})(xpe);(function(i){i.exports=my})(Spe);var Vpe=H(gy),Oy={},Upe={get exports(){return Oy},set exports(i){Oy=i}},yy={},qpe={get exports(){return yy},set exports(i){yy=i}},Gpe=SA,Hpe=Gpe,Kpe=Hpe,Jpe=Kpe;(function(i){i.exports=Jpe})(qpe);(function(i){i.exports=yy})(Upe);var vR=H(Oy);function by(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}function gR(i,t){var e;if(i){if(typeof i=="string")return by(i,t);var r=Vpe(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return vR(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(i,t)}}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qe(i,t){return $pe(i)||wpe(i,t)||gR(i,t)||eve()}function tve(i){if(fR(i))return by(i)}function rve(i){if(typeof oa<"u"&&Ki(i)!=null||i["@@iterator"]!=null)return vR(i)}function ive(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hi(i){return tve(i)||rve(i)||gR(i)||ive()}var $y={},nve={get exports(){return $y},set exports(i){$y=i}};(function(i){i.exports=oR})(nve);var Bn=H($y),wy={},sve={get exports(){return wy},set exports(i){wy=i}},ave=It,ove=ave("Array").concat,lve=at,uve=ove,Nv=Array.prototype,hve=function(i){var t=i.concat;return i===Nv||lve(Nv,i)&&t===Nv.concat?uve:t},cve=hve,dve=cve;(function(i){i.exports=dve})(sve);var E1=H(wy),Sy={},fve={get exports(){return Sy},set exports(i){Sy=i}};(function(i){i.exports=pR})(fve);var Nt=H(Sy),$P={},pve={get exports(){return $P},set exports(i){$P=i}},vve=ie,gve=tR;vve({target:"Reflect",stat:!0},{ownKeys:gve});var mve=ge,Ove=mve.Reflect.ownKeys,yve=Ove,bve=yve;(function(i){i.exports=bve})(pve);var xy={},$ve={get exports(){return xy},set exports(i){xy=i}};(function(i){i.exports=dR})($ve);var Ie=H(xy),ky={},wve={get exports(){return ky},set exports(i){ky=i}},Sve=ie,xve=Dn.map,kve=Du,Pve=kve("map");Sve({target:"Array",proto:!0,forced:!Pve},{map:function(t){return xve(this,t,arguments.length>1?arguments[1]:void 0)}});var Tve=It,_ve=Tve("Array").map,Eve=at,Cve=_ve,Bv=Array.prototype,Ive=function(i){var t=i.map;return i===Bv||Eve(Bv,i)&&t===Bv.map?Cve:t},Qve=Ive,Ave=Qve;(function(i){i.exports=Ave})(wve);var Ia=H(ky),Py={},Rve={get exports(){return Py},set exports(i){Py=i}},Mve=ie,Dve=Pr,mR=Eu,Nve=ye,Bve=Nve(function(){mR(1)});Mve({target:"Object",stat:!0,forced:Bve},{keys:function(t){return mR(Dve(t))}});var Zve=ge,Lve=Zve.Object.keys,zve=Lve,Fve=zve;(function(i){i.exports=Fve})(Rve);var Ue=H(Py),Ty={},jve={get exports(){return Ty},set exports(i){Ty=i}},Xve=ie,Yve=be,OR=Date,Wve=Yve(OR.prototype.getTime);Xve({target:"Date",stat:!0},{now:function(){return Wve(new OR)}});var Vve=ge,Uve=Vve.Date.now,qve=Uve,Gve=qve;(function(i){i.exports=Gve})(jve);var ad=H(Ty),_y={},Hve={get exports(){return _y},set exports(i){_y=i}},Kve=ye,vo=function(i,t){var e=[][i];return!!e&&Kve(function(){e.call(null,t||function(){return 1},1)})},Jve=Dn.forEach,ege=vo,tge=ege("forEach"),rge=tge?[].forEach:function(t){return Jve(this,t,arguments.length>1?arguments[1]:void 0)},ige=ie,wP=rge;ige({target:"Array",proto:!0,forced:[].forEach!=wP},{forEach:wP});var nge=It,sge=nge("Array").forEach,age=sge,oge=age,lge=Qs,uge=Ct,hge=at,cge=oge,Zv=Array.prototype,dge={DOMTokenList:!0,NodeList:!0},fge=function(i){var t=i.forEach;return i===Zv||hge(Zv,i)&&t===Zv.forEach||uge(dge,lge(i))?cge:t};(function(i){i.exports=fge})(Hve);var Re=H(_y),Ey={},pge={get exports(){return Ey},set exports(i){Ey=i}},vge=ie,gge=be,mge=Ms,Oge=gge([].reverse),SP=[1,2];vge({target:"Array",proto:!0,forced:String(SP)===String(SP.reverse())},{reverse:function(){return mge(this)&&(this.length=this.length),Oge(this)}});var yge=It,bge=yge("Array").reverse,$ge=at,wge=bge,Lv=Array.prototype,Sge=function(i){var t=i.reverse;return i===Lv||$ge(Lv,i)&&t===Lv.reverse?wge:t},xge=Sge,kge=xge;(function(i){i.exports=kge})(pge);var ls=H(Ey),Cy={},Pge={get exports(){return Cy},set exports(i){Cy=i}},Tge=bt,_ge=Ms,Ege=TypeError,Cge=Object.getOwnPropertyDescriptor,Ige=Tge&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(i){return i instanceof TypeError}}(),Qge=Ige?function(i,t){if(_ge(i)&&!Cge(i,"length").writable)throw Ege("Cannot set read only .length");return i.length=t}:function(i,t){return i.length=t},xP=lo,Age=TypeError,yR=function(i,t){if(!delete i[t])throw Age("Cannot delete property "+xP(t)+" of "+xP(i))},Rge=ie,Mge=Pr,Dge=Tu,Nge=vf,Bge=ti,Zge=Qge,Lge=sR,zge=S1,Fge=po,zv=yR,jge=Du,Xge=jge("splice"),Yge=Math.max,Wge=Math.min;Rge({target:"Array",proto:!0,forced:!Xge},{splice:function(t,e){var r=Mge(this),n=Bge(r),s=Dge(t,n),a=arguments.length,o,l,u,h,c,d;for(a===0?o=l=0:a===1?(o=0,l=n-s):(o=a-2,l=Wge(Yge(Nge(e),0),n-s)),Lge(n+o-l),u=zge(r,l),h=0;h<l;h++)c=s+h,c in r&&Fge(u,h,r[c]);if(u.length=l,o<l){for(h=s;h<n-l;h++)c=h+l,d=h+o,c in r?r[d]=r[c]:zv(r,d);for(h=n;h>n-l+o;h--)zv(r,h-1)}else if(o>l)for(h=n-l;h>s;h--)c=h+l-1,d=h+o-1,c in r?r[d]=r[c]:zv(r,d);for(h=0;h<o;h++)r[h+s]=arguments[h+2];return Zge(r,n-l+o),u}});var Vge=It,Uge=Vge("Array").splice,qge=at,Gge=Uge,Fv=Array.prototype,Hge=function(i){var t=i.splice;return i===Fv||qge(Fv,i)&&t===Fv.splice?Gge:t},Kge=Hge,Jge=Kge;(function(i){i.exports=Jge})(Pge);var Mi=H(Cy),Iy={},eme={get exports(){return Iy},set exports(i){Iy=i}},tme=ie,rme=f1.includes,ime=ye,nme=ime(function(){return!Array(1).includes()});tme({target:"Array",proto:!0,forced:nme},{includes:function(t){return rme(this,t,arguments.length>1?arguments[1]:void 0)}});var sme=It,ame=sme("Array").includes,ome=Et,lme=Hi,ume=ot,hme=ume("match"),cme=function(i){var t;return ome(i)&&((t=i[hme])!==void 0?!!t:lme(i)=="RegExp")},dme=cme,fme=TypeError,pme=function(i){if(dme(i))throw fme("The method doesn't accept regular expressions");return i},vme=ot,gme=vme("match"),mme=function(i){var t=/./;try{"/./"[i](t)}catch{try{return t[gme]=!1,"/./"[i](t)}catch{}}return!1},Ome=ie,yme=be,bme=pme,$me=$u,kP=xi,wme=mme,Sme=yme("".indexOf);Ome({target:"String",proto:!0,forced:!wme("includes")},{includes:function(t){return!!~Sme(kP($me(this)),kP(bme(t)),arguments.length>1?arguments[1]:void 0)}});var xme=It,kme=xme("String").includes,PP=at,Pme=ame,Tme=kme,jv=Array.prototype,Xv=String.prototype,_me=function(i){var t=i.includes;return i===jv||PP(jv,i)&&t===jv.includes?Pme:typeof i=="string"||i===Xv||PP(Xv,i)&&t===Xv.includes?Tme:t},Eme=_me,Cme=Eme;(function(i){i.exports=Cme})(eme);var Oi=H(Iy),Qy={},Ime={get exports(){return Qy},set exports(i){Qy=i}},Qme=ie,Ame=ye,Rme=Pr,bR=yf,Mme=uA,Dme=Ame(function(){bR(1)});Qme({target:"Object",stat:!0,forced:Dme,sham:!Mme},{getPrototypeOf:function(t){return bR(Rme(t))}});var Nme=ge,Bme=Nme.Object.getPrototypeOf,Zme=Bme,$R=Zme;(function(i){i.exports=$R})(Ime);var TP=H(Qy),Ay={},Lme={get exports(){return Ay},set exports(i){Ay=i}},zme=ie,Fme=Dn.filter,jme=Du,Xme=jme("filter");zme({target:"Array",proto:!0,forced:!Xme},{filter:function(t){return Fme(this,t,arguments.length>1?arguments[1]:void 0)}});var Yme=It,Wme=Yme("Array").filter,Vme=at,Ume=Wme,Yv=Array.prototype,qme=function(i){var t=i.filter;return i===Yv||Vme(Yv,i)&&t===Yv.filter?Ume:t},Gme=qme,Hme=Gme;(function(i){i.exports=Hme})(Lme);var ur=H(Ay),_P={},Kme={get exports(){return _P},set exports(i){_P=i}},Jme=bt,wR=be,eOe=Eu,tOe=ei,rOe=Ou.f,iOe=wR(rOe),nOe=wR([].push),EP=function(i){return function(t){for(var e=tOe(t),r=eOe(e),n=r.length,s=0,a=[],o;n>s;)o=r[s++],(!Jme||iOe(e,o))&&nOe(a,i?[o,e[o]]:e[o]);return a}},sOe={entries:EP(!0),values:EP(!1)},aOe=ie,oOe=sOe.values;aOe({target:"Object",stat:!0},{values:function(t){return oOe(t)}});var lOe=ge,uOe=lOe.Object.values,hOe=uOe,cOe=hOe;(function(i){i.exports=cOe})(Kme);var Ry={},dOe={get exports(){return Ry},set exports(i){Ry=i}},Qf=`	
\v\f\r                　\u2028\u2029\uFEFF`,fOe=be,pOe=$u,vOe=xi,My=Qf,CP=fOe("".replace),gOe=RegExp("^["+My+"]+"),mOe=RegExp("(^|[^"+My+"])["+My+"]+$"),Wv=function(i){return function(t){var e=vOe(pOe(t));return i&1&&(e=CP(e,gOe,"")),i&2&&(e=CP(e,mOe,"$1")),e}},C1={start:Wv(1),end:Wv(2),trim:Wv(3)},SR=gt,OOe=ye,yOe=be,bOe=xi,$Oe=C1.trim,IP=Qf,Ho=SR.parseInt,QP=SR.Symbol,AP=QP&&QP.iterator,xR=/^[+-]?0x/i,wOe=yOe(xR.exec),SOe=Ho(IP+"08")!==8||Ho(IP+"0x16")!==22||AP&&!OOe(function(){Ho(Object(AP))}),xOe=SOe?function(t,e){var r=$Oe(bOe(t));return Ho(r,e>>>0||(wOe(xR,r)?16:10))}:Ho,kOe=ie,RP=xOe;kOe({global:!0,forced:parseInt!=RP},{parseInt:RP});var POe=ge,TOe=POe.parseInt,_Oe=TOe,EOe=_Oe;(function(i){i.exports=EOe})(dOe);var Wr=H(Ry),Dy={},COe={get exports(){return Dy},set exports(i){Dy=i}},IOe=ie,QOe=h1,AOe=f1.indexOf,ROe=vo,Ny=QOe([].indexOf),kR=!!Ny&&1/Ny([1],1,-0)<0,MOe=kR||!ROe("indexOf");IOe({target:"Array",proto:!0,forced:MOe},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return kR?Ny(this,t,e)||0:AOe(this,t,e)}});var DOe=It,NOe=DOe("Array").indexOf,BOe=at,ZOe=NOe,Vv=Array.prototype,LOe=function(i){var t=i.indexOf;return i===Vv||BOe(Vv,i)&&t===Vv.indexOf?ZOe:t},zOe=LOe,FOe=zOe;(function(i){i.exports=FOe})(COe);var me=H(Dy),MP={},jOe={get exports(){return MP},set exports(i){MP=i}},XOe=aA.PROPER,YOe=ye,DP=Qf,NP="​᠎",WOe=function(i){return YOe(function(){return!!DP[i]()||NP[i]()!==NP||XOe&&DP[i].name!==i})},VOe=ie,UOe=C1.trim,qOe=WOe;VOe({target:"String",proto:!0,forced:qOe("trim")},{trim:function(){return UOe(this)}});var GOe=It,HOe=GOe("String").trim,KOe=at,JOe=HOe,Uv=String.prototype,eye=function(i){var t=i.trim;return typeof i=="string"||i===Uv||KOe(Uv,i)&&t===Uv.trim?JOe:t},tye=eye,rye=tye;(function(i){i.exports=rye})(jOe);var By={},iye={get exports(){return By},set exports(i){By=i}},nye=ie,sye=bt,aye=ho;nye({target:"Object",stat:!0,sham:!sye},{create:aye});var oye=ge,lye=oye.Object,uye=function(t,e){return lye.create(t,e)},hye=uye,PR=hye;(function(i){i.exports=PR})(iye);var us=H(By),Zy={},cye={get exports(){return Zy},set exports(i){Zy=i}},Ly=ge,dye=mu;Ly.JSON||(Ly.JSON={stringify:JSON.stringify});var fye=function(t,e,r){return dye(Ly.JSON.stringify,null,arguments)},pye=fye,vye=pye;(function(i){i.exports=vye})(cye);var Nu=H(Zy),zy={},gye={get exports(){return zy},set exports(i){zy=i}},mye=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",Oye=TypeError,yye=function(i,t){if(i<t)throw Oye("Not enough arguments");return i},TR=gt,bye=mu,$ye=_t,wye=mye,Sye=wu,xye=gf,kye=yye,Pye=TR.Function,Tye=/MSIE .\./.test(Sye)||wye&&function(){var i=TR.Bun.version.split(".");return i.length<3||i[0]==0&&(i[1]<3||i[1]==3&&i[2]==0)}(),_R=function(i,t){var e=t?2:1;return Tye?function(r,n){var s=kye(arguments.length,1)>e,a=$ye(r)?r:Pye(r),o=s?xye(arguments,e):[],l=s?function(){bye(a,this,o)}:a;return t?i(l,n):i(l)}:i},_ye=ie,ER=gt,Eye=_R,BP=Eye(ER.setInterval,!0);_ye({global:!0,bind:!0,forced:ER.setInterval!==BP},{setInterval:BP});var Cye=ie,CR=gt,Iye=_R,ZP=Iye(CR.setTimeout,!0);Cye({global:!0,bind:!0,forced:CR.setTimeout!==ZP},{setTimeout:ZP});var Qye=ge,Aye=Qye.setTimeout;(function(i){i.exports=Aye})(gye);var yi=H(zy),Fy={},Rye={get exports(){return Fy},set exports(i){Fy=i}},Mye=Pr,LP=Tu,Dye=ti,Nye=function(t){for(var e=Mye(this),r=Dye(e),n=arguments.length,s=LP(n>1?arguments[1]:void 0,r),a=n>2?arguments[2]:void 0,o=a===void 0?r:LP(a,r);o>s;)e[s++]=t;return e},Bye=ie,Zye=Nye;Bye({target:"Array",proto:!0},{fill:Zye});var Lye=It,zye=Lye("Array").fill,Fye=at,jye=zye,qv=Array.prototype,Xye=function(i){var t=i.fill;return i===qv||Fye(qv,i)&&t===qv.fill?jye:t},Yye=Xye,Wye=Yye;(function(i){i.exports=Wye})(Rye);var Bu=H(Fy);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Kr(){return Kr=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Kr.apply(this,arguments)}function zr(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.__proto__=t}function Eh(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var jy;typeof Object.assign!="function"?jy=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:jy=Object.assign;var Os=jy,zP=["","webkit","Moz","MS","ms","o"],Vye=typeof document>"u"?{style:{}}:document.createElement("div"),Uye="function",la=Math.round,ys=Math.abs,I1=Date.now;function Af(i,t){for(var e,r,n=t[0].toUpperCase()+t.slice(1),s=0;s<zP.length;){if(e=zP[s],r=e?e+n:t,r in i)return r;s++}}var Di;typeof window>"u"?Di={}:Di=window;var IR=Af(Vye.style,"touchAction"),QR=IR!==void 0;function qye(){if(!QR)return!1;var i={},t=Di.CSS&&Di.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return i[e]=t?Di.CSS.supports("touch-action",e):!0}),i}var AR="compute",RR="auto",Xy="manipulation",hs="none",Sl="pan-x",xl="pan-y",Ch=qye(),Gye=/mobile|tablet|ip(ad|hone|od)|android/i,MR="ontouchstart"in Di,Hye=Af(Di,"PointerEvent")!==void 0,Kye=MR&&Gye.test(navigator.userAgent),Zu="touch",Jye="pen",Q1="mouse",ebe="kinect",tbe=25,Jt=1,Ds=2,ft=4,cr=8,od=1,Lu=2,zu=4,Fu=8,Qa=16,bi=Lu|zu,cs=Fu|Qa,DR=bi|cs,NR=["x","y"],ld=["clientX","clientY"];function Ni(i,t,e){var r;if(i)if(i.forEach)i.forEach(t,e);else if(i.length!==void 0)for(r=0;r<i.length;)t.call(e,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&t.call(e,i[r],r,i)}function Rf(i,t){return typeof i===Uye?i.apply(t&&t[0]||void 0,t):i}function Jn(i,t){return i.indexOf(t)>-1}function rbe(i){if(Jn(i,hs))return hs;var t=Jn(i,Sl),e=Jn(i,xl);return t&&e?hs:t||e?t?Sl:xl:Jn(i,Xy)?Xy:RR}var BR=function(){function i(e,r){this.manager=e,this.set(r)}var t=i.prototype;return t.set=function(r){r===AR&&(r=this.compute()),QR&&this.manager.element.style&&Ch[r]&&(this.manager.element.style[IR]=r),this.actions=r.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var r=[];return Ni(this.manager.recognizers,function(n){Rf(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),rbe(r.join(" "))},t.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var a=this.actions,o=Jn(a,hs)&&!Ch[hs],l=Jn(a,xl)&&!Ch[xl],u=Jn(a,Sl)&&!Ch[Sl];if(o){var h=r.pointers.length===1,c=r.distance<2,d=r.deltaTime<250;if(h&&c&&d)return}if(!(u&&l)&&(o||l&&s&bi||u&&s&cs))return this.preventSrc(n)},t.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function A1(i,t){for(;i;){if(i===t)return!0;i=i.parentNode}return!1}function ZR(i){var t=i.length;if(t===1)return{x:la(i[0].clientX),y:la(i[0].clientY)};for(var e=0,r=0,n=0;n<t;)e+=i[n].clientX,r+=i[n].clientY,n++;return{x:la(e/t),y:la(r/t)}}function FP(i){for(var t=[],e=0;e<i.pointers.length;)t[e]={clientX:la(i.pointers[e].clientX),clientY:la(i.pointers[e].clientY)},e++;return{timeStamp:I1(),pointers:t,center:ZR(t),deltaX:i.deltaX,deltaY:i.deltaY}}function ud(i,t,e){e||(e=NR);var r=t[e[0]]-i[e[0]],n=t[e[1]]-i[e[1]];return Math.sqrt(r*r+n*n)}function Yy(i,t,e){e||(e=NR);var r=t[e[0]]-i[e[0]],n=t[e[1]]-i[e[1]];return Math.atan2(n,r)*180/Math.PI}function LR(i,t){return i===t?od:ys(i)>=ys(t)?i<0?Lu:zu:t<0?Fu:Qa}function ibe(i,t){var e=t.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(t.eventType===Jt||s.eventType===ft)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:e.x,y:e.y}),t.deltaX=n.x+(e.x-r.x),t.deltaY=n.y+(e.y-r.y)}function zR(i,t,e){return{x:t/i||0,y:e/i||0}}function nbe(i,t){return ud(t[0],t[1],ld)/ud(i[0],i[1],ld)}function sbe(i,t){return Yy(t[1],t[0],ld)+Yy(i[1],i[0],ld)}function abe(i,t){var e=i.lastInterval||t,r=t.timeStamp-e.timeStamp,n,s,a,o;if(t.eventType!==cr&&(r>tbe||e.velocity===void 0)){var l=t.deltaX-e.deltaX,u=t.deltaY-e.deltaY,h=zR(r,l,u);s=h.x,a=h.y,n=ys(h.x)>ys(h.y)?h.x:h.y,o=LR(l,u),i.lastInterval=t}else n=e.velocity,s=e.velocityX,a=e.velocityY,o=e.direction;t.velocity=n,t.velocityX=s,t.velocityY=a,t.direction=o}function obe(i,t){var e=i.session,r=t.pointers,n=r.length;e.firstInput||(e.firstInput=FP(t)),n>1&&!e.firstMultiple?e.firstMultiple=FP(t):n===1&&(e.firstMultiple=!1);var s=e.firstInput,a=e.firstMultiple,o=a?a.center:s.center,l=t.center=ZR(r);t.timeStamp=I1(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=Yy(o,l),t.distance=ud(o,l),ibe(e,t),t.offsetDirection=LR(t.deltaX,t.deltaY);var u=zR(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ys(u.x)>ys(u.y)?u.x:u.y,t.scale=a?nbe(a.pointers,r):1,t.rotation=a?sbe(a.pointers,r):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,abe(e,t);var h=i.element,c=t.srcEvent,d;c.composedPath?d=c.composedPath()[0]:c.path?d=c.path[0]:d=c.target,A1(d,h)&&(h=d),t.target=h}function lbe(i,t,e){var r=e.pointers.length,n=e.changedPointers.length,s=t&Jt&&r-n===0,a=t&(ft|cr)&&r-n===0;e.isFirst=!!s,e.isFinal=!!a,s&&(i.session={}),e.eventType=t,obe(i,e),i.emit("hammer.input",e),i.recognize(e),i.session.prevInput=e}function kl(i){return i.trim().split(/\s+/g)}function Ko(i,t,e){Ni(kl(t),function(r){i.addEventListener(r,e,!1)})}function Jo(i,t,e){Ni(kl(t),function(r){i.removeEventListener(r,e,!1)})}function jP(i){var t=i.ownerDocument||i;return t.defaultView||t.parentWindow||window}var go=function(){function i(e,r){var n=this;this.manager=e,this.callback=r,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){Rf(e.options.enable,[e])&&n.handler(s)},this.init()}var t=i.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Ko(this.element,this.evEl,this.domHandler),this.evTarget&&Ko(this.target,this.evTarget,this.domHandler),this.evWin&&Ko(jP(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Jo(this.element,this.evEl,this.domHandler),this.evTarget&&Jo(this.target,this.evTarget,this.domHandler),this.evWin&&Jo(jP(this.element),this.evWin,this.domHandler)},i}();function bs(i,t,e){if(i.indexOf&&!e)return i.indexOf(t);for(var r=0;r<i.length;){if(e&&i[r][e]==t||!e&&i[r]===t)return r;r++}return-1}var ube={pointerdown:Jt,pointermove:Ds,pointerup:ft,pointercancel:cr,pointerout:cr},hbe={2:Zu,3:Jye,4:Q1,5:ebe},FR="pointerdown",jR="pointermove pointerup pointercancel";Di.MSPointerEvent&&!Di.PointerEvent&&(FR="MSPointerDown",jR="MSPointerMove MSPointerUp MSPointerCancel");var XR=function(i){zr(t,i);function t(){var r,n=t.prototype;return n.evEl=FR,n.evWin=jR,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var e=t.prototype;return e.handler=function(n){var s=this.store,a=!1,o=n.type.toLowerCase().replace("ms",""),l=ube[o],u=hbe[n.pointerType]||n.pointerType,h=u===Zu,c=bs(s,n.pointerId,"pointerId");l&Jt&&(n.button===0||h)?c<0&&(s.push(n),c=s.length-1):l&(ft|cr)&&(a=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,l,{pointers:s,changedPointers:[n],pointerType:u,srcEvent:n}),a&&s.splice(c,1))},t}(go);function Pl(i){return Array.prototype.slice.call(i,0)}function R1(i,t,e){for(var r=[],n=[],s=0;s<i.length;){var a=t?i[s][t]:i[s];bs(n,a)<0&&r.push(i[s]),n[s]=a,s++}return e&&(t?r=r.sort(function(o,l){return o[t]>l[t]}):r=r.sort()),r}var cbe={touchstart:Jt,touchmove:Ds,touchend:ft,touchcancel:cr},dbe="touchstart touchmove touchend touchcancel",M1=function(i){zr(t,i);function t(){var r;return t.prototype.evTarget=dbe,r=i.apply(this,arguments)||this,r.targetIds={},r}var e=t.prototype;return e.handler=function(n){var s=cbe[n.type],a=fbe.call(this,n,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Zu,srcEvent:n})},t}(go);function fbe(i,t){var e=Pl(i.touches),r=this.targetIds;if(t&(Jt|Ds)&&e.length===1)return r[e[0].identifier]=!0,[e,e];var n,s,a=Pl(i.changedTouches),o=[],l=this.target;if(s=e.filter(function(u){return A1(u.target,l)}),t===Jt)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<a.length;)r[a[n].identifier]&&o.push(a[n]),t&(ft|cr)&&delete r[a[n].identifier],n++;if(o.length)return[R1(s.concat(o),"identifier",!0),o]}var pbe={mousedown:Jt,mousemove:Ds,mouseup:ft},vbe="mousedown",gbe="mousemove mouseup",D1=function(i){zr(t,i);function t(){var r,n=t.prototype;return n.evEl=vbe,n.evWin=gbe,r=i.apply(this,arguments)||this,r.pressed=!1,r}var e=t.prototype;return e.handler=function(n){var s=pbe[n.type];s&Jt&&n.button===0&&(this.pressed=!0),s&Ds&&n.which!==1&&(s=ft),this.pressed&&(s&ft&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Q1,srcEvent:n}))},t}(go),mbe=2500,XP=25;function YP(i){var t=i.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var o=n.indexOf(r);o>-1&&n.splice(o,1)};setTimeout(s,mbe)}}function Obe(i,t){i&Jt?(this.primaryTouch=t.changedPointers[0].identifier,YP.call(this,t)):i&(ft|cr)&&YP.call(this,t)}function ybe(i){for(var t=i.srcEvent.clientX,e=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(t-n.x),a=Math.abs(e-n.y);if(s<=XP&&a<=XP)return!0}return!1}var YR=function(){var i=function(t){zr(e,t);function e(n,s){var a;return a=t.call(this,n,s)||this,a.handler=function(o,l,u){var h=u.pointerType===Zu,c=u.pointerType===Q1;if(!(c&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(h)Obe.call(Eh(Eh(a)),l,u);else if(c&&ybe.call(Eh(Eh(a)),u))return;a.callback(o,l,u)}},a.touch=new M1(a.manager,a.handler),a.mouse=new D1(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=e.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(go);return i}();function bbe(i){var t,e=i.options.inputClass;return e?t=e:Hye?t=XR:Kye?t=M1:MR?t=YR:t=D1,new t(i,lbe)}function ua(i,t,e){return Array.isArray(i)?(Ni(i,e[t],e),!0):!1}var vc=1,Mr=2,Aa=4,bn=8,Bi=bn,Tl=16,pi=32,$be=1;function wbe(){return $be++}function Ih(i,t){var e=t.manager;return e?e.get(i):i}function WP(i){return i&Tl?"cancel":i&bn?"end":i&Aa?"move":i&Mr?"start":""}var ju=function(){function i(e){e===void 0&&(e={}),this.options=Kr({enable:!0},e),this.id=wbe(),this.manager=null,this.state=vc,this.simultaneous={},this.requireFail=[]}var t=i.prototype;return t.set=function(r){return Os(this.options,r),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(r){if(ua(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=Ih(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},t.dropRecognizeWith=function(r){return ua(r,"dropRecognizeWith",this)?this:(r=Ih(r,this),delete this.simultaneous[r.id],this)},t.requireFailure=function(r){if(ua(r,"requireFailure",this))return this;var n=this.requireFail;return r=Ih(r,this),bs(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},t.dropRequireFailure=function(r){if(ua(r,"dropRequireFailure",this))return this;r=Ih(r,this);var n=bs(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},t.emit=function(r){var n=this,s=this.state;function a(o){n.manager.emit(o,r)}s<bn&&a(n.options.event+WP(s)),a(n.options.event),r.additionalEvent&&a(r.additionalEvent),s>=bn&&a(n.options.event+WP(s))},t.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=pi},t.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(pi|vc)))return!1;r++}return!0},t.recognize=function(r){var n=Os({},r);if(!Rf(this.options.enable,[this,n])){this.reset(),this.state=pi;return}this.state&(Bi|Tl|pi)&&(this.state=vc),this.state=this.process(n),this.state&(Mr|Aa|bn|Tl)&&this.tryEmit(n)},t.process=function(r){},t.getTouchAction=function(){},t.reset=function(){},i}(),Wy=function(i){zr(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Kr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var e=t.prototype;return e.getTouchAction=function(){return[Xy]},e.process=function(n){var s=this,a=this.options,o=n.pointers.length===a.pointers,l=n.distance<a.threshold,u=n.deltaTime<a.time;if(this.reset(),n.eventType&Jt&&this.count===0)return this.failTimeout();if(l&&u&&o){if(n.eventType!==ft)return this.failTimeout();var h=this.pTime?n.timeStamp-this.pTime<a.interval:!0,c=!this.pCenter||ud(this.pCenter,n.center)<a.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!h?this.count=1:this.count+=1,this._input=n;var d=this.count%a.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.interval),Mr):Bi}return pi},e.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=pi},this.options.interval),pi},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===Bi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(ju),Ra=function(i){zr(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Kr({pointers:1},r))||this}var e=t.prototype;return e.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},e.process=function(n){var s=this.state,a=n.eventType,o=s&(Mr|Aa),l=this.attrTest(n);return o&&(a&cr||!l)?s|Tl:o||l?a&ft?s|bn:s&Mr?s|Aa:Mr:pi},t}(ju);function WR(i){return i===Qa?"down":i===Fu?"up":i===Lu?"left":i===zu?"right":""}var N1=function(i){zr(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Kr({event:"pan",threshold:10,pointers:1,direction:DR},r))||this,n.pX=null,n.pY=null,n}var e=t.prototype;return e.getTouchAction=function(){var n=this.options.direction,s=[];return n&bi&&s.push(xl),n&cs&&s.push(Sl),s},e.directionTest=function(n){var s=this.options,a=!0,o=n.distance,l=n.direction,u=n.deltaX,h=n.deltaY;return l&s.direction||(s.direction&bi?(l=u===0?od:u<0?Lu:zu,a=u!==this.pX,o=Math.abs(n.deltaX)):(l=h===0?od:h<0?Fu:Qa,a=h!==this.pY,o=Math.abs(n.deltaY))),n.direction=l,a&&o>s.threshold&&l&s.direction},e.attrTest=function(n){return Ra.prototype.attrTest.call(this,n)&&(this.state&Mr||!(this.state&Mr)&&this.directionTest(n))},e.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=WR(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},t}(Ra),VR=function(i){zr(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Kr({event:"swipe",threshold:10,velocity:.3,direction:bi|cs,pointers:1},r))||this}var e=t.prototype;return e.getTouchAction=function(){return N1.prototype.getTouchAction.call(this)},e.attrTest=function(n){var s=this.options.direction,a;return s&(bi|cs)?a=n.overallVelocity:s&bi?a=n.overallVelocityX:s&cs&&(a=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ys(a)>this.options.velocity&&n.eventType&ft},e.emit=function(n){var s=WR(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},t}(Ra),UR=function(i){zr(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Kr({event:"pinch",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[hs]},e.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Mr)},e.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},t}(Ra),qR=function(i){zr(t,i);function t(r){return r===void 0&&(r={}),i.call(this,Kr({event:"rotate",threshold:0,pointers:2},r))||this}var e=t.prototype;return e.getTouchAction=function(){return[hs]},e.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Mr)},t}(Ra),GR=function(i){zr(t,i);function t(r){var n;return r===void 0&&(r={}),n=i.call(this,Kr({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var e=t.prototype;return e.getTouchAction=function(){return[RR]},e.process=function(n){var s=this,a=this.options,o=n.pointers.length===a.pointers,l=n.distance<a.threshold,u=n.deltaTime>a.time;if(this._input=n,!l||!o||n.eventType&(ft|cr)&&!u)this.reset();else if(n.eventType&Jt)this.reset(),this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.time);else if(n.eventType&ft)return Bi;return pi},e.reset=function(){clearTimeout(this._timer)},e.emit=function(n){this.state===Bi&&(n&&n.eventType&ft?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=I1(),this.manager.emit(this.options.event,this._input)))},t}(ju),HR={domEvents:!1,touchAction:AR,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},VP=[[qR,{enable:!1}],[UR,{enable:!1},["rotate"]],[VR,{direction:bi}],[N1,{direction:bi},["swipe"]],[Wy],[Wy,{event:"doubletap",taps:2},["tap"]],[GR]],Sbe=1,UP=2;function qP(i,t){var e=i.element;if(e.style){var r;Ni(i.options.cssProps,function(n,s){r=Af(e.style,s),t?(i.oldCssProps[r]=e.style[r],e.style[r]=n):e.style[r]=i.oldCssProps[r]||""}),t||(i.oldCssProps={})}}function xbe(i,t){var e=document.createEvent("Event");e.initEvent(i,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var GP=function(){function i(e,r){var n=this;this.options=Os({},HR,r||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=bbe(this),this.touchAction=new BR(this,this.options.touchAction),qP(this,!0),Ni(this.options.recognizers,function(s){var a=n.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var t=i.prototype;return t.set=function(r){return Os(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},t.stop=function(r){this.session.stopped=r?UP:Sbe},t.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,a=this.recognizers,o=n.curRecognizer;(!o||o&&o.state&Bi)&&(n.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],n.stopped!==UP&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(r):s.reset(),!o&&s.state&(Mr|Aa|bn)&&(n.curRecognizer=s,o=s),l++}},t.get=function(r){if(r instanceof ju)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},t.add=function(r){if(ua(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},t.remove=function(r){if(ua(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,a=bs(s,n);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},t.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return Ni(kl(r),function(a){s[a]=s[a]||[],s[a].push(n)}),this},t.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return Ni(kl(r),function(a){n?s[a]&&s[a].splice(bs(s[a],n),1):delete s[a]}),this},t.emit=function(r,n){this.options.domEvents&&xbe(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](n),a++}},t.destroy=function(){this.element&&qP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),kbe={touchstart:Jt,touchmove:Ds,touchend:ft,touchcancel:cr},Pbe="touchstart",Tbe="touchstart touchmove touchend touchcancel",_be=function(i){zr(t,i);function t(){var r,n=t.prototype;return n.evTarget=Pbe,n.evWin=Tbe,r=i.apply(this,arguments)||this,r.started=!1,r}var e=t.prototype;return e.handler=function(n){var s=kbe[n.type];if(s===Jt&&(this.started=!0),!!this.started){var a=Ebe.call(this,n,s);s&(ft|cr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Zu,srcEvent:n})}},t}(go);function Ebe(i,t){var e=Pl(i.touches),r=Pl(i.changedTouches);return t&(ft|cr)&&(e=R1(e.concat(r),"identifier",!0)),[e,r]}function KR(i,t,e){var r="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,s),i.apply(this,arguments)}}var JR=KR(function(i,t,e){for(var r=Object.keys(t),n=0;n<r.length;)(!e||e&&i[r[n]]===void 0)&&(i[r[n]]=t[r[n]]),n++;return i},"extend","Use `assign`."),Cbe=KR(function(i,t){return JR(i,t,!0)},"merge","Use `assign`.");function Ibe(i,t,e){var r=t.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,e&&Os(n,e)}function HP(i,t){return function(){return i.apply(t,arguments)}}var eM=function(){var i=function(e,r){return r===void 0&&(r={}),new GP(e,Kr({recognizers:VP.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=DR,i.DIRECTION_DOWN=Qa,i.DIRECTION_LEFT=Lu,i.DIRECTION_RIGHT=zu,i.DIRECTION_UP=Fu,i.DIRECTION_HORIZONTAL=bi,i.DIRECTION_VERTICAL=cs,i.DIRECTION_NONE=od,i.DIRECTION_DOWN=Qa,i.INPUT_START=Jt,i.INPUT_MOVE=Ds,i.INPUT_END=ft,i.INPUT_CANCEL=cr,i.STATE_POSSIBLE=vc,i.STATE_BEGAN=Mr,i.STATE_CHANGED=Aa,i.STATE_ENDED=bn,i.STATE_RECOGNIZED=Bi,i.STATE_CANCELLED=Tl,i.STATE_FAILED=pi,i.Manager=GP,i.Input=go,i.TouchAction=BR,i.TouchInput=M1,i.MouseInput=D1,i.PointerEventInput=XR,i.TouchMouseInput=YR,i.SingleTouchInput=_be,i.Recognizer=ju,i.AttrRecognizer=Ra,i.Tap=Wy,i.Pan=N1,i.Swipe=VR,i.Pinch=UR,i.Rotate=qR,i.Press=GR,i.on=Ko,i.off=Jo,i.each=Ni,i.merge=Cbe,i.extend=JR,i.bindFn=HP,i.assign=Os,i.inherit=Ibe,i.bindFn=HP,i.prefixed=Af,i.toArray=Pl,i.inArray=bs,i.uniqueArray=R1,i.splitStr=kl,i.boolOrFn=Rf,i.hasParent=A1,i.addEventListeners=Ko,i.removeEventListeners=Jo,i.defaults=Os({},HR,{preset:VP}),i}();eM.defaults;var Qbe=eM;function tM(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=Abe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function Abe(i,t){var e;if(i){if(typeof i=="string")return KP(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(i,t)}}function KP(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}Bn("DELETE");function Mf(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return Rbe(t.length?t:[ad()])}function Rbe(i){var t=Mbe(i),e=qe(t,3),r=e[0],n=e[1],s=e[2],a=1,o=function(){var u=2091639*r+a*23283064365386963e-26;return r=n,n=s,s=u-(a=u|0)};return o.uint32=function(){return o()*4294967296},o.fract53=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.algorithm="Alea",o.seed=i,o.version="0.9",o}function Mbe(){for(var i=Dbe(),t=i(" "),e=i(" "),r=i(" "),n=0;n<arguments.length;n++)t-=i(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),e-=i(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),r-=i(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1);return[t,e,r]}function Dbe(){var i=4022871197;return function(t){for(var e=t.toString(),r=0;r<e.length;r++){i+=e.charCodeAt(r);var n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function Nbe(){var i=function(){};return{on:i,off:i,destroy:i,emit:i,get:function(){return{set:i}}}}var B1=typeof window<"u"?window.Hammer||Qbe:function(){return Nbe()};function vi(i){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var r=B1(this._dom.overlay);r.on("tap",M(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){r.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Re(n).call(n,function(s){r.on(s,function(a){a.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(s){Bbe(s.target,i)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(s){("key"in s?s.key==="Escape":s.keyCode===27)&&t.deactivate()}}tA(vi.prototype);vi.current=null;vi.prototype.destroy=function(){var i,t;this.deactivate();var e=tM(ls(i=Mi(t=this._cleanupQueue).call(t,0)).call(i)),r;try{for(e.s();!(r=e.n()).done;){var n=r.value;n()}}catch(s){e.e(s)}finally{e.f()}};vi.prototype.activate=function(){vi.current&&vi.current.deactivate(),vi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};vi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};vi.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function Bbe(i,t){for(;i;){if(i===t)return!0;i=i.parentNode}return!1}var Zbe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lbe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,zbe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Fbe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function an(i){if(i)for(;i.hasChildNodes()===!0;){var t=i.firstChild;t&&(an(t),i.removeChild(t))}}function hn(i){return i instanceof String||typeof i=="string"}function JP(i){return _e(i)==="object"&&i!==null}function $s(i,t,e,r){var n=!1;r===!0&&(n=t[e]===null&&i[e]!==void 0),n?delete i[e]:i[e]=t[e]}function rM(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var r in i)if(t[r]!==void 0)if(t[r]===null||_e(t[r])!=="object")$s(i,t,r,e);else{var n=i[r],s=t[r];JP(n)&&JP(s)&&rM(n,s,e)}}function mo(i,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ie(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<i.length;n++){var s=i[n];if(Object.prototype.hasOwnProperty.call(e,s))if(e[s]&&e[s].constructor===Object)t[s]===void 0&&(t[s]={}),t[s].constructor===Object?Le(t[s],e[s],!1,r):$s(t,e,s,r);else{if(Ie(e[s]))throw new TypeError("Arrays are not supported by deepExtend");$s(t,e,s,r)}}return t}function hd(i,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ie(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!Oi(i).call(i,n))if(e[n]&&e[n].constructor===Object)t[n]===void 0&&(t[n]={}),t[n].constructor===Object?Le(t[n],e[n]):$s(t,e,n,r);else if(Ie(e[n])){t[n]=[];for(var s=0;s<e[n].length;s++)t[n].push(e[n][s])}else $s(t,e,n,r);return t}function Le(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)||e===!0)if(_e(t[n])==="object"&&t[n]!==null&&TP(t[n])===Object.prototype)i[n]===void 0?i[n]=Le({},t[n],e):_e(i[n])==="object"&&i[n]!==null&&TP(i[n])===Object.prototype?Le(i[n],t[n],e):$s(i,t,n,r);else if(Ie(t[n])){var s;i[n]=Nt(s=t[n]).call(s)}else $s(i,t,n,r);return i}function cd(i,t){var e;return E1(e=[]).call(e,hi(i),[t])}function jbe(i){return Nt(i).call(i)}function Xbe(i){return i.getBoundingClientRect().left}function Ybe(i){return i.getBoundingClientRect().top}function ce(i,t){if(Ie(i))for(var e=i.length,r=0;r<e;r++)t(i[r],r,i);else for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(i[n],n,i)}function Wbe(i,t,e,r){if(i.addEventListener){var n;r===void 0&&(r=!1),t==="mousewheel"&&Oi(n=navigator.userAgent).call(n,"Firefox")&&(t="DOMMouseScroll"),i.addEventListener(t,e,r)}else i.attachEvent("on"+t,e)}function Vbe(i,t,e,r){if(i.removeEventListener){var n;r===void 0&&(r=!1),t==="mousewheel"&&Oi(n=navigator.userAgent).call(n,"Firefox")&&(t="DOMMouseScroll"),i.removeEventListener(t,e,r)}else i.detachEvent("on"+t,e)}function Z1(i){var t;switch(i.length){case 3:case 4:return t=Lbe.exec(i),t?{r:Wr(t[1]+t[1],16),g:Wr(t[2]+t[2],16),b:Wr(t[3]+t[3],16)}:null;case 6:case 7:return t=Zbe.exec(i),t?{r:Wr(t[1],16),g:Wr(t[2],16),b:Wr(t[3],16)}:null;default:return null}}function Ir(i,t){if(Oi(i).call(i,"rgba"))return i;if(Oi(i).call(i,"rgb")){var e=i.substr(me(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var r=Z1(i);return r==null?i:"rgba("+r.r+","+r.g+","+r.b+","+t+")"}}function iM(i,t,e){var r;return"#"+Nt(r=((1<<24)+(i<<16)+(t<<8)+e).toString(16)).call(r,1)}function Vy(i,t){if(hn(i)){var e=i;if(sM(e)){var r,n=Ia(r=e.substr(4).substr(0,e.length-5).split(",")).call(r,function(d){return Wr(d)});e=iM(n[0],n[1],n[2])}if(nM(e)===!0){var s=Ube(e),a={h:s.h,s:s.s*.8,v:Math.min(1,s.v*1.02)},o={h:s.h,s:Math.min(1,s.s*1.25),v:s.v*.8},l=Uy(o.h,o.s,o.v),u=Uy(a.h,a.s,a.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var h={background:i.background||t.background,border:i.border||t.border,highlight:hn(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||t.highlight.background,border:i.highlight&&i.highlight.border||t.highlight.border},hover:hn(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||t.hover.border,background:i.hover&&i.hover.background||t.hover.background}};return h}else{var c={background:i.background||void 0,border:i.border||void 0,highlight:hn(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:hn(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}};return c}}function Zo(i,t,e){i=i/255,t=t/255,e=e/255;var r=Math.min(i,Math.min(t,e)),n=Math.max(i,Math.max(t,e));if(r===n)return{h:0,s:0,v:r};var s=i===r?t-e:e===r?i-t:e-i,a=i===r?3:e===r?1:5,o=60*(a-s/(n-r))/360,l=(n-r)/n,u=n;return{h:o,s:l,v:u}}function gc(i,t,e){var r,n,s,a=Math.floor(i*6),o=i*6-a,l=e*(1-t),u=e*(1-o*t),h=e*(1-(1-o)*t);switch(a%6){case 0:r=e,n=h,s=l;break;case 1:r=u,n=e,s=l;break;case 2:r=l,n=e,s=h;break;case 3:r=l,n=u,s=e;break;case 4:r=h,n=l,s=e;break;case 5:r=e,n=l,s=u;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function Uy(i,t,e){var r=gc(i,t,e);return iM(r.r,r.g,r.b)}function Ube(i){var t=Z1(i);if(!t)throw new TypeError("'".concat(i,"' is not a valid color."));return Zo(t.r,t.g,t.b)}function nM(i){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i);return t}function sM(i){return zbe.test(i)}function qbe(i){return Fbe.test(i)}function $n(i){if(i===null||_e(i)!=="object")return null;if(i instanceof Element)return i;var t=us(i);for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&_e(i[e])=="object"&&(t[e]=$n(i[e]));return t}function Er(i,t,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=function(p){return p!=null},s=function(p){return p!==null&&_e(p)==="object"},a=function(p){for(var v in p)if(Object.prototype.hasOwnProperty.call(p,v))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(t))throw new Error("Parameter options must be an object");if(!n(e))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");var o=function(p,v,m){s(p[m])||(p[m]={});var g=v[m],O=p[m];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(O[b]=g[b])},l=t[e],u=s(r)&&!a(r),h=u?r[e]:void 0,c=h?h.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){s(i[e])||(i[e]={}),i[e].enabled=l;return}if(l===null&&!s(i[e]))if(n(h))i[e]=us(h);else return;if(s(l)){var d=!0;l.enabled!==void 0?d=l.enabled:c!==void 0&&(d=h.enabled),o(i,t,e),i[e].enabled=d}}}var Gbe={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function on(i,t){var e;Ie(t)||(t=[t]);var r=tM(i),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s){e=s[t[0]];for(var a=1;a<t.length;a++)e&&(e=e[t[a]]);if(typeof e<"u")break}}}catch(o){r.e(o)}finally{r.f()}return e}var Hbe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Kbe=function(){function i(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;Z(this,i),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return L(i,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return Hbe[e]}},{key:"setColor",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var n,s=this._isColorString(e);if(s!==void 0&&(e=s),hn(e)===!0){if(sM(e)===!0){var a=e.substr(4).substr(0,e.length-5).split(",");n={r:a[0],g:a[1],b:a[2],a:1}}else if(qbe(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(nM(e)===!0){var l=Z1(e);n={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:u}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Nu(e));this._setColor(n,r)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r===!0&&(this.previousColor=dt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",yi(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r===!0&&(this.initialColor=dt({},e)),this.color=e;var n=Zo(e.r,e.g,e.b),s=2*Math.PI,a=this.r*n.s,o=this.centerCoordinates.x+a*Math.sin(s*n.h),l=this.centerCoordinates.y+a*Math.cos(s*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var r=Zo(this.color.r,this.color.g,this.color.b);r.v=e/100;var n=gc(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,r=Zo(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var s=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,s,a),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Bu(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,r,n,s;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=M(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=M(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=M(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=M(s=this._loadLast).call(s,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new B1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(r){r.isFirst&&e._moveSelector(r)}),this.hammer.on("tap",function(r){e._moveSelector(r)}),this.hammer.on("panstart",function(r){e._moveSelector(r)}),this.hammer.on("panmove",function(r){e._moveSelector(r)}),this.hammer.on("panend",function(r){e._moveSelector(r)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);var s,a,o,l;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;var u=2*Math.PI/360,h=1/360,c=1/this.r,d;for(o=0;o<360;o++)for(l=0;l<this.r;l++)s=this.centerCoordinates.x+l*Math.sin(u*o),a=this.centerCoordinates.y+l*Math.cos(u*o),d=gc(o*h,l*c,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(s-.5,a-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}},{key:"_moveSelector",value:function(e){var r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,s=e.center.y-r.top,a=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,l=n-o,u=s-a,h=Math.atan2(l,u),c=.98*Math.min(Math.sqrt(l*l+u*u),o),d=Math.cos(h)*c+a,f=Math.sin(h)*c+o;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";var p=h/(2*Math.PI);p=p<0?p+1:p;var v=c/this.r,m=Zo(this.color.r,this.color.g,this.color.b);m.h=p,m.s=v;var g=gc(m.h,m.s,m.v);g.a=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),i}();function qy(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var r=document.createElement(t[0]);return r.appendChild(qy.apply(void 0,hi(Nt(t).call(t,1)))),r}var Jbe=function(){function i(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};Z(this,i),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},dt(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Kbe(n),this.wrapper=void 0}return L(i,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var r=!0;if(typeof e=="string")this.options.filter=e;else if(Ie(e))this.options.filter=e.join();else if(_e(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),ur(e)!==void 0&&(this.options.filter=ur(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);ur(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=ur(this.options),r=0,n=!1;for(var s in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,s)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(s,[]),n=n||this._handleObject(this.configureOptions[s],[s],!0)):(e===!0||me(e).call(e,s)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(s),this._handleObject(this.configureOptions[s],[s])),r++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var r=this.moduleOptions,n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var r=document.createElement("div");r.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return Re(s).call(s,function(o){r.appendChild(o)}),this.domElements.push(r),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}},{key:"_makeLabel",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=document.createElement("div");if(s.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(qy("i","b",e))}else s.innerText=e+":";return s}},{key:"_makeDropdown",value:function(e,r,n){var s=document.createElement("select");s.className="vis-configuration vis-config-select";var a=0;r!==void 0&&me(e).call(e,r)!==-1&&(a=me(e).call(e,r));for(var o=0;o<e.length;o++){var l=document.createElement("option");l.value=e[o],o===a&&(l.selected="selected"),l.innerText=e[o],s.appendChild(l)}var u=this;s.onchange=function(){u._update(this.value,n)};var h=this._makeLabel(n[n.length-1],n);this._makeItem(n,h,s)}},{key:"_makeRange",value:function(e,r,n){var s=e[0],a=e[1],o=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=a,u.max=o}catch{}u.step=l;var h="",c=0;if(r!==void 0){var d=1.2;r<0&&r*d<a?(u.min=Math.ceil(r*d),c=u.min,h="range increased"):r/d<a&&(u.min=Math.ceil(r/d),c=u.min,h="range increased"),r*d>o&&o!==1&&(u.max=Math.ceil(r*d),c=u.max,h="range increased"),u.value=r}else u.value=s;var f=document.createElement("input");f.className="vis-configuration vis-config-rangeinput",f.value=u.value;var p=this;u.onchange=function(){f.value=this.value,p._update(Number(this.value),n)},u.oninput=function(){f.value=this.value};var v=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,v,u,f);h!==""&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(h,m))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerText="generate options",r.onclick=function(){e._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}}},{key:"_setupPopup",value:function(e,r){var n=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var s=document.createElement("div");s.id="vis-configuration-popup",s.className="vis-configuration-popup",s.innerText=e,s.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:s,index:r}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var r=this.domElements[this.popupDiv.index],n=r.getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=yi(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=yi(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,r,n){var s=document.createElement("input");s.type="checkbox",s.className="vis-configuration vis-config-checkbox",s.checked=e,r!==void 0&&(s.checked=r,r!==e&&(_e(e)==="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));var a=this;s.onchange=function(){a._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}},{key:"_makeTextInput",value:function(e,r,n){var s=document.createElement("input");s.type="text",s.className="vis-configuration vis-config-text",s.value=r,r!==e&&this.changedOptions.push({path:n,value:r});var a=this;s.onchange=function(){a._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}},{key:"_makeColorField",value:function(e,r,n){var s=this,a=e[1],o=document.createElement("div");r=r===void 0?a:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?a:r,o.onclick=function(){s._showColorPicker(r,o,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,o)}},{key:"_showColorPicker",value:function(e,r,n){var s=this;r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(a){var o="rgba("+a.r+","+a.g+","+a.b+","+a.a+")";r.style.backgroundColor=o,s._update(o,n)}),this.colorPicker.setCloseCallback(function(){r.onclick=function(){s._showColorPicker(e,r,n)}})}},{key:"_handleObject",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=!1,a=ur(this.options),o=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){s=!0;var u=e[l],h=cd(r,l);if(typeof a=="function"&&(s=a(l,r),s===!1&&!Ie(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,s=this._handleObject(u,h,!0),this.allowCreation=n===!1)),s!==!1){o=!0;var c=this._getValue(h);if(Ie(u))this._handleArray(u,c,h);else if(typeof u=="string")this._makeTextInput(u,c,h);else if(typeof u=="boolean")this._makeCheckbox(u,c,h);else if(u instanceof Object){if(!this.hideOption(r,l,this.moduleOptions))if(u.enabled!==void 0){var d=cd(h,"enabled"),f=this._getValue(d);if(f===!0){var p=this._makeLabel(l,h,!0);this._makeItem(h,p),o=this._handleObject(u,h)||o}else this._makeCheckbox(u,f,h)}else{var v=this._makeLabel(l,h,!0);this._makeItem(h,v),o=this._handleObject(u,h)||o}}else console.error("dont know how to handle",u,l,h)}}return o}},{key:"_handleArray",value:function(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}},{key:"_update",value:function(e,r){var n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var a=0;a<r.length;a++)r[a]!=="global"&&(s[r[a]]===void 0&&(s[r[a]]={}),a!==r.length-1?s=s[r[a]]:s[r[a]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(qy("pre","const options = "+Nu(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}}]),i}(),e$e=function(){function i(t,e){Z(this,i),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return L(i,[{key:"setPosition",value:function(e,r){this.x=Wr(e),this.y=Wr(r)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var r=this.frame.clientHeight,n=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,a=this.frame.parentNode.clientWidth,o=0,l=0;if(this.overflowMethod=="flip"){var u=!1,h=!0;this.y-r<this.padding&&(h=!1),this.x+n>a-this.padding&&(u=!0),u?o=this.x-n:o=this.x,h?l=this.y-r:l=this.y}else l=this.y-r,l+r+this.padding>s&&(l=s-r-this.padding),l<this.padding&&(l=this.padding),o=this.x,o+n+this.padding>a&&(o=a-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),i}(),xo=!1,eT,Gy="background: #FFeeee; color: #dd0000",t$e=function(){function i(){Z(this,i)}return L(i,null,[{key:"validate",value:function(e,r,n){xo=!1,eT=r;var s=r;return n!==void 0&&(s=r[n]),i.parse(e,s,[]),xo}},{key:"parse",value:function(e,r,n){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&i.check(s,e,r,n)}},{key:"check",value:function(e,r,n,s){if(n[e]===void 0&&n.__any__===void 0){i.getSuggestion(e,n,s);return}var a=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(a="__any__",o=i.getType(r[e])==="object");var l=n[a];o&&l.__type__!==void 0&&(l=l.__type__),i.checkFields(e,r,n,a,l,s)}},{key:"checkFields",value:function(e,r,n,s,a,o){var l=function(d){console.error("%c"+d+i.printLocation(o,e),Gy)},u=i.getType(r[e]),h=a[u];h!==void 0?i.getType(h)==="array"&&me(h).call(h,r[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+i.print(h)+' not "'+r[e]+'". '),xo=!0):u==="object"&&s!=="__any__"&&(o=cd(o,e),i.parse(r[e],n[s],o)):a.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+i.print(Ue(a))+". Received ["+u+'] "'+r[e]+'"'),xo=!0)}},{key:"getType",value:function(e){var r=_e(e);return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ie(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}},{key:"getSuggestion",value:function(e,r,n){var s=i.findInOptions(e,r,n,!1),a=i.findInOptions(e,eT,[],!0),o=8,l=4,u;s.indexMatch!==void 0?u=" in "+i.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+`"?

`:a.distance<=l&&s.distance>a.distance?u=" in "+i.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+i.printLocation(a.path,a.closestMatch,""):s.distance<=o?u='. Did you mean "'+s.closestMatch+'"?'+i.printLocation(s.path,e):u=". Did you mean one of these: "+i.print(Ue(r))+i.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,Gy),xo=!0}},{key:"findInOptions",value:function(e,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=1e9,o="",l=[],u=e.toLowerCase(),h=void 0;for(var c in r){var d=void 0;if(r[c].__type__!==void 0&&s===!0){var f=i.findInOptions(e,r[c],cd(n,c));a>f.distance&&(o=f.closestMatch,l=f.path,a=f.distance,h=f.indexMatch)}else{var p;me(p=c.toLowerCase()).call(p,u)!==-1&&(h=c),d=i.levenshteinDistance(e,c),a>d&&(o=c,l=jbe(n),a=d)}}return{closestMatch:o,path:l,distance:a,indexMatch:h}}},{key:"printLocation",value:function(e,r){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,s=`

`+n+`options = {
`,a=0;a<e.length;a++){for(var o=0;o<a+1;o++)s+="  ";s+=e[a]+`: {
`}for(var l=0;l<e.length+1;l++)s+="  ";s+=r+`
`;for(var u=0;u<e.length+1;u++){for(var h=0;h<e.length-u;h++)s+="  ";s+=`}
`}return s+`

`}},{key:"print",value:function(e){return Nu(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;var n=[],s;for(s=0;s<=r.length;s++)n[s]=[s];var a;for(a=0;a<=e.length;a++)n[0][a]=a;for(s=1;s<=r.length;s++)for(a=1;a<=e.length;a++)r.charAt(s-1)==e.charAt(a-1)?n[s][a]=n[s-1][a-1]:n[s][a]=Math.min(n[s-1][a-1]+1,Math.min(n[s][a-1]+1,n[s-1][a]+1));return n[r.length][e.length]}}]),i}(),r$e=vi,i$e=Jbe,pa=B1,n$e=e$e,aM=Gy,s$e=t$e;function a$e(i){return fn=i,h$e()}var oM={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},L1=us(oM);L1.color="color.color";L1.style="dashes";var Xt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},tT={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},fn="",Ma=0,he="",te="",sr=Xt.NULL;function o$e(){Ma=0,he=fn.charAt(0)}function $t(){Ma++,he=fn.charAt(Ma)}function Gs(){return fn.charAt(Ma+1)}function rT(i){var t=i.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function _n(i,t){if(i||(i={}),t)for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function l$e(i,t,e){for(var r=t.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=e}}function lM(i,t){for(var e,r,n=null,s=[i],a=i;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(e=0,r=a.nodes.length;e<r;e++)if(t.id===a.nodes[e].id){n=a.nodes[e];break}}for(n||(n={id:t.id},i.node&&(n.attr=_n(n.attr,i.node))),e=s.length-1;e>=0;e--){var o,l=s[e];l.nodes||(l.nodes=[]),me(o=l.nodes).call(o,n)===-1&&l.nodes.push(n)}t.attr&&(n.attr=_n(n.attr,t.attr))}function u$e(i,t){if(i.edges||(i.edges=[]),i.edges.push(t),i.edge){var e=_n({},i.edge);t.attr=_n(e,t.attr)}}function uM(i,t,e,r,n){var s={from:t,to:e,type:r};return i.edge&&(s.attr=_n({},i.edge)),s.attr=_n(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function ze(){for(sr=Xt.NULL,te="";he===" "||he==="	"||he===`
`||he==="\r";)$t();do{var i=!1;if(he==="#"){for(var t=Ma-1;fn.charAt(t)===" "||fn.charAt(t)==="	";)t--;if(fn.charAt(t)===`
`||fn.charAt(t)===""){for(;he!=""&&he!=`
`;)$t();i=!0}}if(he==="/"&&Gs()==="/"){for(;he!=""&&he!=`
`;)$t();i=!0}if(he==="/"&&Gs()==="*"){for(;he!="";)if(he==="*"&&Gs()==="/"){$t(),$t();break}else $t();i=!0}for(;he===" "||he==="	"||he===`
`||he==="\r";)$t()}while(i);if(he===""){sr=Xt.DELIMITER;return}var e=he+Gs();if(tT[e]){sr=Xt.DELIMITER,te=e,$t(),$t();return}if(tT[he]){sr=Xt.DELIMITER,te=he,$t();return}if(rT(he)||he==="-"){for(te+=he,$t();rT(he);)te+=he,$t();te==="false"?te=!1:te==="true"?te=!0:isNaN(Number(te))||(te=Number(te)),sr=Xt.IDENTIFIER;return}if(he==='"'){for($t();he!=""&&(he!='"'||he==='"'&&Gs()==='"');)he==='"'?(te+=he,$t()):he==="\\"&&Gs()==="n"?(te+=`
`,$t()):te+=he,$t();if(he!='"')throw Yt('End of string " expected');$t(),sr=Xt.IDENTIFIER;return}for(sr=Xt.UNKNOWN;he!="";)te+=he,$t();throw new SyntaxError('Syntax error in part "'+fM(te,30)+'"')}function h$e(){var i={};if(o$e(),ze(),te==="strict"&&(i.strict=!0,ze()),(te==="graph"||te==="digraph")&&(i.type=te,ze()),sr===Xt.IDENTIFIER&&(i.id=te,ze()),te!="{")throw Yt("Angle bracket { expected");if(ze(),hM(i),te!="}")throw Yt("Angle bracket } expected");if(ze(),te!=="")throw Yt("End of file expected");return ze(),delete i.node,delete i.edge,delete i.graph,i}function hM(i){for(;te!==""&&te!="}";)c$e(i),te===";"&&ze()}function c$e(i){var t=cM(i);if(t){dM(i,t);return}var e=d$e(i);if(!e){if(sr!=Xt.IDENTIFIER)throw Yt("Identifier expected");var r=te;if(ze(),te==="="){if(ze(),sr!=Xt.IDENTIFIER)throw Yt("Identifier expected");i[r]=te,ze()}else f$e(i,r)}}function cM(i){var t=null;if(te==="subgraph"&&(t={},t.type="subgraph",ze(),sr===Xt.IDENTIFIER&&(t.id=te,ze())),te==="{"){if(ze(),t||(t={}),t.parent=i,t.node=i.node,t.edge=i.edge,t.graph=i.graph,hM(t),te!="}")throw Yt("Angle bracket } expected");ze(),delete t.node,delete t.edge,delete t.graph,delete t.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(t)}return t}function d$e(i){return te==="node"?(ze(),i.node=el(),"node"):te==="edge"?(ze(),i.edge=el(),"edge"):te==="graph"?(ze(),i.graph=el(),"graph"):null}function f$e(i,t){var e={id:t},r=el();r&&(e.attr=r),lM(i,e),dM(i,t)}function dM(i,t){for(;te==="->"||te==="--";){var e,r=te;ze();var n=cM(i);if(n)e=n;else{if(sr!=Xt.IDENTIFIER)throw Yt("Identifier or subgraph expected");e=te,lM(i,{id:e}),ze()}var s=el(),a=uM(i,t,e,r,s);u$e(i,a),t=e}}function el(){for(var i,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,s=new Array;te==="[";){for(ze(),t={};te!==""&&te!="]";){if(sr!=Xt.IDENTIFIER)throw Yt("Attribute name expected");var a=te;if(ze(),te!="=")throw Yt("Equal sign = expected");if(ze(),sr!=Xt.IDENTIFIER)throw Yt("Attribute value expected");var o=te;a==="style"&&(o=e[o]);var l;a==="arrowhead"&&(l=r[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=r[o],a="arrows",o={from:{enabled:!0,type:l}}),n.push({attr:t,name:a,value:o}),s.push(a),ze(),te==","&&ze()}if(te!="]")throw Yt("Bracket ] expected");ze()}if(Oi(s).call(s,"dir")){var u={};for(u.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)u.arrows.to=i;else if(n[i].value.from!=null)u.arrows.from=i;else throw Yt("Invalid value of arrows");else n[i].name==="dir"&&(u.dir=i);var h=n[u.dir].value;if(!Oi(s).call(s,"arrows"))if(h==="both")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1,n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(h==="forward")n.push({attr:n[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=n.length-1;else if(h==="back")n.push({attr:n[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=n.length-1;else if(h==="none")n.push({attr:n[u.dir].attr,name:"arrows",value:""}),u.arrows.to=n.length-1;else throw Yt('Invalid dir type "'+h+'"');var c,d;if(h==="both")u.arrows.to&&u.arrows.from?(d=n[u.arrows.to].value.to.type,c=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}},Mi(n).call(n,u.arrows.from,1)):u.arrows.to?(d=n[u.arrows.to].value.to.type,c="arrow",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="arrow",c=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}});else if(h==="back")u.arrows.to&&u.arrows.from?(d="",c=n[u.arrows.from].value.from.type,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.to?(d="",c="arrow",u.arrows.from=u.arrows.to,n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="",c=n[u.arrows.from].value.from.type,n[u.arrows.to]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}),n[u.arrows.from]={attr:n[u.arrows.from].attr,name:n[u.arrows.from].name,value:{from:{enabled:!0,type:n[u.arrows.from].value.from.type}}};else if(h==="none"){var f;u.arrows.to?f=u.arrows.to:f=u.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(h==="forward")u.arrows.to&&u.arrows.from?(d=n[u.arrows.to].value.to.type,c="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.to?(d=n[u.arrows.to].value.to.type,c="",n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}):u.arrows.from&&(d="arrow",c="",u.arrows.to=u.arrows.from,n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:d},from:{enabled:!0,type:c}}}),n[u.arrows.to]={attr:n[u.arrows.to].attr,name:n[u.arrows.to].name,value:{to:{enabled:!0,type:n[u.arrows.to].value.to.type}}};else throw Yt('Invalid dir type "'+h+'"');Mi(n).call(n,u.dir,1)}var p;if(Oi(s).call(s,"penwidth")){var v=[];for(p=n.length,i=0;i<p;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),v.push(n[i]));n=v}for(p=n.length,i=0;i<p;i++)l$e(n[i].attr,n[i].name,n[i].value);return t}function Yt(i){return new SyntaxError(i+', got "'+fM(te,30)+'" (char '+Ma+")")}function fM(i,t){return i.length<=t?i:i.substr(0,27)+"..."}function p$e(i,t,e){Ie(i)?Re(i).call(i,function(r){Ie(t)?Re(t).call(t,function(n){e(r,n)}):e(r,t)}):Ie(t)?Re(t).call(t,function(r){e(i,r)}):e(i,t)}function Gv(i,t,e){for(var r=t.split("."),n=r.pop(),s=i,a=0;a<r.length;a++){var o=r[a];o in s||(s[o]={}),s=s[o]}return s[n]=e,i}function iT(i,t){var e={};for(var r in i)if(i.hasOwnProperty(r)){var n=t[r];Ie(n)?Re(n).call(n,function(s){Gv(e,s,i[r])}):typeof n=="string"?Gv(e,n,i[r]):Gv(e,r,i[r])}return e}function v$e(i){var t=a$e(i),e={nodes:[],edges:[],options:{}};if(t.nodes){var r;Re(r=t.nodes).call(r,function(a){var o={id:a.id,label:String(a.label||a.id)};_n(o,iT(a.attr,oM)),o.image&&(o.shape="image"),e.nodes.push(o)})}if(t.edges){var n,s=function(o){var l={from:o.from,to:o.to};return _n(l,iT(o.attr,L1)),l.arrows==null&&o.type==="->"&&(l.arrows="to"),l};Re(n=t.edges).call(n,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Re(u=a.from.edges).call(u,function(c){var d=s(c);e.edges.push(d)})}if(p$e(o,l,function(c,d){var f=uM(e,c.id,d.id,a.type,a.attr),p=s(f);e.edges.push(p)}),a.to instanceof Object&&a.to.edges){var h;Re(h=a.to.edges).call(h,function(c){var d=s(c);e.edges.push(d)})}})}return t.attr&&(e.options=t.attr),e}function g$e(i,t){var e,r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(r.nodes.fixed=t.fixed),t.parseColor!=null&&(r.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(r.edges.inheritColor=t.inheritColor));var n=i.edges,s=Ia(n).call(n,function(o){var l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&r.edges.inheritColor===!1&&(l.color=o.color),l}),a=Ia(e=i.nodes).call(e,function(o){var l={id:o.id,fixed:r.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(r.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l});return{nodes:a,edges:s}}var m$e={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},O$e={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},y$e={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},b$e={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},$$e={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},w$e={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},S$e={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},x$e={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},k$e={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},P$e={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},T$e={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},_$e=Object.freeze({__proto__:null,cn:x$e,cs:T$e,de:O$e,en:m$e,es:y$e,fr:P$e,it:b$e,nl:$$e,pt:w$e,ru:S$e,uk:k$e});function E$e(i,t){try{var e=t.split(/[-_ /]/,2),r=qe(e,2),n=r[0],s=r[1],a=n!=null?n.toLowerCase():null,o=s!=null?s.toUpperCase():null;if(a&&o){var l=a+"-"+o;if(Object.prototype.hasOwnProperty.call(i,l))return l;var u;console.warn(E1(u="Unknown variant ".concat(o," of language ")).call(u,a,"."))}if(a){var h=a;if(Object.prototype.hasOwnProperty.call(i,h))return h;console.warn("Unknown language ".concat(a))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(c){return console.error(c),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var C$e=function(){function i(){Z(this,i),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return L(i,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,r=this.image.height;this.width=e,this.height=r;var n=Math.floor(r/2),s=Math.floor(r/4),a=Math.floor(r/8),o=Math.floor(r/16),l=Math.floor(e/2),u=Math.floor(e/4),h=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,l,n],[l,0,u,s],[l,s,h,a],[5*h,s,c,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var s=this.coordinates[n-1],a=this.coordinates[n];e.drawImage(this.canvas,s[0],s[1],s[2],s[3],a[0],a[1],a[2],a[3])}}},{key:"drawImageAtPosition",value:function(e,r,n,s,a,o){if(this.initialized())if(r>2){r*=.5;for(var l=0;r>2&&l<this.NUM_ITERATIONS;)r*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,s,a,o)}else e.drawImage(this.image,n,s,a,o)}}]),i}(),I$e=function(){function i(t){Z(this,i),this.images={},this.imageBroken={},this.callback=t}return L(i,[{key:"_tryloadBrokenUrl",value:function(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=function(){console.error("Could not load brokenImage:",r)},n.image.src=r}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,r){var n=this,s=this.images[e];if(s)return s;var a=new C$e;return this.images[e]=a,a.image.onload=function(){n._fixImageCoordinates(a.image),a.init(),n._redrawWithImage(a)},a.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,r,a)},a.image.src=e,a}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),i}(),Hy={},Q$e={get exports(){return Hy},set exports(i){Hy=i}},Da={},A$e={get exports(){return Da},set exports(i){Da=i}},R$e=ye,M$e=R$e(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}}),D$e=ye,N$e=Et,B$e=Hi,nT=M$e,mc=Object.isExtensible,Z$e=D$e(function(){mc(1)}),L$e=Z$e||nT?function(t){return!N$e(t)||nT&&B$e(t)=="ArrayBuffer"?!1:mc?mc(t):!0}:mc,z$e=ye,pM=!z$e(function(){return Object.isExtensible(Object.preventExtensions({}))}),F$e=ie,j$e=be,X$e=_u,Y$e=Et,z1=Ct,W$e=Lr.f,sT=Qu,V$e=wf,F1=L$e,U$e=ff,q$e=pM,vM=!1,Xi=U$e("meta"),G$e=0,j1=function(i){W$e(i,Xi,{value:{objectID:"O"+G$e++,weakData:{}}})},H$e=function(i,t){if(!Y$e(i))return typeof i=="symbol"?i:(typeof i=="string"?"S":"P")+i;if(!z1(i,Xi)){if(!F1(i))return"F";if(!t)return"E";j1(i)}return i[Xi].objectID},K$e=function(i,t){if(!z1(i,Xi)){if(!F1(i))return!0;if(!t)return!1;j1(i)}return i[Xi].weakData},J$e=function(i){return q$e&&vM&&F1(i)&&!z1(i,Xi)&&j1(i),i},e1e=function(){t1e.enable=function(){},vM=!0;var i=sT.f,t=j$e([].splice),e={};e[Xi]=1,i(e).length&&(sT.f=function(r){for(var n=i(r),s=0,a=n.length;s<a;s++)if(n[s]===Xi){t(n,s,1);break}return n},F$e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:V$e.f}))},t1e=A$e.exports={enable:e1e,fastKey:H$e,getWeakData:K$e,onFreeze:J$e};X$e[Xi]=!0;var r1e=Pu,i1e=kr,n1e=Tr,s1e=lo,a1e=vA,o1e=ti,aT=at,l1e=bA,u1e=$f,oT=pA,h1e=TypeError,Oc=function(i,t){this.stopped=i,this.result=t},lT=Oc.prototype,X1=function(i,t,e){var r=e&&e.that,n=!!(e&&e.AS_ENTRIES),s=!!(e&&e.IS_RECORD),a=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=r1e(t,r),u,h,c,d,f,p,v,m=function(O){return u&&oT(u,"normal",O),new Oc(!0,O)},g=function(O){return n?(n1e(O),o?l(O[0],O[1],m):l(O[0],O[1])):o?l(O,m):l(O)};if(s)u=i.iterator;else if(a)u=i;else{if(h=u1e(i),!h)throw h1e(s1e(i)+" is not iterable");if(a1e(h)){for(c=0,d=o1e(i);d>c;c++)if(f=g(i[c]),f&&aT(lT,f))return f;return new Oc(!1)}u=l1e(i,h)}for(p=s?i.next:u.next;!(v=i1e(p,u)).done;){try{f=g(v.value)}catch(O){oT(u,"throw",O)}if(typeof f=="object"&&f&&aT(lT,f))return f}return new Oc(!1)},c1e=at,d1e=TypeError,Y1=function(i,t){if(c1e(t,i))return i;throw d1e("Incorrect invocation")},f1e=ie,p1e=gt,v1e=Da,g1e=ye,m1e=uo,O1e=X1,y1e=Y1,b1e=_t,$1e=Et,w1e=co,S1e=Lr.f,x1e=Dn.forEach,k1e=bt,gM=As,P1e=gM.set,T1e=gM.getterFor,W1=function(i,t,e){var r=i.indexOf("Map")!==-1,n=i.indexOf("Weak")!==-1,s=r?"set":"add",a=p1e[i],o=a&&a.prototype,l={},u;if(!k1e||!b1e(a)||!(n||o.forEach&&!g1e(function(){new a().entries().next()})))u=e.getConstructor(t,i,r,s),v1e.enable();else{u=t(function(d,f){P1e(y1e(d,h),{type:i,collection:new a}),f!=null&&O1e(f,d[s],{that:d,AS_ENTRIES:r})});var h=u.prototype,c=T1e(i);x1e(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(d){var f=d=="add"||d=="set";d in o&&!(n&&d=="clear")&&m1e(h,d,function(p,v){var m=c(this).collection;if(!f&&n&&!$1e(p))return d=="get"?void 0:!1;var g=m[d](p===0?0:p,v);return f?this:g})}),n||S1e(h,"size",{configurable:!0,get:function(){return c(this).collection.size}})}return w1e(u,i,!1,!0),l[i]=u,f1e({global:!0,forced:!0},l),n||e.setStrong(u,i,r),u},_1e=Iu,V1=function(i,t,e){for(var r in t)e&&e.unsafe&&i[r]?i[r]=t[r]:_1e(i,r,t[r],e);return i},E1e=Zr,C1e=w1,I1e=ot,Q1e=bt,uT=I1e("species"),A1e=function(i){var t=E1e(i);Q1e&&t&&!t[uT]&&C1e(t,uT,{configurable:!0,get:function(){return this}})},R1e=ho,M1e=w1,hT=V1,D1e=Pu,N1e=Y1,B1e=bu,Z1e=X1,L1e=y1,Qh=b1,z1e=A1e,ko=bt,cT=Da.fastKey,mM=As,dT=mM.set,Hv=mM.getterFor,OM={getConstructor:function(i,t,e,r){var n=i(function(u,h){N1e(u,s),dT(u,{type:t,index:R1e(null),first:void 0,last:void 0,size:0}),ko||(u.size=0),B1e(h)||Z1e(h,u[r],{that:u,AS_ENTRIES:e})}),s=n.prototype,a=Hv(t),o=function(u,h,c){var d=a(u),f=l(u,h),p,v;return f?f.value=c:(d.last=f={index:v=cT(h,!0),key:h,value:c,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=f),p&&(p.next=f),ko?d.size++:u.size++,v!=="F"&&(d.index[v]=f)),u},l=function(u,h){var c=a(u),d=cT(h),f;if(d!=="F")return c.index[d];for(f=c.first;f;f=f.next)if(f.key==h)return f};return hT(s,{clear:function(){for(var h=this,c=a(h),d=c.index,f=c.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete d[f.index],f=f.next;c.first=c.last=void 0,ko?c.size=0:h.size=0},delete:function(u){var h=this,c=a(h),d=l(h,u);if(d){var f=d.next,p=d.previous;delete c.index[d.index],d.removed=!0,p&&(p.next=f),f&&(f.previous=p),c.first==d&&(c.first=f),c.last==d&&(c.last=p),ko?c.size--:h.size--}return!!d},forEach:function(h){for(var c=a(this),d=D1e(h,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:c.first;)for(d(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(h){return!!l(this,h)}}),hT(s,e?{get:function(h){var c=l(this,h);return c&&c.value},set:function(h,c){return o(this,h===0?0:h,c)}}:{add:function(h){return o(this,h=h===0?0:h,h)}}),ko&&M1e(s,"size",{configurable:!0,get:function(){return a(this).size}}),n},setStrong:function(i,t,e){var r=t+" Iterator",n=Hv(t),s=Hv(r);L1e(i,t,function(a,o){dT(this,{type:r,target:a,state:n(a),kind:o,last:void 0})},function(){for(var a=s(this),o=a.kind,l=a.last;l&&l.removed;)l=l.previous;return!a.target||!(a.last=l=l?l.next:a.state.first)?(a.target=void 0,Qh(void 0,!0)):o=="keys"?Qh(l.key,!1):o=="values"?Qh(l.value,!1):Qh([l.key,l.value],!1)},e?"entries":"values",!e,!0),z1e(t)}},F1e=W1,j1e=OM;F1e("Map",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},j1e);var X1e=ge,Y1e=X1e.Map,W1e=Y1e,V1e=W1e;(function(i){i.exports=V1e})(Q$e);var yM=H(Hy),U1e=function(){function i(){Z(this,i),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},dt(this.options,this.defaultOptions)}return L(i,[{key:"setOptions",value:function(e){var r=["useDefaultGroups"];if(e!==void 0){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&me(r).call(r,n)===-1){var s=e[n];this.add(n,s)}}}},{key:"clear",value:function(){this._groups=new yM,this._groupNames=[]}},{key:"get",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var s=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[s]),this._groups.set(e,n)}else{var a=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[a],this._groups.set(e,n)}return n}},{key:"add",value:function(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}]),i}(),Ky={},q1e={get exports(){return Ky},set exports(i){Ky=i}},G1e=ie;G1e({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var H1e=ge,K1e=H1e.Number.isNaN,J1e=K1e,e0e=J1e;(function(i){i.exports=e0e})(q1e);var Jy=H(Ky),eb={},t0e={get exports(){return eb},set exports(i){eb=i}},r0e=gt,i0e=r0e.isFinite,n0e=Number.isFinite||function(t){return typeof t=="number"&&i0e(t)},s0e=ie,a0e=n0e;s0e({target:"Number",stat:!0},{isFinite:a0e});var o0e=ge,l0e=o0e.Number.isFinite,u0e=l0e,h0e=u0e;(function(i){i.exports=h0e})(t0e);var es=H(eb),tb={},c0e={get exports(){return tb},set exports(i){tb=i}},d0e=ie,f0e=Dn.some,p0e=vo,v0e=p0e("some");d0e({target:"Array",proto:!0,forced:!v0e},{some:function(t){return f0e(this,t,arguments.length>1?arguments[1]:void 0)}});var g0e=It,m0e=g0e("Array").some,O0e=at,y0e=m0e,Kv=Array.prototype,b0e=function(i){var t=i.some;return i===Kv||O0e(Kv,i)&&t===Kv.some?y0e:t},$0e=b0e,w0e=$0e;(function(i){i.exports=w0e})(c0e);var S0e=H(tb),rb={},x0e={get exports(){return rb},set exports(i){rb=i}},bM=gt,k0e=ye,P0e=be,T0e=xi,_0e=C1.trim,E0e=Qf,C0e=P0e("".charAt),dd=bM.parseFloat,fT=bM.Symbol,pT=fT&&fT.iterator,I0e=1/dd(E0e+"-0")!==-1/0||pT&&!k0e(function(){dd(Object(pT))}),Q0e=I0e?function(t){var e=_0e(T0e(t)),r=dd(e);return r===0&&C0e(e,0)=="-"?-0:r}:dd,A0e=ie,vT=Q0e;A0e({global:!0,forced:parseFloat!=vT},{parseFloat:vT});var R0e=ge,M0e=R0e.parseFloat,D0e=M0e,N0e=D0e;(function(i){i.exports=N0e})(x0e);var $M=H(rb),ib={},B0e={get exports(){return ib},set exports(i){ib=i}},Z0e=ie,L0e=ye,z0e=wf.f,F0e=L0e(function(){return!Object.getOwnPropertyNames(1)});Z0e({target:"Object",stat:!0,forced:F0e},{getOwnPropertyNames:z0e});var j0e=ge,X0e=j0e.Object,Y0e=function(t){return X0e.getOwnPropertyNames(t)},W0e=Y0e,V0e=W0e;(function(i){i.exports=V0e})(B0e);var U0e=H(ib);function U1(i,t){var e=["node","edge","label"],r=!0,n=on(t,"chosen");if(typeof n=="boolean")r=n;else if(_e(n)==="object"){if(me(e).call(e,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+e.join("', '")+"'");var s=on(t,["chosen",i]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function nb(i,t,e){if(i.width<=0||i.height<=0)return!1;if(e!==void 0){var r={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var n=-e.angle,s={x:Math.cos(n)*r.x-Math.sin(n)*r.y,y:Math.sin(n)*r.x+Math.cos(n)*r.y};t=s}else t=r}var a=i.x+i.width,o=i.y+i.width;return i.left<t.x&&a>t.x&&i.top<t.y&&o>t.y}function fd(i){return typeof i=="string"&&i!==""}function wM(i,t,e,r){var n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){var a=r.distanceToBorder(i,t),o=Math.sin(t)*a,l=Math.cos(t)*a;l===a?(n+=a,s=r.y):o===a?(n=r.x,s-=a):(n+=l,s-=o)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,s=r.y-e):(n=r.x+e,s=r.y-r.shape.height*.5);return{x:n,y:s}}var sb={},q0e={get exports(){return sb},set exports(i){sb=i}},G0e=It,H0e=G0e("Array").values,K0e=H0e,J0e=K0e,ewe=Qs,twe=Ct,rwe=at,iwe=J0e,Jv=Array.prototype,nwe={DOMTokenList:!0,NodeList:!0},swe=function(i){var t=i.values;return i===Jv||rwe(Jv,i)&&t===Jv.values||twe(nwe,ewe(i))?iwe:t};(function(i){i.exports=swe})(q0e);var SM=H(sb),awe=function(){function i(t){Z(this,i),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return L(i,[{key:"_add",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var s=r;(r===void 0||r==="")&&(s=" ");var a=this.measureText(s,n),o=dt({},SM(a));o.text=r,o.width=a.width,o.mod=n,(r===void 0||r==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}},{key:"newLine",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var r=this.lines[e],n=0;if(r.blocks!==void 0)for(var s=0;s<r.blocks.length;s++){var a=r.blocks[s];n<a.height&&(n=a.height)}r.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,r=0,n=0;n<this.lines.length;n++){var s=this.lines[n];s.width>e&&(e=s.width),r+=s.height}this.width=e,this.height=r}},{key:"removeEmptyBlocks",value:function(){for(var e=[],r=0;r<this.lines.length;r++){var n=this.lines[r];if(n.blocks.length!==0&&!(r===this.lines.length-1&&n.width===0)){var s={};dt(s,n),s.blocks=[];for(var a=void 0,o=[],l=0;l<n.blocks.length;l++){var u=n.blocks[l];u.width!==0?o.push(u):a===void 0&&(a=u)}o.length===0&&a!==void 0&&o.push(a),s.blocks=o,e.push(s)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),i}(),owe={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},gT=function(){function i(t){Z(this,i),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return L(i,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.prepareRegExp(e),s=qe(n,2),a=s[0],o=s[1],l=a.test(this.text.substr(this.position,o));return l&&r&&(this.position+=o-1),l}},{key:"parseEndTag",value:function(e,r,n){var s=this.mod()===e;return e==="mono"?s=s&&this.mono:s=s&&!this.mono,s&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var r,n;if(e instanceof RegExp)n=e,r=1;else{var s=owe[e];s!==void 0?n=s:n=new RegExp(e),r=e.length}return[n,r]}}]),i}(),lwe=function(){function i(t,e,r,n){var s=this;Z(this,i),this.ctx=t,this.parent=e,this.selected=r,this.hover=n;var a=function(l,u){if(l===void 0)return 0;var h=s.parent.getFormattingValues(t,r,n,u),c=0;if(l!==""){var d=s.ctx.measureText(l);c=d.width}return{width:c,values:h}};this.lines=new awe(a)}return L(i,[{key:"process",value:function(e){if(!fd(e))return this.lines.finalize();var r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var n=String(e).split(`
`),s=n.length;if(r.multi)for(var a=0;a<s;a++){var o=this.splitBlocks(n[a],r.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(var l=0;l<o.length;l++){var u=o[l].mod,h=o[l].text;this.splitStringIntoLines(h,u,!0)}else for(var c=0;c<o.length;c++){var d=o[c].mod,f=o[c].text;this.lines.append(f,d)}this.lines.newLine()}}else if(r.maxWdt>0)for(var p=0;p<s;p++)this.splitStringIntoLines(n[p]);else for(var v=0;v<s;v++)this.lines.newLine(n[v]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}},{key:"splitHtmlBlocks",value:function(e){for(var r=new gT(e),n=function(l){if(/&/.test(l)){var u=r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&");return u||r.add("&"),!0}return!1};r.position<r.text.length;){var s=r.text.charAt(r.position),a=r.parseWS(s)||/</.test(s)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(s);a||r.add(s),r.position++}return r.emitBlock(),r.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var r=this,n=new gT(e),s=!0,a=function(h){return/\\/.test(h)?(n.position<r.text.length+1&&(n.position++,h=r.text.charAt(n.position),/ \t/.test(h)?n.spacing=!0:(n.add(h),s=!1)),!0):!1};n.position<n.text.length;){var o=n.text.charAt(n.position),l=n.parseWS(o)||a(o)||(s||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono");l||(n.add(o),s=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,r){var n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var r="",n=0;n<e.length;){var s=r===""?"":" ",a=r+s+e[n];if(this.overMaxWidth(a))break;r=a,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var r=0;r<e.length&&!this.overMaxWidth(Nt(e).call(e,0,r));)r++;return r}},{key:"splitStringIntoLines",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var s=e.split("\r");s.length>0;){var a=this.getLongestFit(s);if(a===0){var o=s[0],l=this.getLongestFitWord(o);this.lines.newLine(Nt(o).call(o,0,l),r),s[0]=Nt(o).call(o,l)}else{var u=a;s[a-1]===" "?a--:s[u]===" "&&u++;var h=Nt(s).call(s,0,a).join("");a==s.length&&n?this.lines.append(h,r):this.lines.newLine(h,r),s=Nt(s).call(s,u)}}}}]),i}(),Po=["bold","ital","boldital","mono"],xM=function(){function i(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Z(this,i),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return L(i,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),fd(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(_e(e.font)==="object"){var r=e.font.size;r!==void 0&&(this.baseSize=r)}}}},{key:"initFontOptions",value:function(e){var r=this;if(ce(Po,function(n){r.fontOptions[n]={}}),i.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ce(e,function(n,s){n!=null&&_e(n)!=="object"&&(r.fontOptions[s]=n)})}},{key:"constrain",value:function(e){var r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=on(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(_e(n)==="object"){var s=on(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));var a=on(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}var o=on(e,"heightConstraint");if(typeof o=="number")r.minHgt=Number(o);else if(_e(o)==="object"){var l=on(e,["heightConstraint","minimum"]);typeof l=="number"&&(r.minHgt=Number(l));var u=on(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(r.valign=u)}return r}},{key:"update",value:function(e,r){this.setOptions(e,!0),this.propagateFonts(r),Le(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=U1("label",r)}},{key:"adjustSizes",value:function(e){var r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,r){for(var n=0;n<r.length;++n)this.addFontToPile(e,r[n])}},{key:"addFontToPile",value:function(e,r){if(r!==void 0&&!(r.font===void 0||r.font===null)){var n=r.font;e.push(n)}}},{key:"getBasicOptions",value:function(e){for(var r={},n=0;n<e.length;++n){var s=e[n],a={};i.parseFontString(a,s)&&(s=a),ce(s,function(o,l){o!==void 0&&(Object.prototype.hasOwnProperty.call(r,l)||(me(Po).call(Po,l)!==-1?r[l]={}:r[l]=o))})}return r}},{key:"getFontOption",value:function(e,r,n){for(var s,a=0;a<e.length;++a){var o=e[a];if(Object.prototype.hasOwnProperty.call(o,r)){if(s=o[r],s==null)continue;var l={};if(i.parseFontString(l,s)&&(s=l),Object.prototype.hasOwnProperty.call(s,n))return s[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(e,r){for(var n={},s=["color","size","face","mod","vadjust"],a=0;a<s.length;++a){var o=s[a];n[o]=this.getFontOption(e,r,o)}return n}},{key:"propagateFonts",value:function(e){var r=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var s=function(){var l=Po[a],u=r.fontOptions[l],h=r.getFontOptions(n,l);ce(h,function(c,d){u[d]=c}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},a=0;a<Po.length;++a)s()}},{key:"draw",value:function(e,r,n,s,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,s,a,r,n,o),this._drawBackground(e),this._drawText(e,r,this.size.yLine,o,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}},{key:"_drawText",value:function(e,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",a=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,r,n,s),l=qe(o,2);r=l[0],n=l[1],e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var h=this.lines[u];if(h&&h.blocks){var c=0;this.isEdgeLabel||this.fontOptions.align==="center"?c+=(this.size.width-h.width)/2:this.fontOptions.align==="right"&&(c+=this.size.width-h.width);for(var d=0;d<h.blocks.length;d++){var f=h.blocks[d];e.font=f.font;var p=this._getColor(f.color,a,f.strokeColor),v=qe(p,2),m=v[0],g=v[1];f.strokeWidth>0&&(e.lineWidth=f.strokeWidth,e.strokeStyle=g,e.lineJoin="round"),e.fillStyle=m,f.strokeWidth>0&&e.strokeText(f.text,r+c,n+f.vadjust),e.fillText(f.text,r+c,n+f.vadjust),c+=f.width}n+=h.height}}}},{key:"_setAlignment",value:function(e,r,n,s){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;var a=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*a):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*a):e.textBaseline="middle"}else e.textBaseline=s;return[r,n]}},{key:"_getColor",value:function(e,r,n){var s=e||"#000000",a=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));s=Ir(s,o),a=Ir(a,o)}return[s,a]}},{key:"getTextSize",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,r=this.size.left,n=this.size.top-.5*e;if(this.isEdgeLabel){var s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+e);break;case"bottom":r=s,n=e;break}}var a={left:r,top:n,width:this.size.width,height:this.size.height};return a}},{key:"calculateLabelSize",value:function(e,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=s-this.size.width*.5,this.size.top=a-this.size.height*.5,this.size.yLine=a+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,r,n,s){var a=function(h,c,d){return c==="normal"?d==="mod"?"":h[d]:h[c][d]!==void 0?h[c][d]:h[d]},o={color:a(this.fontOptions,s,"color"),size:a(this.fontOptions,s,"size"),face:a(this.fontOptions,s,"face"),mod:a(this.fontOptions,s,"mod"),vadjust:a(this.fontOptions,s,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(s==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,r,n));var l="";return o.mod!==void 0&&o.mod!==""&&(l+=o.mod+" "),l+=o.size+"px "+o.face,e.font=l.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,r){return e!==this.selectedState||r!==this.hoverState}},{key:"_processLabelText",value:function(e,r,n,s){var a=new lwe(e,this,r,n);return a.process(s)}},{key:"_processLabel",value:function(e,r,n){if(!(this.labelDirty===!1&&!this.differentState(r,n))){var s=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&s.width<this.fontOptions.minWdt&&(s.width=this.fontOptions.minWdt),this.size.labelHeight=s.height,this.fontOptions.minHgt>0&&s.height<this.fontOptions.minHgt&&(s.height=this.fontOptions.minHgt),this.lines=s.lines,this.lineCount=s.lines.length,this.size.width=s.width,this.size.height=s.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,r){if(!r||typeof r!="string")return!1;var n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),i}(),ab={},uwe={get exports(){return ab},set exports(i){ab=i}},hwe=bf,cwe=lo,dwe=TypeError,fwe=function(i){if(hwe(i))return i;throw dwe(cwe(i)+" is not a constructor")},pwe=ie,vwe=Zr,eg=mu,gwe=G2,mT=fwe,mwe=Tr,OT=Et,Owe=ho,kM=ye,q1=vwe("Reflect","construct"),ywe=Object.prototype,bwe=[].push,PM=kM(function(){function i(){}return!(q1(function(){},[],i)instanceof i)}),TM=!kM(function(){q1(function(){})}),yT=PM||TM;pwe({target:"Reflect",stat:!0,forced:yT,sham:yT},{construct:function(t,e){mT(t),mwe(e);var r=arguments.length<3?t:mT(arguments[2]);if(TM&&!PM)return q1(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return eg(bwe,n,e),new(eg(gwe,t,n))}var s=r.prototype,a=Owe(OT(s)?s:ywe),o=eg(t,a,e);return OT(o)?o:a}});var $we=ge,wwe=$we.Reflect.construct,Swe=wwe,xwe=Swe;(function(i){i.exports=xwe})(uwe);var E=H(ab),ob={},kwe={get exports(){return ob},set exports(i){ob=i}},lb={},Pwe={get exports(){return lb},set exports(i){lb=i}},Twe=PR,_we=Twe,Ewe=_we,Cwe=Ewe;(function(i){i.exports=Cwe})(Pwe);(function(i){i.exports=lb})(kwe);var Iwe=H(ob),ub={},Qwe={get exports(){return ub},set exports(i){ub=i}},hb={},Awe={get exports(){return hb},set exports(i){hb=i}},Rwe=ie,Mwe=mle;Rwe({target:"Object",stat:!0},{setPrototypeOf:Mwe});var Dwe=ge,Nwe=Dwe.Object.setPrototypeOf,Bwe=Nwe,Zwe=Bwe,Lwe=Zwe,zwe=Lwe,Fwe=zwe,jwe=Fwe;(function(i){i.exports=jwe})(Awe);(function(i){i.exports=hb})(Qwe);var cb=H(ub),db={},Xwe={get exports(){return db},set exports(i){db=i}},fb={},Ywe={get exports(){return fb},set exports(i){fb=i}},Wwe=H2,Vwe=Wwe,Uwe=Vwe,qwe=Uwe;(function(i){i.exports=qwe})(Ywe);(function(i){i.exports=fb})(Xwe);var G1=H(db);function pb(i,t){var e;return pb=cb?G1(e=cb).call(e):function(n,s){return n.__proto__=s,n},pb(i,t)}function ke(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Iwe(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Cf(i,"prototype",{writable:!1}),t&&pb(i,t)}function Gwe(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Qe(i,t){if(t&&(_e(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gwe(i)}var vb={},Hwe={get exports(){return vb},set exports(i){vb=i}},gb={},Kwe={get exports(){return gb},set exports(i){gb=i}},Jwe=$R,eSe=Jwe,tSe=eSe,rSe=tSe;(function(i){i.exports=rSe})(Kwe);(function(i){i.exports=gb})(Hwe);var bT=H(vb);function W(i){var t;return W=cb?G1(t=bT).call(t):function(r){return r.__proto__||bT(r)},W(i)}var Ns=function(){function i(t,e,r){Z(this,i),this.body=e,this.labelModule=r,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(_e(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,r){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}},{key:"enableShadow",value:function(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}},{key:"disableShadow",value:function(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){var n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}},{key:"needsRefresh",value:function(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}},{key:"initContextForDraw",value:function(e,r){var n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}},{key:"performStroke",value:function(e,r){var n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}},{key:"performFill",value:function(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Bu(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,r,n,s,a){n!==void 0&&this.resize(n,s,a),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,r,n,s,a){this._updateBoundingBox(e,r,n,s,a)}},{key:"getDimensionsFromLabel",value:function(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);var s=this.textSize.width,a=this.textSize.height,o=14;return s===0&&(s=o,a=o),{width:s,height:a}}}]),i}();function iSe(i){var t=nSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function nSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var sSe=function(i){ke(e,i);var t=iSe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._setMargins(s),a}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(s,a)){var o=this.getDimensionsFromLabel(n,s,a);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l),this.left=s-this.width/2,this.top=a-this.height/2,this.initContextForDraw(n,u),K2(n,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(n,u),this.updateBoundingBox(s,a,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"updateBoundingBox",value:function(n,s,a,o,l){this._updateBoundingBox(n,s,a,o,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(n,s){n&&this.resize(n);var a=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(s)),Math.abs(this.height/2/Math.sin(s)))+a}}]),e}(Ns);function aSe(i){var t=oSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function oSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var H1=function(i){ke(e,i);var t=aSe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a.labelOffset=0,a.selected=!1,a}return L(e,[{key:"setOptions",value:function(n,s,a){this.options=n,s===void 0&&a===void 0||this.setImages(s,a)}},{key:"setImages",value:function(n,s){s&&this.selected?(this.imageObj=s,this.imageObjAlt=n):(this.imageObj=n,this.imageObjAlt=s)}},{key:"switchImages",value:function(n){var s=n&&!this.selected||!n&&this.selected;if(this.selected=n,this.imageObjAlt!==void 0&&s){var a=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=a}}},{key:"_getImagePadding",value:function(){var n={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var s=this.options.imagePadding;_e(s)=="object"?(n.top=s.top,n.right=s.right,n.bottom=s.bottom,n.left=s.left):(n.top=s,n.right=s,n.bottom=s,n.left=s)}return n}},{key:"_resizeImage",value:function(){var n,s;if(this.options.shapeProperties.useImageSize===!1){var a=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?a=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),n=this.options.size*2*a,s=this.options.size*2*o}else{var l=this._getImagePadding();n=this.imageObj.width+l.left+l.right,s=this.imageObj.height+l.top+l.bottom}this.width=n,this.height=s,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(n,s,a,o){this.initContextForDraw(n,o),v1(n,s,a,o.size),this.performFill(n,o)}},{key:"_drawImageAtPosition",value:function(n,s){if(this.imageObj.width!=0){n.globalAlpha=s.opacity!==void 0?s.opacity:1,this.enableShadow(n,s);var a=1;this.options.shapeProperties.interpolation===!0&&(a=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),l=this.left+o.left,u=this.top+o.top,h=this.width-o.left-o.right,c=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(n,a,l,u,h,c),this.disableShadow(n,s)}}},{key:"_drawImageLabel",value:function(n,s,a,o,l){var u=0;if(this.height!==void 0){u=this.height*.5;var h=this.labelModule.getTextSize(n,o,l);h.lineCount>=1&&(u+=h.height/2)}var c=a+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(n,s,c,o,l,"hanging")}}]),e}(Ns);function lSe(i){var t=uSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function uSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var hSe=function(i){ke(e,i);var t=lSe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._setMargins(s),a}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(s,a)){var o=this.getDimensionsFromLabel(n,s,a),l=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l),this.left=s-this.width/2,this.top=a-this.height/2,this._drawRawCircle(n,s,a,u),this.updateBoundingBox(s,a),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,a,o,l)}},{key:"updateBoundingBox",value:function(n,s){this.boundingBox.top=s-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=s+this.options.size}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(H1);function cSe(i){var t=dSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function dSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var fSe=function(i){ke(e,i);var t=cSe(e);function e(r,n,s,a,o){var l;return Z(this,e),l=t.call(this,r,n,s),l.setImages(a,o),l}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(s,a)&&this._resizeImage()}},{key:"draw",value:function(n,s,a,o,l,u){this.switchImages(o),this.resize();var h=s,c=a;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=s,this.top=a,h+=this.width/2,c+=this.height/2):(this.left=s-this.width/2,this.top=a-this.height/2),this._drawRawCircle(n,h,c,u),n.save(),n.clip(),this._drawImageAtPosition(n,u),n.restore(),this._drawImageLabel(n,h,c,o,l),this.updateBoundingBox(s,a)}},{key:"updateBoundingBox",value:function(n,s){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=s,this.boundingBox.left=n,this.boundingBox.right=n+this.options.size*2,this.boundingBox.bottom=s+this.options.size*2):(this.boundingBox.top=s-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=s+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.width*.5}}]),e}(H1);function pSe(i){var t=vSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function vSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var Zn=function(i){ke(e,i);var t=pSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(s,a)){var l,u;this.labelModule.getTextSize(n,s,a);var h=2*o.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:h,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:h,this.radius=.5*this.width}}},{key:"_drawShape",value:function(n,s,a,o,l,u,h,c){var d=this;return this.resize(n,u,h,c),this.left=o-this.width/2,this.top=l-this.height/2,this.initContextForDraw(n,c),Aae(s)(n,o,l,c.size),this.performFill(n,c),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(n.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",n.fillText(this.options.icon.code,o,l)),{drawExternalLabel:function(){if(d.options.label!==void 0){d.labelModule.calculateLabelSize(n,u,h,o,l,"hanging");var p=l+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(n,o,p,u,h,"hanging")}d.updateBoundingBox(o,l)}}}},{key:"updateBoundingBox",value:function(n,s){this.boundingBox.top=s-this.options.size,this.boundingBox.left=n-this.options.size,this.boundingBox.right=n+this.options.size,this.boundingBox.bottom=s+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(Ns);function $T(i,t){var e=Ue(i);if(Pn){var r=Pn(i);t&&(r=ur(r).call(r,function(n){return Nn(i,n).enumerable})),e.push.apply(e,r)}return e}function gSe(i){for(var t=1;t<arguments.length;t++){var e,r,n=arguments[t]!=null?arguments[t]:{};t%2?Re(e=$T(Object(n),!0)).call(e,function(s){If(i,s,n[s])}):Tn?_f(i,Tn(n)):Re(r=$T(Object(n))).call(r,function(s){Ef(i,s,Nn(n,s))})}return i}function mSe(i){var t=OSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function OSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var ySe=function(i){ke(e,i);var t=mSe(e);function e(r,n,s,a){var o;return Z(this,e),o=t.call(this,r,n,s,a),o.ctxRenderer=a,o}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l,u),this.left=s-this.width/2,this.top=a-this.height/2,n.save();var h=this.ctxRenderer({ctx:n,id:this.options.id,x:s,y:a,state:{selected:o,hover:l},style:gSe({},u),label:this.options.label});if(h.drawNode!=null&&h.drawNode(),n.restore(),h.drawExternalLabel){var c=h.drawExternalLabel;h.drawExternalLabel=function(){n.save(),c(),n.restore()}}return h.nodeDimensions&&(this.customSizeWidth=h.nodeDimensions.width,this.customSizeHeight=h.nodeDimensions.height),h}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function bSe(i){var t=$Se();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function $Se(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var wSe=function(i){ke(e,i);var t=bSe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._setMargins(s),a}return L(e,[{key:"resize",value:function(n,s,a){if(this.needsRefresh(s,a)){var o=this.getDimensionsFromLabel(n,s,a),l=o.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l),this.left=s-this.width/2,this.top=a-this.height/2,this.initContextForDraw(n,u),J2(n,s-this.width/2,a-this.height/2,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(s,a,n,o,l),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Ns);function SSe(i){var t=xSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function xSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var kSe=function(i){ke(e,i);var t=SSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"diamond",4,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function PSe(i){var t=TSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function TSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var _Se=function(i){ke(e,i);var t=PSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"circle",2,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n){return n&&this.resize(n),this.options.size}}]),e}(Zn);function ESe(i){var t=CSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function CSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var wT=function(i){ke(e,i);var t=ESe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(s,a)){var o=this.getDimensionsFromLabel(n,s,a);this.height=o.height*2,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l),this.left=s-this.width*.5,this.top=a-this.height*.5,this.initContextForDraw(n,u),DO(n,this.left,this.top,this.width,this.height),this.performFill(n,u),this.updateBoundingBox(s,a,n,o,l),this.labelModule.draw(n,s,a,o,l)}},{key:"distanceToBorder",value:function(n,s){n&&this.resize(n);var a=this.width*.5,o=this.height*.5,l=Math.sin(s)*a,u=Math.cos(s)*o;return a*o/Math.sqrt(l*l+u*u)}}]),e}(Ns);function ISe(i){var t=QSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function QSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var ASe=function(i){ke(e,i);var t=ISe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._setMargins(s),a}return L(e,[{key:"resize",value:function(n,s,a){this.needsRefresh(s,a)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,s,a,o,l,u){var h=this;return this.resize(n,o,l),this.options.icon.size=this.options.icon.size||50,this.left=s-this.width/2,this.top=a-this.height/2,this._icon(n,s,a,o,l,u),{drawExternalLabel:function(){if(h.options.label!==void 0){var d=5;h.labelModule.draw(n,h.left+h.iconSize.width/2+h.margin.left,a+h.height/2+d,o)}h.updateBoundingBox(s,a)}}}},{key:"updateBoundingBox",value:function(n,s){if(this.boundingBox.top=s-this.options.icon.size*.5,this.boundingBox.left=n-this.options.icon.size*.5,this.boundingBox.right=n+this.options.icon.size*.5,this.boundingBox.bottom=s+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var a=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+a)}}},{key:"_icon",value:function(n,s,a,o,l,u){var h=Number(this.options.icon.size);this.options.icon.code!==void 0?(n.font=[this.options.icon.weight!=null?this.options.icon.weight:o?"bold":"",(this.options.icon.weight!=null&&o?5:0)+h+"px",this.options.icon.face].join(" "),n.fillStyle=this.options.icon.color||"black",n.textAlign="center",n.textBaseline="middle",this.enableShadow(n,u),n.fillText(this.options.icon.code,s,a),this.disableShadow(n,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Ns);function RSe(i){var t=MSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function MSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var DSe=function(i){ke(e,i);var t=RSe(e);function e(r,n,s,a,o){var l;return Z(this,e),l=t.call(this,r,n,s),l.setImages(a,o),l}return L(e,[{key:"resize",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(s,a)&&this._resizeImage()}},{key:"draw",value:function(n,s,a,o,l,u){n.save(),this.switchImages(o),this.resize();var h=s,c=a;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=s,this.top=a,h+=this.width/2,c+=this.height/2):(this.left=s-this.width/2,this.top=a-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var d=this.options.borderWidth,f=this.options.borderWidthSelected||2*this.options.borderWidth,p=(o?f:d)/this.body.view.scale;n.lineWidth=Math.min(this.width,p),n.beginPath();var v=o?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,m=o?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(v=Ir(v,u.opacity),m=Ir(m,u.opacity)),n.strokeStyle=v,n.fillStyle=m,n.rect(this.left-.5*n.lineWidth,this.top-.5*n.lineWidth,this.width+n.lineWidth,this.height+n.lineWidth),Bu(n).call(n),this.performStroke(n,u),n.closePath()}this._drawImageAtPosition(n,u),this._drawImageLabel(n,h,c,o,l),this.updateBoundingBox(s,a),n.restore()}},{key:"updateBoundingBox",value:function(n,s){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=n,this.top=s):(this.left=n-this.width/2,this.top=s-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(H1);function NSe(i){var t=BSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function BSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var ZSe=function(i){ke(e,i);var t=NSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"square",2,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function LSe(i){var t=zSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function zSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var FSe=function(i){ke(e,i);var t=LSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"hexagon",4,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function jSe(i){var t=XSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function XSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var YSe=function(i){ke(e,i);var t=jSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"star",4,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function WSe(i){var t=VSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function VSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var USe=function(i){ke(e,i);var t=WSe(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._setMargins(s),a}return L(e,[{key:"resize",value:function(n,s,a){this.needsRefresh(s,a)&&(this.textSize=this.labelModule.getTextSize(n,s,a),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(n,s,a,o,l,u){this.resize(n,o,l),this.left=s-this.width/2,this.top=a-this.height/2,this.enableShadow(n,u),this.labelModule.draw(n,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l),this.disableShadow(n,u),this.updateBoundingBox(s,a,n,o,l)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Ns);function qSe(i){var t=GSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function GSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var HSe=function(i){ke(e,i);var t=qSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"triangle",3,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function KSe(i){var t=JSe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function JSe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var exe=function(i){ke(e,i);var t=KSe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"draw",value:function(n,s,a,o,l,u){return this._drawShape(n,"triangleDown",3,s,a,o,l,u)}},{key:"distanceToBorder",value:function(n,s){return this._distanceToBorder(n,s)}}]),e}(Zn);function ST(i,t){var e=Ue(i);if(Pn){var r=Pn(i);t&&(r=ur(r).call(r,function(n){return Nn(i,n).enumerable})),e.push.apply(e,r)}return e}function xT(i){for(var t=1;t<arguments.length;t++){var e,r,n=arguments[t]!=null?arguments[t]:{};t%2?Re(e=ST(Object(n),!0)).call(e,function(s){If(i,s,n[s])}):Tn?_f(i,Tn(n)):Re(r=ST(Object(n))).call(r,function(s){Ef(i,s,Nn(n,s))})}return i}var mr=function(){function i(t,e,r,n,s,a){Z(this,i),this.options=$n(s),this.globalOptions=s,this.defaultOptions=a,this.body=e,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new xM(this.body,this.options,!1),this.setOptions(t)}return L(i,[{key:"attachEdge",value:function(e){var r;me(r=this.edges).call(r,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var r,n=me(r=this.edges).call(r,e);if(n!=-1){var s;Mi(s=this.edges).call(s,n,1)}}},{key:"setOptions",value:function(e){var r=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");i.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Wr(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Wr(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=$M(e.value)),i.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var n=[e,this.options,this.defaultOptions];return this.chooser=U1("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&i.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var r=this.options.opacity;e.borderColor=Ir(e.borderColor,r),e.color=Ir(e.color,r),e.shadowColor=Ir(e.shadowColor,r)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),i.updateGroupOptions(this.options,xT(xT({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new sSe(this.options,this.body,this.labelModule);break;case"circle":this.shape=new hSe(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new fSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new ySe(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new wSe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new kSe(this.options,this.body,this.labelModule);break;case"dot":this.shape=new _Se(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new wT(this.options,this.body,this.labelModule);break;case"icon":this.shape=new ASe(this.options,this.body,this.labelModule);break;case"image":this.shape=new DSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new ZSe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new FSe(this.options,this.body,this.labelModule);break;case"star":this.shape=new YSe(this.options,this.body,this.labelModule);break;case"text":this.shape=new USe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new HSe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new exe(this.options,this.body,this.labelModule);break;default:this.shape=new wT(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,r){return this.shape.distanceToBorder(e,r)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,r,n){if(this.options.value!==void 0){var s=this.options.scaling.customScalingFunction(e,r,n,this.options.value),a=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+s*o}this.options.size=this.options.scaling.min+s*a}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}},{key:"getItemsOnPoint",value:function(e){var r=[];return this.labelModule.visible()&&nb(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),nb(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,r,n){var s;if(n!==void 0){var a=e.group;if(r!==void 0&&r.group!==void 0&&a!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");var o=typeof a=="number"||typeof a=="string"&&a!="";if(o){var l=n.get(a);l.opacity!==void 0&&r.opacity===void 0&&(i.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=ur(s=U0e(r)).call(s,function(h){return r[h]!=null});u.push("font"),hd(u,e,l),e.color=Vy(e.color)}}}},{key:"parseOptions",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(hd(o,e,r,n),i.checkMass(r),e.opacity!==void 0&&(i.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(i.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!i.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Er(e,r,"shadow",s),r.color!==void 0&&r.color!==null){var l=Vy(r.color);rM(e.color,l)}else n===!0&&r.color===null&&(e.color=$n(s.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=$n(s.font)),i.updateGroupOptions(e,r,a),r.scaling!==void 0&&Er(e.scaling,r.scaling,"label",s.scaling)}},{key:"checkMass",value:function(e,r){if(e.mass!==void 0&&e.mass<=0){var n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",aM),e.mass=1}}}]),i}();function txe(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=rxe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function rxe(i,t){var e;if(i){if(typeof i=="string")return kT(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(i,t)}}function kT(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var ixe=function(){function i(t,e,r,n){var s,a=this;if(Z(this,i),this.body=t,this.images=e,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=M(s=this.create).call(s,this),this.nodesListeners={add:function(l,u){a.add(u.items)},update:function(l,u){a.update(u.items,u.data,u.oldData)},remove:function(l,u){a.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,h,c){if(u===l)return .5;var d=1/(u-l);return Math.max(0,(c-l)*d)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=$n(this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e,r,n=this;this.body.emitter.on("refreshNodes",M(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",M(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",function(){ce(n.nodesListeners,function(s,a){n.body.data.nodes&&n.body.data.nodes.off(a,s)}),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(mr.parseOptions(this.options,e),e.opacity!==void 0&&(Jy(e.opacity)||!es(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var n=0,s=Ue(this.body.nodes);n<s.length;n++){var a=s[n];this.body.nodes[a].updateLabelModule(),this.body.nodes[a].needsRefresh()}if(e.size!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.data.nodes;if(C2("id",e))this.body.data.nodes=e;else if(Ie(e))this.body.data.nodes=new Ta,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Ta;else throw new TypeError("Array or DataSet expected");if(n&&ce(this.nodesListeners,function(o,l){n.off(l,o)}),this.body.nodes={},this.body.data.nodes){var s=this;ce(this.nodesListeners,function(o,l){s.body.data.nodes.on(l,o)});var a=this.body.data.nodes.getIds();this.add(a,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,s=[],a=0;a<e.length;a++){n=e[a];var o=this.body.data.nodes.get(n),l=this.create(o);s.push(l),this.body.nodes[n]=l}this.layoutEngine.positionInitially(s),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,r,n){for(var s=this.body.nodes,a=!1,o=0;o<e.length;o++){var l=e[o],u=s[l],h=r[o];u!==void 0?u.setOptions(h)&&(a=!0):(a=!0,u=this.create(h),s[l]=u)}!a&&n!==void 0&&(a=S0e(r).call(r,function(c,d){var f=n[d];return f&&f.level!==c.level})),a===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var r=this.body.nodes,n=0;n<e.length;n++){var s=e[n];delete r[s]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ce(this.body.nodes,function(n,s){var a=e.body.data.nodes.get(s);a!==void 0&&(r===!0&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(a))})}},{key:"getPositions",value:function(e){var r={};if(e!==void 0){if(Ie(e)===!0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){var s=this.body.nodes[e[n]];r[e[n]]={x:Math.round(s.x),y:Math.round(s.y)}}}else if(this.body.nodes[e]!==void 0){var a=this.body.nodes[e];r[e]={x:Math.round(a.x),y:Math.round(a.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var l=this.body.nodes[this.body.nodeIndices[o]];r[this.body.nodeIndices[o]]={x:Math.round(l.x),y:Math.round(l.y)}}return r}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],r=this.body.data.nodes.getDataSet(),n=txe(r.get()),s;try{for(n.s();!(s=n.n()).done;){var a=s.value,o=a.id,l=this.body.nodes[o],u=Math.round(l.x),h=Math.round(l.y);(a.x!==u||a.y!==h)&&e.push({id:o,x:u,y:h})}}catch(c){n.e(c)}finally{n.f()}r.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,r){var n=[];if(this.body.nodes[e]!==void 0)for(var s=this.body.nodes[e],a={},o=0;o<s.edges.length;o++){var l=s.edges[o];r!=="to"&&l.toId==s.id?a[l.fromId]===void 0&&(n.push(l.fromId),a[l.fromId]=!0):r!=="from"&&l.fromId==s.id&&a[l.toId]===void 0&&(n.push(l.toId),a[l.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var r=[];if(this.body.nodes[e]!==void 0)for(var n=this.body.nodes[e],s=0;s<n.edges.length;s++)r.push(n.edges[s].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}},{key:"moveNode",value:function(e,r,n){var s=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),yi(function(){s.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),i}(),mb={},nxe={get exports(){return mb},set exports(i){mb=i}},Ob={},sxe={get exports(){return Ob},set exports(i){Ob=i}},PT=Ct,axe=function(i){return i!==void 0&&(PT(i,"value")||PT(i,"writable"))},oxe=ie,lxe=kr,uxe=Et,hxe=Tr,cxe=axe,dxe=ao,fxe=yf;function _M(i,t){var e=arguments.length<3?i:arguments[2],r,n;if(hxe(i)===e)return i[t];if(r=dxe.f(i,t),r)return cxe(r)?r.value:r.get===void 0?void 0:lxe(r.get,e);if(uxe(n=fxe(i)))return _M(n,t,e)}oxe({target:"Reflect",stat:!0},{get:_M});var pxe=ge,vxe=pxe.Reflect.get,gxe=vxe,mxe=gxe,Oxe=mxe,yxe=Oxe,bxe=yxe,$xe=bxe;(function(i){i.exports=$xe})(sxe);(function(i){i.exports=Ob})(nxe);var TT=H(mb),yb={},wxe={get exports(){return yb},set exports(i){yb=i}},bb={},Sxe={get exports(){return bb},set exports(i){bb=i}},xxe=eR,kxe=xxe,Pxe=kxe,Txe=Pxe;(function(i){i.exports=Txe})(Sxe);(function(i){i.exports=bb})(wxe);var _xe=H(yb);function Exe(i,t){for(;!Object.prototype.hasOwnProperty.call(i,t)&&(i=W(i),i!==null););return i}function yc(){if(typeof Reflect<"u"&&TT){var i;yc=G1(i=TT).call(i)}else yc=function(e,r,n){var s=Exe(e,r);if(s){var a=_xe(s,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}};return yc.apply(this,arguments)}var $b={},Cxe={get exports(){return $b},set exports(i){$b=i}},Ixe=ie,_T=Math.hypot,Qxe=Math.abs,Axe=Math.sqrt,Rxe=!!_T&&_T(1/0,NaN)!==1/0;Ixe({target:"Math",stat:!0,arity:2,forced:Rxe},{hypot:function(t,e){for(var r=0,n=0,s=arguments.length,a=0,o,l;n<s;)o=Qxe(arguments[n++]),a<o?(l=a/o,r=r*l*l+1,a=o):o>0?(l=o/a,r+=l*l):r+=o;return a===1/0?1/0:a*Axe(r)}});var Mxe=ge,Dxe=Mxe.Math.hypot,Nxe=Dxe,Bxe=Nxe;(function(i){i.exports=Bxe})(Cxe);var Zxe=H($b);function EM(i){var t=Lxe();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function Lxe(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var st=function(){function i(){Z(this,i)}return L(i,null,[{key:"transform",value:function(e,r){Ie(e)||(e=[e]);for(var n=r.point.x,s=r.point.y,a=r.angle,o=r.length,l=0;l<e.length;++l){var u=e[l],h=u.x*Math.cos(a)-u.y*Math.sin(a),c=u.x*Math.sin(a)+u.y*Math.cos(a);u.x=n+o*h,u.y=s+o*c}}},{key:"drawPath",value:function(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}]),i}(),zxe=function(i){ke(e,i);var t=EM(e);function e(){return Z(this,e),t.apply(this,arguments)}return L(e,null,[{key:"draw",value:function(n,s){if(s.image){n.save(),n.translate(s.point.x,s.point.y),n.rotate(Math.PI/2+s.angle);var a=s.imageWidth!=null?s.imageWidth:s.image.width,o=s.imageHeight!=null?s.imageHeight:s.image.height;s.image.drawImageAtPosition(n,1,-a/2,0,a,o),n.restore()}return!1}}]),e}(st),Fxe=function(i){ke(e,i);var t=EM(e);function e(){return Z(this,e),t.apply(this,arguments)}return L(e,null,[{key:"draw",value:function(n,s){var a=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return st.transform(a,s),st.drawPath(n,a),!0}}]),e}(st),jxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Xxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n={x:-.4,y:0};st.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var s=Math.PI,a=r.angle-s/2,o=r.angle+s/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,a,o,!1),e.stroke(),!0}}]),i}(),Yxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n={x:-.3,y:0};st.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var s=Math.PI,a=r.angle+s/2,o=r.angle+3*s/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,a,o,!1),e.stroke(),!0}}]),i}(),Wxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Vxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Uxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n={x:-.4,y:0};return st.transform(n,r),v1(e,n.x,n.y,r.length*.4),!0}}]),i}(),qxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Gxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Hxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),Kxe=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return st.transform(n,r),st.drawPath(e,n),!0}}]),i}(),CM=function(){function i(){Z(this,i)}return L(i,null,[{key:"draw",value:function(e,r){var n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return zxe.draw(e,r);case"circle":return Uxe.draw(e,r);case"box":return Gxe.draw(e,r);case"crow":return jxe.draw(e,r);case"curve":return Xxe.draw(e,r);case"diamond":return Hxe.draw(e,r);case"inv_curve":return Yxe.draw(e,r);case"triangle":return Wxe.draw(e,r);case"inv_triangle":return Vxe.draw(e,r);case"bar":return qxe.draw(e,r);case"vee":return Kxe.draw(e,r);case"arrow":default:return Fxe.draw(e,r)}}}]),i}();function ET(i,t){var e=Ue(i);if(Pn){var r=Pn(i);t&&(r=ur(r).call(r,function(n){return Nn(i,n).enumerable})),e.push.apply(e,r)}return e}function CT(i){for(var t=1;t<arguments.length;t++){var e,r,n=arguments[t]!=null?arguments[t]:{};t%2?Re(e=ET(Object(n),!0)).call(e,function(s){If(i,s,n[s])}):Tn?_f(i,Tn(n)):Re(r=ET(Object(n))).call(r,function(s){Ef(i,s,Nn(n,s))})}return i}var IM=function(){function i(t,e,r){Z(this,i),this._body=e,this._labelModule=r,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return L(i,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,a):this._drawLine(e,r,a)}},{key:"_drawLine",value:function(e,r,n,s,a){if(this.from!=this.to)this._line(e,r,n,s,a);else{var o=this._getCircleData(e),l=qe(o,3),u=l[0],h=l[1],c=l[2];this._circle(e,r,u,h,c)}}},{key:"_drawDashedLine",value:function(e,r,n,s,a){e.lineCap="round";var o=Ie(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{var l=this._getCircleData(e),u=qe(l,3),h=u[0],c=u[1],d=u[2];this._circle(e,r,h,c,d)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)eA(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var f=this._getCircleData(e),p=qe(f,3),v=p[0],m=p[1],g=p[2];this._circle(e,r,v,m,g)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}},{key:"findBorderPosition",value:function(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var r,n=Nt(r=this._getCircleData(e)).call(r,0,2),s=qe(n,2),a=s[0],o=s[1];return{from:this._findBorderPositionCircle(this.from,e,{x:a,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:a,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var n=wM(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}},{key:"_pointOnCircle",value:function(e,r,n,s){var a=s*2*Math.PI;return{x:e+n*Math.cos(a),y:r-n*Math.sin(a)}}},{key:"_findBorderPositionCircle",value:function(e,r,n){var s=n.x,a=n.y,o=n.low,l=n.high,u=n.direction,h=10,c=this.options.selfReference.size,d=.05,f,p=(o+l)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));var m=0;do{p=(o+l)*.5,f=this._pointOnCircle(s,a,c,p);var g=Math.atan2(e.y-f.y,e.x-f.x),O=e.distanceToBorder(r,g)+v,b=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),y=O-b;if(Math.abs(y)<d)break;y>0?u>0?o=p:l=p:u>0?l=p:o=p,++m}while(o<=l&&m<h);return CT(CT({},f),{},{t:p})}},{key:"getLineWidth",value:function(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(s=Ir(this.from.options.color.border,r.opacity),a=Ir(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(s=this.from.options.color.border),n.addColorStop(0,s),n.addColorStop(1,a),n}return r.inheritsColor==="to"?Ir(this.to.options.color.border,r.opacity):Ir(this.from.options.color.border,r.opacity)}else return Ir(r.color,r.opacity)}},{key:"_circle",value:function(e,r,n,s,a){this.enableShadow(e,r);var o=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,h=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:s,low:u,high:h,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:n,y:s,low:u,high:h,direction:1});o=Math.atan2(c.y-s,c.x-n),l=Math.atan2(d.y-s,d.x-n)}e.beginPath(),e.arc(n,s,a,o,l,!1),e.stroke(),this.disableShadow(e,r)}},{key:"getDistanceToEdge",value:function(e,r,n,s,a,o){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,s,a,o);var l=this._getCircleData(void 0),u=qe(l,3),h=u[0],c=u[1],d=u[2],f=h-a,p=c-o;return Math.abs(Math.sqrt(f*f+p*p)-d)}},{key:"_getDistanceToLine",value:function(e,r,n,s,a,o){var l=n-e,u=s-r,h=l*l+u*u,c=((a-e)*l+(o-r)*u)/h;c>1?c=1:c<0&&(c=0);var d=e+c*l,f=r+c*u,p=d-a,v=f-o;return Math.sqrt(p*p+v*v)}},{key:"getArrowData",value:function(e,r,n,s,a,o){var l,u,h,c,d,f,p,v=o.width;r==="from"?(h=this.from,c=this.to,d=o.fromArrowScale<0,f=Math.abs(o.fromArrowScale),p=o.fromArrowType):r==="to"?(h=this.to,c=this.from,d=o.toArrowScale<0,f=Math.abs(o.toArrowScale),p=o.toArrowType):(h=this.to,c=this.from,d=o.middleArrowScale<0,f=Math.abs(o.middleArrowScale),p=o.middleArrowType);var m=15*f+3*v;if(h!=c){var g=Zxe(h.x-c.x,h.y-c.y),O=m/g;if(r!=="middle")if(this.options.smooth.enabled===!0){var b=this._findBorderPosition(h,e,{via:n}),y=this.getPoint(b.t+O*(r==="from"?1:-1),n);l=Math.atan2(b.y-y.y,b.x-y.x),u=b}else l=Math.atan2(h.y-c.y,h.x-c.x),u=this._findBorderPosition(h,e);else{var w=(d?-O:O)/2,x=this.getPoint(.5+w,n),P=this.getPoint(.5-w,n);l=Math.atan2(x.y-P.y,x.x-P.x),u=this.getPoint(.5,n)}}else{var T=this._getCircleData(e),S=qe(T,3),k=S[0],C=S[1],j=S[2];if(r==="from"){var z=this.options.selfReference.angle,ee=this.options.selfReference.angle+Math.PI,oe=this._findBorderPositionCircle(this.from,e,{x:k,y:C,low:z,high:ee,direction:-1});l=oe.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=oe}else if(r==="to"){var se=this.options.selfReference.angle,fe=this.options.selfReference.angle+Math.PI,pe=this._findBorderPositionCircle(this.from,e,{x:k,y:C,low:se,high:fe,direction:1});l=pe.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=pe}else{var ve=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(k,C,j,ve),l=ve*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var lt=u.x-m*.9*Math.cos(l),Xe=u.y-m*.9*Math.sin(l),$e={x:lt,y:Xe};return{point:u,core:$e,angle:l,length:m,type:p}}},{key:"drawArrowHead",value:function(e,r,n,s,a){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width;var o=CM.draw(e,a);o&&(this.enableShadow(e,r),Bu(e).call(e),this.disableShadow(e,r))}},{key:"enableShadow",value:function(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}},{key:"disableShadow",value:function(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,r){if(r.background!==!1){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}},{key:"setStrokeDashed",value:function(e,r){if(r!==!1)if(e.setLineDash!==void 0){var n=Ie(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),i}();function IT(i,t){var e=Ue(i);if(Pn){var r=Pn(i);t&&(r=ur(r).call(r,function(n){return Nn(i,n).enumerable})),e.push.apply(e,r)}return e}function QT(i){for(var t=1;t<arguments.length;t++){var e,r,n=arguments[t]!=null?arguments[t]:{};t%2?Re(e=IT(Object(n),!0)).call(e,function(s){If(i,s,n[s])}):Tn?_f(i,Tn(n)):Re(r=IT(Object(n))).call(r,function(s){Ef(i,s,Nn(n,s))})}return i}function Jxe(i){var t=eke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function eke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var K1=function(i){ke(e,i);var t=Jxe(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_findBorderPositionBezier",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),o=10,l=.2,u=!1,h=1,c=0,d=this.to,f,p,v=this.options.endPointOffset?this.options.endPointOffset.to:0;n.id===this.from.id&&(d=this.from,u=!0,v=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(v=0);var m=0;do{p=(c+h)*.5,f=this.getPoint(p,a);var g=Math.atan2(d.y-f.y,d.x-f.x),O=d.distanceToBorder(s,g)+v,b=Math.sqrt(Math.pow(f.x-d.x,2)+Math.pow(f.y-d.y,2)),y=O-b;if(Math.abs(y)<l)break;y<0?u===!1?c=p:h=p:u===!1?h=p:c=p,++m}while(c<=h&&m<o);return QT(QT({},f),{},{t:p})}},{key:"_getDistanceToBezierEdge",value:function(n,s,a,o,l,u,h){var c=1e9,d,f,p,v,m,g=n,O=s;for(f=1;f<10;f++)p=.1*f,v=Math.pow(1-p,2)*n+2*p*(1-p)*h.x+Math.pow(p,2)*a,m=Math.pow(1-p,2)*s+2*p*(1-p)*h.y+Math.pow(p,2)*o,f>0&&(d=this._getDistanceToLine(g,O,v,m,l,u),c=d<c?d:c),g=v,O=m;return c}},{key:"_bezierCurve",value:function(n,s,a,o){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),a!=null&&a.x!=null?o!=null&&o.x!=null?n.bezierCurveTo(a.x,a.y,o.x,o.y,this.toPoint.x,this.toPoint.y):n.quadraticCurveTo(a.x,a.y,this.toPoint.x,this.toPoint.y):n.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(n,s),this.enableShadow(n,s),n.stroke(),this.disableShadow(n,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(IM);function tke(i){var t=rke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function rke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var AT=function(i){ke(e,i);var t=tke(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a.via=a.via,a._boundFunction=function(){a.positionBezierNode()},a._body.emitter.on("_repositionBezierNodes",a._boundFunction),a}return L(e,[{key:"setOptions",value:function(n){yc(W(e.prototype),"setOptions",this).call(this,n);var s=!1;this.options.physics!==n.physics&&(s=!0),this.options=n,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),s===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var n="edgeId:"+this.id,s=this._body.functions.createNode({id:n,shape:"circle",physics:!0,hidden:!0});this._body.nodes[n]=s,this.via=s,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(n,s,a){this._bezierCurve(n,s,a)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var a=this._getCircleData(),o=qe(a,3),l=o[0],u=o[1],h=o[2],c=2*Math.PI*(1-n);return{x:l+h*Math.sin(c),y:u+h-h*(1-Math.cos(c))}}else return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*s.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*s.y+Math.pow(n,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,s){return this._findBorderPositionBezier(n,s,this.via)}},{key:"_getDistanceToEdge",value:function(n,s,a,o,l,u){return this._getDistanceToBezierEdge(n,s,a,o,l,u,this.via)}}]),e}(K1);function ike(i){var t=nke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function nke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var RT=function(i){ke(e,i);var t=ike(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_line",value:function(n,s,a){this._bezierCurve(n,s,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var n=this.options.smooth.roundness,s=this.options.smooth.type,a=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if(s==="discrete"||s==="diagonalCross"){var l,u;a<=o?l=u=n*o:l=u=n*a,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var h=this.from.x+l,c=this.from.y+u;return s==="discrete"&&(a<=o?h=a<n*o?this.from.x:h:c=o<n*a?this.from.y:c),{x:h,y:c}}else if(s==="straightCross"){var d=(1-n)*a,f=(1-n)*o;return a<=o?(d=0,this.from.y<this.to.y&&(f=-f)):(this.from.x<this.to.x&&(d=-d),f=0),{x:this.to.x+d,y:this.to.y+f}}else if(s==="horizontal"){var p=(1-n)*a;return this.from.x<this.to.x&&(p=-p),{x:this.to.x+p,y:this.from.y}}else if(s==="vertical"){var v=(1-n)*o;return this.from.y<this.to.y&&(v=-v),{x:this.from.x,y:this.to.y+v}}else if(s==="curvedCW"){a=this.to.x-this.from.x,o=this.from.y-this.to.y;var m=Math.sqrt(a*a+o*o),g=Math.PI,O=Math.atan2(o,a),b=(O+(n*.5+.5)*g)%(2*g);return{x:this.from.x+(n*.5+.5)*m*Math.sin(b),y:this.from.y+(n*.5+.5)*m*Math.cos(b)}}else if(s==="curvedCCW"){a=this.to.x-this.from.x,o=this.from.y-this.to.y;var y=Math.sqrt(a*a+o*o),w=Math.PI,x=Math.atan2(o,a),P=(x+(-n*.5+.5)*w)%(2*w);return{x:this.from.x+(n*.5+.5)*y*Math.sin(P),y:this.from.y+(n*.5+.5)*y*Math.cos(P)}}else{var T,S;a<=o?T=S=n*o:T=S=n*a,this.from.x>this.to.x&&(T=-T),this.from.y>=this.to.y&&(S=-S);var k=this.from.x+T,C=this.from.y+S;return a<=o?this.from.x<=this.to.x?k=this.to.x<k?this.to.x:k:k=this.to.x>k?this.to.x:k:this.from.y>=this.to.y?C=this.to.y>C?this.to.y:C:C=this.to.y<C?this.to.y:C,{x:k,y:C}}}},{key:"_findBorderPosition",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(n,s,a.via)}},{key:"_getDistanceToEdge",value:function(n,s,a,o,l,u){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(n,s,a,o,l,u,h)}},{key:"getPoint",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),a=n,o=Math.pow(1-a,2)*this.fromPoint.x+2*a*(1-a)*s.x+Math.pow(a,2)*this.toPoint.x,l=Math.pow(1-a,2)*this.fromPoint.y+2*a*(1-a)*s.y+Math.pow(a,2)*this.toPoint.y;return{x:o,y:l}}}]),e}(K1);function ske(i){var t=ake();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function ake(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var oke=function(i){ke(e,i);var t=ske(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_getDistanceToBezierEdge2",value:function(n,s,a,o,l,u,h,c){for(var d=1e9,f=n,p=s,v=[0,0,0,0],m=1;m<10;m++){var g=.1*m;v[0]=Math.pow(1-g,3),v[1]=3*g*Math.pow(1-g,2),v[2]=3*Math.pow(g,2)*(1-g),v[3]=Math.pow(g,3);var O=v[0]*n+v[1]*h.x+v[2]*c.x+v[3]*a,b=v[0]*s+v[1]*h.y+v[2]*c.y+v[3]*o;if(m>0){var y=this._getDistanceToLine(f,p,O,b,l,u);d=y<d?y:d}f=O,p=b}return d}}]),e}(K1);function lke(i){var t=uke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function uke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var MT=function(i){ke(e,i);var t=lke(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_line",value:function(n,s,a){var o=a[0],l=a[1];this._bezierCurve(n,s,o,l)}},{key:"_getViaCoordinates",value:function(){var n=this.from.x-this.to.x,s=this.from.y-this.to.y,a,o,l,u,h=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(s)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(o=this.from.y,u=this.to.y,a=this.from.x-h*n,l=this.to.x+h*n):(o=this.from.y-h*s,u=this.to.y+h*s,a=this.from.x,l=this.to.x),[{x:a,y:o},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(n,s){return this._findBorderPositionBezier(n,s)}},{key:"_getDistanceToEdge",value:function(n,s,a,o,l,u){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),c=qe(h,2),d=c[0],f=c[1];return this._getDistanceToBezierEdge2(n,s,a,o,l,u,d,f)}},{key:"getPoint",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),a=qe(s,2),o=a[0],l=a[1],u=n,h=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],c=h[0]*this.fromPoint.x+h[1]*o.x+h[2]*l.x+h[3]*this.toPoint.x,d=h[0]*this.fromPoint.y+h[1]*o.y+h[2]*l.y+h[3]*this.toPoint.y;return{x:c,y:d}}}]),e}(oke);function hke(i){var t=cke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function cke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var DT=function(i){ke(e,i);var t=hke(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_line",value:function(n,s){n.beginPath(),n.moveTo(this.fromPoint.x,this.fromPoint.y),n.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(n,s),n.stroke(),this.disableShadow(n,s)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(n){return{x:(1-n)*this.fromPoint.x+n*this.toPoint.x,y:(1-n)*this.fromPoint.y+n*this.toPoint.y}}},{key:"_findBorderPosition",value:function(n,s){var a=this.to,o=this.from;n.id===this.from.id&&(a=this.from,o=this.to);var l=Math.atan2(a.y-o.y,a.x-o.x),u=a.x-o.x,h=a.y-o.y,c=Math.sqrt(u*u+h*h),d=n.distanceToBorder(s,l),f=(c-d)/c;return{x:(1-f)*o.x+f*a.x,y:(1-f)*o.y+f*a.y,t:0}}},{key:"_getDistanceToEdge",value:function(n,s,a,o,l,u){return this._getDistanceToLine(n,s,a,o,l,u)}}]),e}(IM),va=function(){function i(t,e,r,n,s){if(Z(this,i),e===void 0)throw new Error("No body provided");this.options=$n(n),this.globalOptions=n,this.defaultOptions=s,this.body=e,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new xM(this.body,this.options,!0),this.setOptions(t)}return L(i,[{key:"setOptions",value:function(e){if(e){var r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;i.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=$M(e.value));var n=[e,this.options,this.defaultOptions];return this.chooser=U1("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,s=this.options.color.inherit,a={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:s?void 0:this.options.color.color,inheritsColor:s,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var o=this.options.selectionWidth;typeof o=="function"?a.width=o(a.width):typeof o=="number"&&(a.width+=o),a.width=Math.max(a.width,.3/this.body.view.scale),a.color=this.options.color.highlight,a.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?a.width=l(a.width):typeof l=="number"&&(a.width+=l),a.width=Math.max(a.width,.3/this.body.view.scale),a.color=this.options.color.hover,a.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(a,this.options.id,this.selected,this.hover),a.color!==void 0&&(a.inheritsColor=!1),a.shadow===!1&&(a.shadowColor!==this.options.shadow.color||a.shadowSize!==this.options.shadow.size||a.shadowX!==this.options.shadow.x||a.shadowY!==this.options.shadow.y)&&(a.shadow=!0));else a.shadow=this.options.shadow.enabled,a.width=Math.max(a.width,.3/this.body.view.scale);return a}},{key:"updateLabelModule",value:function(e){var r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof AT&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof MT&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof RT&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof DT&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new AT(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new MT(this.options,this.body,this.labelModule):this.edgeType=new RT(this.options,this.body,this.labelModule):this.edgeType=new DT(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,r,n){if(this.options.value!==void 0){var s=this.options.scaling.customScalingFunction(e,r,n,this.options.value),a=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+s*o}this.options.width=this.options.scaling.min+s*a}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var r=this.getFormattingValues();if(!r.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var r=this.getFormattingValues();if(!r.hidden){var n=this.edgeType.getViaNode(),s={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(s.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=s.from.core),r.fromArrowSrc&&(s.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(s.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(s.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(s.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=s.to.core),r.toArrowSrc&&(s.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(s.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(s.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(s.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(s.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(s.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(s.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,s.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,s.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,s.to)}}},{key:"drawLabel",value:function(e,r){if(this.options.label!==void 0){var n=this.from,s=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var a;if(n.id!=s.id){this.labelModule.pointToSelf=!1,a=this.edgeType.getPoint(.5,r),e.save();var o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,a.x,a.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=wM(e,this.options.selfReference.angle,this.options.selfReference.size,n);a=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,a.x,a.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var r=[];if(this.labelModule.visible()){var n=this._getRotation();nb(this.labelModule.getSize(),e,n)&&r.push({edgeId:this.id,labelId:0})}var s={left:e.x,top:e.y};return this.isOverlappingWith(s)&&r.push({edgeId:this.id}),r}},{key:"isOverlappingWith",value:function(e){if(this.connected){var r=10,n=this.from.x,s=this.from.y,a=this.to.x,o=this.to.y,l=e.left,u=e.top,h=this.edgeType.getDistanceToEdge(n,s,a,o,l,u);return h<r}else return!1}},{key:"_getRotation",value:function(e){var r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var s={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return s;var a=this.from.y-this.to.y,o=this.from.x-this.to.x,l=Math.atan2(a,o);return(l<-1&&o<0||l>0&&o<0)&&(l+=Math.PI),s.angle=l,s}},{key:"_pointOnCircle",value:function(e,r,n,s){return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(mo(o,e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(es(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=s.endPointOffset.from!==void 0?s.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(es(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=s.endPointOffset.to!==void 0?s.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),fd(r.label)?e.label=r.label:fd(e.label)||(e.label=void 0),Er(e,r,"smooth",s),Er(e,r,"shadow",s),Er(e,r,"background",s),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=us(s.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Er(e.scaling,r.scaling,"label",s.scaling)):n===!0&&r.scaling===null&&(e.scaling=us(s.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){var l=r.arrows.toLowerCase();e.arrows.to.enabled=me(l).call(l,"to")!=-1,e.arrows.middle.enabled=me(l).call(l,"middle")!=-1,e.arrows.from.enabled=me(l).call(l,"from")!=-1}else if(_e(r.arrows)==="object")Er(e.arrows,r.arrows,"to",s.arrows),Er(e.arrows,r.arrows,"middle",s.arrows),Er(e.arrows,r.arrows,"from",s.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Nu(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=us(s.arrows));if(r.color!==void 0&&r.color!==null){var u=hn(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,h=e.color;if(a)Le(h,s.color,!1,n);else for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&delete h[c];if(hn(h))h.color=h,h.highlight=h,h.hover=h,h.inherit=!1,u.opacity===void 0&&(h.opacity=1);else{var d=!1;u.color!==void 0&&(h.color=u.color,d=!0),u.highlight!==void 0&&(h.highlight=u.highlight,d=!0),u.hover!==void 0&&(h.hover=u.hover,d=!0),u.inherit!==void 0&&(h.inherit=u.inherit),u.opacity!==void 0&&(h.opacity=Math.min(1,Math.max(0,u.opacity))),d===!0?h.inherit=!1:h.inherit===void 0&&(h.inherit="from")}}else n===!0&&r.color===null&&(e.color=$n(s.color));n===!0&&r.font===null&&(e.font=$n(s.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}}]),i}(),dke=function(){function i(t,e,r){var n,s=this;Z(this,i),this.body=t,this.images=e,this.groups=r,this.body.functions.createEdge=M(n=this.create).call(n,this),this.edgesListeners={add:function(o,l){s.add(l.items)},update:function(o,l){s.update(l.items)},remove:function(o,l){s.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,l,u,h){if(l===o)return .5;var c=1/(l-o);return Math.max(0,(h-o)*c)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Le(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;s==="dynamic"&&(s="continuous");var o=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],h=e.body.data.edges.get(l);if(h!=null){var c=h.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(s===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:s}}),o=!0)}}a===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",M(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",M(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){ce(e.edgesListeners,function(s,a){e.body.data.edges&&e.body.data.edges.off(a,s)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){va.parseOptions(this.options,e,!0,this.defaultOptions,!0);var r=!1;if(e.smooth!==void 0)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(var s in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,s)&&this.body.edges[s].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this.body.data.edges;if(C2("id",e))this.body.data.edges=e;else if(Ie(e))this.body.data.edges=new Ta,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Ta;else throw new TypeError("Array or DataSet expected");if(s&&ce(this.edgesListeners,function(o,l){s.off(l,o)}),this.body.edges={},this.body.data.edges){ce(this.edgesListeners,function(o,l){r.body.data.edges.on(l,o)});var a=this.body.data.edges.getIds();this.add(a,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.edges,s=this.body.data.edges,a=0;a<e.length;a++){var o=e[a],l=n[o];l&&l.disconnect();var u=s.get(o,{showInternalIds:!0});n[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var r=this.body.edges,n=this.body.data.edges,s=!1,a=0;a<e.length;a++){var o=e[a],l=n.get(o),u=r[o];u!==void 0?(u.disconnect(),s=u.setOptions(l)||s,u.connect()):(this.body.edges[o]=this.create(l),s=!0)}s===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var n=this.body.edges;ce(e,function(s){var a=n[s];a!==void 0&&a.remove()}),r&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;ce(this.body.edges,function(r,n){var s=e.body.data.edges.get(n);s!==void 0&&r.setOptions(s)})}},{key:"create",value:function(e){return new va(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var s=n[e];s.from=null,s.to=null,s.connect()}}},{key:"getConnectedNodes",value:function(e){var r=[];if(this.body.edges[e]!==void 0){var n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,r=[];ce(this.body.edges,function(n,s){var a=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];a!==void 0&&a.isCluster===!0||o!==void 0&&o.isCluster===!0||(a===void 0||o===void 0)&&r.push(s)}),this.remove(r,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var r=this.body.edges,n=[];Re(e).call(e,function(s,a){var o=r[a];o===void 0&&n.push(a)}),this.add(n,!0)}}}]),i}(),QM=function(){function i(t,e,r){Z(this,i),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(r),this._rng=Mf("BARNES HUT SOLVER")}return L(i,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,s=n.length,a=this._formBarnesHutTree(r,n);this.barnesHutTree=a;for(var o=0;o<s;o++)e=r[n[o]],e.options.mass>0&&this._getForceContributions(a.root,e)}}},{key:"_getForceContributions",value:function(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}},{key:"_getForceContribution",value:function(e,r){if(e.childrenCount>0){var n=e.centerOfMass.x-r.x,s=e.centerOfMass.y-r.y,a=Math.sqrt(n*n+s*s);a*e.calcSize>this.thetaInversed?this._calculateForces(a,n,s,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(a,n,s,r,e)}}},{key:"_calculateForces",value:function(e,r,n,s,a){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&s.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,e-s.shape.radius));var o=this.options.gravitationalConstant*a.mass*s.options.mass/Math.pow(e,3),l=r*o,u=n*o;this.physicsBody.forces[s.id].x+=l,this.physicsBody.forces[s.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,r){for(var n,s=r.length,a=e[r[0]].x,o=e[r[0]].y,l=e[r[0]].x,u=e[r[0]].y,h=1;h<s;h++){var c=e[r[h]],d=c.x,f=c.y;c.options.mass>0&&(d<a&&(a=d),d>l&&(l=d),f<o&&(o=f),f>u&&(u=f))}var p=Math.abs(l-a)-Math.abs(u-o);p>0?(o-=.5*p,u+=.5*p):(a+=.5*p,l-=.5*p);var v=1e-5,m=Math.max(v,Math.abs(l-a)),g=.5*m,O=.5*(a+l),b=.5*(o+u),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:O-g,maxX:O+g,minY:b-g,maxY:b+g},size:m,calcSize:1/m,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var w=0;w<s;w++)n=e[r[w]],n.options.mass>0&&this._placeInTree(y.root,n);return y}},{key:"_updateBranchMass",value:function(e,r){var n=e.centerOfMass,s=e.mass+r.options.mass,a=1/s;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=a,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=a,e.mass=s;var o=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);var s=e.children.NW.range,a;s.maxX>r.x?s.maxY>r.y?a="NW":a="SW":s.maxY>r.y?a="NE":a="SE",this._placeInRegion(e,r,a)}},{key:"_placeInRegion",value:function(e,r,n){var s=e.children[n];switch(s.childrenCount){case 0:s.children.data=r,s.childrenCount=1,this._updateBranchMass(s,r);break;case 1:s.children.data.x===r.x&&s.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(s),this._placeInTree(s,r));break;case 4:this._placeInTree(s,r);break}}},{key:"_splitBranch",value:function(e){var r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}},{key:"_insertRegion",value:function(e,r){var n,s,a,o,l=.5*e.size;switch(r){case"NW":n=e.range.minX,s=e.range.minX+l,a=e.range.minY,o=e.range.minY+l;break;case"NE":n=e.range.minX+l,s=e.range.maxX,a=e.range.minY,o=e.range.minY+l;break;case"SW":n=e.range.minX,s=e.range.minX+l,a=e.range.minY+l,o=e.range.maxY;break;case"SE":n=e.range.minX+l,s=e.range.maxX,a=e.range.minY+l,o=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:s,minY:a,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}},{key:"_drawBranch",value:function(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}]),i}(),fke=function(){function i(t,e,r){Z(this,i),this._rng=Mf("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,n,s,a,o,l,u,h=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,v=4/3,m=0;m<c.length-1;m++){l=h[c[m]];for(var g=m+1;g<c.length;g++)u=h[c[g]],e=u.x-l.x,r=u.y-l.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?o=1:o=p*n+v,o=o/n,s=e*o,a=r*o,d[l.id].x-=s,d[l.id].y-=a,d[u.id].x+=s,d[u.id].y+=a)}}}]),i}(),pke=function(){function i(t,e,r){Z(this,i),this.body=t,this.physicsBody=e,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,s=this.options.nodeDistance,a=0;a<r.length-1;a++)for(var o=e[r[a]],l=a+1;l<r.length;l++){var u=e[r[l]];if(o.level===u.level){var h=s+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),c=u.x-o.x,d=u.y-o.y,f=Math.sqrt(c*c+d*d),p=.05,v=void 0;f<h?v=-Math.pow(p*f,2)+Math.pow(p*h,2):v=0,f!==0&&(v=v/f);var m=c*v,g=d*v;n[o.id].x-=m,n[o.id].y-=g,n[u.id].x+=m,n[u.id].y+=g}}}}]),i}(),tg=function(){function i(t,e,r){Z(this,i),this.body=t,this.physicsBody=e,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,n=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a,o,l,u=0;u<n.length;u++)r=s[n[u]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,a=r.to,o=r.edgeType.via,l=r.from,this._calculateSpringForce(a,o,.5*e),this._calculateSpringForce(o,l,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}},{key:"_calculateSpringForce",value:function(e,r,n){var s=e.x-r.x,a=e.y-r.y,o=Math.max(Math.sqrt(s*s+a*a),.01),l=this.options.springConstant*(n-o)/o,u=s*l,h=a*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=h),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=h)}}]),i}(),vke=function(){function i(t,e,r){Z(this,i),this.body=t,this.physicsBody=e,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,n,s,a,o,l,u,h=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var m=f[v];p[m].springFx=0,p[m].springFy=0}for(var g=0;g<d.length;g++)r=h[d[g]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,s=r.from.y-r.to.y,u=Math.sqrt(n*n+s*s),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,a=n*l,o=s*l,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=a,p[r.toId].springFy-=o),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=a,p[r.fromId].springFy+=o)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*a,p[r.toId].y-=c*o),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*a,p[r.fromId].y+=c*o)));l=1;for(var O,b,y=0;y<f.length;y++){var w=f[y];O=Math.min(l,Math.max(-l,p[w].springFx)),b=Math.min(l,Math.max(-l,p[w].springFy)),p[w].x+=O,p[w].y+=b}for(var x=0,P=0,T=0;T<f.length;T++){var S=f[T];x+=p[S].x,P+=p[S].y}for(var k=x/f.length,C=P/f.length,j=0;j<f.length;j++){var z=f[j];p[z].x-=k,p[z].y-=C}}}]),i}(),bc=function(){function i(t,e,r){Z(this,i),this.body=t,this.physicsBody=e,this.setOptions(r)}return L(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,r,n,s,a=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<o.length;u++){var h=o[u];s=a[h],e=-s.x,r=-s.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,l,s)}}},{key:"_calculateForces",value:function(e,r,n,s,a){var o=e===0?0:this.options.centralGravity/e;s[a.id].x=r*o,s[a.id].y=n*o}}]),i}();function gke(i){var t=mke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function mke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var Oke=function(i){ke(e,i);var t=gke(e);function e(r,n,s){var a;return Z(this,e),a=t.call(this,r,n,s),a._rng=Mf("FORCE ATLAS 2 BASED REPULSION SOLVER"),a}return L(e,[{key:"_calculateForces",value:function(n,s,a,o,l){n===0&&(n=.1*this._rng(),s=n),this.overlapAvoidanceFactor<1&&o.shape.radius&&(n=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,n-o.shape.radius));var u=o.edges.length+1,h=this.options.gravitationalConstant*l.mass*o.options.mass*u/Math.pow(n,2),c=s*h,d=a*h;this.physicsBody.forces[o.id].x+=c,this.physicsBody.forces[o.id].y+=d}}]),e}(QM);function yke(i){var t=bke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function bke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var $ke=function(i){ke(e,i);var t=yke(e);function e(r,n,s){return Z(this,e),t.call(this,r,n,s)}return L(e,[{key:"_calculateForces",value:function(n,s,a,o,l){if(n>0){var u=l.edges.length+1,h=this.options.centralGravity*u*l.options.mass;o[l.id].x=s*h,o[l.id].y=a*h}}}]),e}(bc),wke=function(){function i(t){Z(this,i),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},dt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,hd(["stabilization"],this.options,e),Er(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var r=this.options.wind;r&&((typeof r.x!="number"||Jy(r.x))&&(r.x=0),(typeof r.y!="number"||Jy(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Oke(this.body,this.physicsBody,e),this.edgesSolver=new tg(this.body,this.physicsBody,e),this.gravitySolver=new $ke(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new fke(this.body,this.physicsBody,e),this.edgesSolver=new tg(this.body,this.physicsBody,e),this.gravitySolver=new bc(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new pke(this.body,this.physicsBody,e),this.edgesSolver=new vke(this.body,this.physicsBody,e),this.gravitySolver=new bc(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new QM(this.body,this.physicsBody,e),this.edgesSolver=new tg(this.body,this.physicsBody,e),this.gravitySolver=new bc(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=M(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=ad();this.physicsTick();var r=ad()-e;(r<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&yi(function(){e.body.emitter.emit("stabilized",{iterations:r}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,r=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&r[s].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[s].id);for(var a=0;a<this.physicsBody.physicsNodeIndices.length;a++){var o=this.physicsBody.physicsNodeIndices[a];this.physicsBody.forces[o]={x:0,y:0},this.physicsBody.velocities[o]===void 0&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=Ue(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var s=0;s<e.length;s++){var a=e[s];r[a]!==void 0?r[a].options.physics===!0&&(this.referenceState[a]={positions:{x:r[a].x,y:r[a].y}},n[a].x=this.previousStates[a].vx,n[a].y=this.previousStates[a].vy,r[a].x=this.previousStates[a].x,r[a].y=this.previousStates[a].y):delete this.previousStates[a]}}},{key:"_evaluateStepQuality",value:function(){var e,r,n,s=this.body.nodes,a=this.referenceState,o=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&s[l]!==void 0&&(e=s[l].x-a[l].positions.x,r=s[l].y-a[l].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,r=0,n=0,s=5,a=0;a<e.length;a++){var o=e[a],l=this._performStep(o);r=Math.max(r,l),n+=l}this.adaptiveTimestepEnabled=n/e.length<s,this.stabilized=r<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,r,n){var s=this.modelOptions.damping*e,a=(r-s)/n;e+=a*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var s=this.physicsBody.velocities[e];this.previousStates[e]={x:r.x,y:r.y,vx:s.x,vy:s.y},r.options.fixed.x===!1?(s.x=this.calculateComponentVelocity(s.x,n.x,r.options.mass),r.x+=s.x*this.timestep):(n.x=0,s.x=0),r.options.fixed.y===!1?(s.y=this.calculateComponentVelocity(s.y,n.y,r.options.mass),r.y+=s.y*this.timestep):(n.y=0,s.y=0);var a=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2));return a}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){var n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof r!="number"&&(r=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",r)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=r,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,yi(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,r=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var s=0;r()&&s<this.options.stabilization.updateInterval;)this.physicsTick(),s++;if(n(),r()){var a;yi(M(a=this._stabilizationBatch).call(a,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var n=this.physicsBody.physicsNodeIndices[r],s=this.body.nodes[n],a=this.physicsBody.forces[n],o=20,l=.03,u=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.x,2)),h=Math.min(Math.max(5,u),15),c=3*h,d=Uy((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),f={x:s.x+o*a.x,y:s.y+o*a.y};e.lineWidth=h,e.strokeStyle=d,e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(f.x,f.y),e.stroke();var p=Math.atan2(a.y,a.x);e.fillStyle=d,CM.draw(e,{type:"arrow",point:f,angle:p,length:c}),Bu(e).call(e)}}}]),i}();let Ah;const Ske=new Uint8Array(16);function xke(){if(!Ah&&(Ah=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ah))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ah(Ske)}const At=[];for(let i=0;i<256;++i)At.push((i+256).toString(16).slice(1));function kke(i,t=0){return(At[i[t+0]]+At[i[t+1]]+At[i[t+2]]+At[i[t+3]]+"-"+At[i[t+4]]+At[i[t+5]]+"-"+At[i[t+6]]+At[i[t+7]]+"-"+At[i[t+8]]+At[i[t+9]]+"-"+At[i[t+10]]+At[i[t+11]]+At[i[t+12]]+At[i[t+13]]+At[i[t+14]]+At[i[t+15]]).toLowerCase()}const Pke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var NT={randomUUID:Pke};function tl(i,t,e){if(NT.randomUUID&&!t&&!i)return NT.randomUUID();i=i||{};const r=i.random||(i.rng||xke)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(let n=0;n<16;++n)t[e+n]=r[n];return t}return kke(r)}var Wt=function(){function i(){Z(this,i)}return L(i,null,[{key:"getRange",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,s=-1e9,a=1e9,o=-1e9,l;if(r.length>0)for(var u=0;u<r.length;u++)l=e[r[u]],a>l.shape.boundingBox.left&&(a=l.shape.boundingBox.left),o<l.shape.boundingBox.right&&(o=l.shape.boundingBox.right),n>l.shape.boundingBox.top&&(n=l.shape.boundingBox.top),s<l.shape.boundingBox.bottom&&(s=l.shape.boundingBox.bottom);return a===1e9&&o===-1e9&&n===1e9&&s===-1e9&&(n=0,s=0,a=0,o=0),{minX:a,maxX:o,minY:n,maxY:s}}},{key:"getRangeCore",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,s=-1e9,a=1e9,o=-1e9,l;if(r.length>0)for(var u=0;u<r.length;u++)l=e[r[u]],a>l.x&&(a=l.x),o<l.x&&(o=l.x),n>l.y&&(n=l.y),s<l.y&&(s=l.y);return a===1e9&&o===-1e9&&n===1e9&&s===-1e9&&(n=0,s=0,a=0,o=0),{minX:a,maxX:o,minY:n,maxY:s}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,r){var n={};return r===void 0||r==="node"?(Le(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Le(n,e.options,!0),n}}]),i}();function Tke(i){var t=_ke();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function _ke(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var Eke=function(i){ke(e,i);var t=Tke(e);function e(r,n,s,a,o,l){var u;return Z(this,e),u=t.call(this,r,n,s,a,o,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return L(e,[{key:"_openChildCluster",value:function(n){var s=this,a=this.body.nodes[n];if(this.containedNodes[n]===void 0)throw new Error("node with id: "+n+" not in current cluster");if(!a.isCluster)throw new Error("node with id: "+n+" is not a cluster");delete this.containedNodes[n],ce(a.edges,function(o){delete s.containedEdges[o.id]}),ce(a.containedNodes,function(o,l){s.containedNodes[l]=o}),a.containedNodes={},ce(a.containedEdges,function(o,l){s.containedEdges[l]=o}),a.containedEdges={},ce(a.edges,function(o){ce(s.edges,function(l){var u,h,c=me(u=l.clusteringEdgeReplacingIds).call(u,o.id);c!==-1&&(ce(o.clusteringEdgeReplacingIds,function(d){l.clusteringEdgeReplacingIds.push(d),s.body.edges[d].edgeReplacedById=l.id}),Mi(h=l.clusteringEdgeReplacingIds).call(h,c,1))})}),a.edges=[]}}]),e}(mr),Cke=function(){function i(t){var e=this;Z(this,i),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},dt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return L(i,[{key:"clusterByHubsize",value:function(e,r){e===void 0?e=this._getHubSize():_e(e)==="object"&&(r=this._checkOptions(e),e=this._getHubSize());for(var n=[],s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];a.edges.length>=e&&n.push(a.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],r,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(r.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");r=this._checkOptions(r);var s={},a={};ce(this.body.nodes,function(o,l){o.options&&r.joinCondition(o.options)===!0&&(s[l]=o,ce(o.edges,function(u){e.clusteredEdges[u.id]===void 0&&(a[u.id]=u)}))}),this._cluster(s,a,r,n)}},{key:"clusterByEdgeCount",value:function(e,r){var n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);for(var a=[],o={},l,u,h,c=function(){var v={},m={},g=n.body.nodeIndices[d],O=n.body.nodes[g];if(o[g]===void 0){h=0,u=[];for(var b=0;b<O.edges.length;b++)l=O.edges[b],n.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&h++,u.push(l));if(h===e){for(var y=function(z){if(r.joinCondition===void 0||r.joinCondition===null)return!0;var ee=Wt.cloneOptions(z);return r.joinCondition(ee)},w=!0,x=0;x<u.length;x++){l=u[x];var P=n._getConnectedId(l,g);if(y(O))m[l.id]=l,v[g]=O,v[P]=n.body.nodes[P],o[g]=!0;else{w=!1;break}}if(Ue(v).length>0&&Ue(m).length>0&&w===!0){var T=function(){for(var z=0;z<a.length;++z)for(var ee in v)if(a[z].nodes[ee]!==void 0)return a[z]},S=T();if(S!==void 0){for(var k in v)S.nodes[k]===void 0&&(S.nodes[k]=v[k]);for(var C in m)S.edges[C]===void 0&&(S.edges[C]=m[C])}else a.push({nodes:v,edges:m})}}}},d=0;d<this.body.nodeIndices.length;d++)c();for(var f=0;f<a.length;f++)this._cluster(a[f].nodes,a[f].edges,r,!1);s===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}},{key:"clusterBridges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}},{key:"clusterByConnection",value:function(e,r){var n,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var a=this.body.nodes[e];r=this._checkOptions(r,a),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=a.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=a.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=a.options.fixed.x,r.clusterNodeProperties.fixed.y=a.options.fixed.y);var o={},l={},u=a.id,h=Wt.cloneOptions(a);o[u]=a;for(var c=0;c<a.edges.length;c++){var d=a.edges[c];if(this.clusteredEdges[d.id]===void 0){var f=this._getConnectedId(d,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(r.joinCondition===void 0)l[d.id]=d,o[f]=this.body.nodes[f];else{var p=Wt.cloneOptions(this.body.nodes[f]);r.joinCondition(h,p)===!0&&(l[d.id]=d,o[f]=this.body.nodes[f])}else l[d.id]=d}}var v=Ia(n=Ue(o)).call(n,function(y){return o[y].id});for(var m in o)if(Object.prototype.hasOwnProperty.call(o,m))for(var g=o[m],O=0;O<g.edges.length;O++){var b=g.edges[O];me(v).call(v,this._getConnectedId(b,g.id))>-1&&(l[b.id]=b)}this._cluster(o,l,r,s)}},{key:"_createClusterEdges",value:function(e,r,n,s){for(var a,o,l,u,h,c,d=Ue(e),f=[],p=0;p<d.length;p++){o=d[p],l=e[o];for(var v=0;v<l.edges.length;v++)a=l.edges[v],this.clusteredEdges[a.id]===void 0&&(a.toId==a.fromId?r[a.id]=a:a.toId==o?(u=n.id,h=a.fromId,c=h):(u=a.toId,h=n.id,c=u),e[c]===void 0&&f.push({edge:a,fromId:h,toId:u}))}for(var m=[],g=function(P){for(var T=0;T<m.length;T++){var S=m[T],k=P.fromId===S.fromId&&P.toId===S.toId,C=P.fromId===S.toId&&P.toId===S.fromId;if(k||C)return S}return null},O=0;O<f.length;O++){var b=f[O],y=b.edge,w=g(b);w===null?(w=this._createClusteredEdge(b.fromId,b.toId,y,s),m.push(w)):w.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=w.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.clusteredNodes[o]!==void 0&&a.push(o);for(var l=0;l<a.length;++l)delete e[a[l]];if(Ue(e).length!=0&&!(Ue(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=Le({},n.clusterNodeProperties);if(n.processProperties!==void 0){var h=[];for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var d=Wt.cloneOptions(e[c]);h.push(d)}var f=[];for(var p in r)if(Object.prototype.hasOwnProperty.call(r,p)&&p.substr(0,12)!=="clusterEdge:"){var v=Wt.cloneOptions(r[p],"edge");f.push(v)}if(u=n.processProperties(u,h,f),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+tl());var m=u.id;u.label===void 0&&(u.label="cluster");var g=void 0;u.x===void 0&&(g=this._getClusterPosition(e),u.x=g.x),u.y===void 0&&(g===void 0&&(g=this._getClusterPosition(e)),u.y=g.y),u.id=m;var O=this.body.functions.createNode(u,Eke);O.containedNodes=e,O.containedEdges=r,O.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[u.id]=O,this._clusterEdges(e,r,u,n.clusterEdgeProperties),u.id=void 0,s===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var r=Ue(e),n=e[r[0]].x,s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].y,l,u=1;u<r.length;u++)l=e[r[u]],n=l.x<n?l.x:n,s=l.x>s?l.x:s,a=l.y<a?l.y:a,o=l.y>o?l.y:o;return{x:.5*(n+s),y:.5*(a+o)}}},{key:"openCluster",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var s=this.body.nodes[e];if(s===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(s.isCluster!==!0||s.containedNodes===void 0||s.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var a=this.findNode(e),o=me(a).call(a,e)-1;if(o>=0){var l=a[o],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}var h=s.containedNodes,c=s.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){var d={},f={x:s.x,y:s.y};for(var p in h)if(Object.prototype.hasOwnProperty.call(h,p)){var v=this.body.nodes[p];d[p]={x:v.x,y:v.y}}var m=r.releaseFunction(f,d);for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)){var O=this.body.nodes[g];m[g]!==void 0&&(O.x=m[g].x===void 0?s.x:m[g].x,O.y=m[g].y===void 0?s.y:m[g].y)}}else ce(h,function(pe){pe.options.fixed.x===!1&&(pe.x=s.x),pe.options.fixed.y===!1&&(pe.y=s.y)});for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)){var y=this.body.nodes[b];y.vx=s.vx,y.vy=s.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[b]}for(var w=[],x=0;x<s.edges.length;x++)w.push(s.edges[x]);for(var P=0;P<w.length;P++){for(var T=w[P],S=this._getConnectedId(T,e),k=this.clusteredNodes[S],C=0;C<T.clusteringEdgeReplacingIds.length;C++){var j=T.clusteringEdgeReplacingIds[C],z=this.body.edges[j];if(z!==void 0)if(k!==void 0){var ee=this.body.nodes[k.clusterId];ee.containedEdges[z.id]=z,delete c[z.id];var oe=z.fromId,se=z.toId;z.toId==S?se=k.clusterId:oe=k.clusterId,this._createClusteredEdge(oe,se,z,ee.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(z)}T.remove()}for(var fe in c)Object.prototype.hasOwnProperty.call(c,fe)&&this._restoreEdge(c[fe]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var r=[];if(this.isCluster(e)===!0){var n=this.body.nodes[e].containedNodes;for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.push(this.body.nodes[s].id)}return r}},{key:"findNode",value:function(e){for(var r=[],n=100,s=0,a;this.clusteredNodes[e]!==void 0&&s<n;){if(a=this.body.nodes[e],a===void 0)return[];r.push(a.id),e=this.clusteredNodes[e].clusterId,s++}return a=this.body.nodes[e],a===void 0?[]:(r.push(a.id),ls(r).call(r),r)}},{key:"updateClusteredNode",value:function(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),s=0;s<n.length;s++){var a=this.body.edges[n[s]];a.setOptions(r)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var r=[],n=100,s=0;e!==void 0&&this.body.edges[e]!==void 0&&s<n;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,s++;return ls(r).call(r),r}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var r=[e],n=[],s=[],a=100,o=0;r.length>0&&o<a;){var l=r.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){o++;var h=u.clusteringEdgeReplacingIds;if(h===void 0)s.push(l);else for(var c=0;c<h.length;++c){var d=h[c];me(r).call(r,h)!==-1||me(n).call(n,h)!==-1||r.push(d)}n.push(l)}}}return s}},{key:"_getConnectedId",value:function(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,r=0,n=0,s=0,a=0;a<this.body.nodeIndices.length;a++){var o=this.body.nodes[this.body.nodeIndices[a]];o.edges.length>s&&(s=o.edges.length),e+=o.edges.length,r+=Math.pow(o.edges.length,2),n+=1}e=e/n,r=r/n;var l=r-Math.pow(e,2),u=Math.sqrt(l),h=Math.floor(e+2*u);return h>s&&(h=s),h}},{key:"_createClusteredEdge",value:function(e,r,n,s,a){var o=Wt.cloneOptions(n,"edge");Le(o,s),o.from=e,o.to=r,o.id="clusterEdge:"+tl(),a!==void 0&&Le(o,a);var l=this.body.functions.createEdge(o);return l.clusteringEdgeReplacingIds=[n.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,r,n,s){if(r instanceof va){var a=r,o={};o[a.id]=a,r=o}if(e instanceof mr){var l=e,u={};u[l.id]=l,e=u}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");s===void 0&&(s=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,s);for(var h in r)if(Object.prototype.hasOwnProperty.call(r,h)&&this.body.edges[h]!==void 0){var c=this.body.edges[h];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(this.clusteredNodes[d]={clusterId:n.id,node:this.body.nodes[d]},this.body.nodes[d].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var r=this.clusteredNodes[e];if(r!==void 0){var n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,r){var n=[];return ce(e,function(s){r(s)&&n.push(s)}),n}},{key:"_updateState",value:function(){var e=this,r,n=[],s={},a=function(p){ce(e.body.nodes,function(v){v.isCluster===!0&&p(v)})};for(r in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,r)){var o=this.body.nodes[r];o===void 0&&n.push(r)}a(function(f){for(var p=0;p<n.length;p++)delete f.containedNodes[n[p]]});for(var l=0;l<n.length;l++)delete this.clusteredNodes[n[l]];ce(this.clusteredEdges,function(f){var p=e.body.edges[f];(p===void 0||!p.endPointsValid())&&(s[f]=f)}),a(function(f){ce(f.containedEdges,function(p,v){!p.endPointsValid()&&!s[v]&&(s[v]=v)})}),ce(this.body.edges,function(f,p){var v=!0,m=f.clusteringEdgeReplacingIds;if(m!==void 0){var g=0;ce(m,function(O){var b=e.body.edges[O];b!==void 0&&b.endPointsValid()&&(g+=1)}),v=g>0}(!f.endPointsValid()||!v)&&(s[p]=p)}),a(function(f){ce(s,function(p){delete f.containedEdges[p],ce(f.edges,function(v,m){if(v.id===p){f.edges[m]=null;return}v.clusteringEdgeReplacingIds=e._filter(v.clusteringEdgeReplacingIds,function(g){return!s[g]})}),f.edges=e._filter(f.edges,function(v){return v!==null})})}),ce(s,function(f){delete e.clusteredEdges[f]}),ce(s,function(f){delete e.body.edges[f]});var u=Ue(this.body.edges);ce(u,function(f){var p=e.body.edges[f],v=e._isClusteredNode(p.fromId)||e._isClusteredNode(p.toId);if(v!==e._isClusteredEdge(p.id))if(v){var m=e._getClusterNodeForNode(p.fromId);m!==void 0&&e._clusterEdges(e.body.nodes[p.fromId],p,m);var g=e._getClusterNodeForNode(p.toId);g!==void 0&&e._clusterEdges(e.body.nodes[p.toId],p,g)}else delete e._clusterEdges[f],e._restoreEdge(p)});for(var h=!1,c=!0,d=function(){var p=[];a(function(m){var g=Ue(m.containedNodes).length,O=m.options.allowSingleNodeCluster===!0;(O&&g<1||!O&&g<2)&&p.push(m.id)});for(var v=0;v<p.length;++v)e.openCluster(p[v],{},!1);c=p.length>0,h=h||c};c;)d();h&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),i}();function Ike(){var i;window!==void 0&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),i===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=i}var Qke=function(){function i(t,e){Z(this,i),Ike(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},dt(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this,r;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=yi(function(){var n;e.zooming=!1,M(n=e._requestRedraw).call(n,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",M(r=this._requestRedraw).call(r,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var r=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];mo(r,this.options,e)}}},{key:"_requestNextFrame",value:function(e,r){if(!(typeof window>"u")){var n,s=window;return this.requiresTimeout===!0?n=yi(e,r):s.requestAnimationFrame&&(n=s.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(M(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),s=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,s,a),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var o=this._drawNodes(n,e),l=o.drawExternalLabels;r.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,s,a)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var r=this.body.nodes,n;for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n=r[s],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.body.nodes,s=this.body.nodeIndices,a,o=[],l=[],u=20,h=this.canvas.DOMtoCanvas({x:-u,y:-u}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),d={top:h.y,left:h.x,bottom:c.y,right:c.x},f=[],p=0;p<s.length;p++)if(a=n[s[p]],a.hover)l.push(s[p]);else if(a.isSelected())o.push(s[p]);else if(r===!0){var v=a.draw(e);v.drawExternalLabel!=null&&f.push(v.drawExternalLabel)}else if(a.isBoundingBoxOverlappingWith(d)===!0){var m=a.draw(e);m.drawExternalLabel!=null&&f.push(m.drawExternalLabel)}else a.updateBoundingBox(e,a.selected);var g,O=o.length,b=l.length;for(g=0;g<O;g++){a=n[o[g]];var y=a.draw(e);y.drawExternalLabel!=null&&f.push(y.drawExternalLabel)}for(g=0;g<b;g++){a=n[l[g]];var w=a.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}return{drawExternalLabels:function(){for(var P=0,T=f;P<T.length;P++){var S=T[P];S()}}}}},{key:"_drawEdges",value:function(e){for(var r=this.body.edges,n=this.body.edgeIndices,s=0;s<n.length;s++){var a=r[n[s]];a.connected===!0&&a.draw(e)}}},{key:"_drawArrows",value:function(e){for(var r=this.body.edges,n=this.body.edgeIndices,s=0;s<n.length;s++){var a=r[n[s]];a.connected===!0&&a.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,me(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:me(e).call(e,"safari")!=-1&&me(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),i}(),wb={},Ake={get exports(){return wb},set exports(i){wb=i}},Rke=ge,Mke=Rke.setInterval;(function(i){i.exports=Mke})(Ake);var Dke=H(wb);function pd(i,t){t.inputHandler=function(e){e.isFirst&&t(e)},i.on("hammer.input",t.inputHandler)}function AM(i,t){return t.inputHandler=function(e){e.isFinal&&t(e)},i.on("hammer.input",t.inputHandler)}var Nke=function(){function i(t){Z(this,i),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},dt(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this,r;this.body.emitter.once("resize",function(n){n.width!==0&&(e.body.view.translation.x=n.width*.5),n.height!==0&&(e.body.view.translation.y=n.height*.5)}),this.body.emitter.on("setSize",M(r=this.setSize).call(r,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var r=this;if(e!==void 0){var n=["width","height","autoResize"];mo(n,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var s;if(window.ResizeObserver){var a=new ResizeObserver(function(){var h=r.setSize();h===!0&&r.body.emitter.emit("_requestRedraw")}),o=this.frame;a.observe(o),this._cleanupCallbacks.push(function(){a.unobserve(o)})}else{var l=Dke(function(){var h=r.setSize();h===!0&&r.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=M(s=this._onResize).call(s,this);Wbe(window,"resize",u),this._cleanupCallbacks.push(function(){Vbe(window,"resize",u)})}}},{key:"_cleanUp",value:function(){var e,r,n;Re(e=ls(r=Mi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,function(s){try{s()}catch(a){console.error(a)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;var s=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),a={x:s.x-this.cameraState.position.x,y:s.y-this.cameraState.position.y};this.body.view.translation.x+=a.x*this.body.view.scale,this.body.view.translation.y+=a.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(me(e).call(e,"%")!==-1||me(e).call(e,"px")!==-1)return e;if(me(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new pa(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:pa.DIRECTION_ALL}),pd(this.hammer,function(r){e.body.eventListeners.onTouch(r)}),this.hammer.on("tap",function(r){e.body.eventListeners.onTap(r)}),this.hammer.on("doubletap",function(r){e.body.eventListeners.onDoubleTap(r)}),this.hammer.on("press",function(r){e.body.eventListeners.onHold(r)}),this.hammer.on("panstart",function(r){e.body.eventListeners.onDragStart(r)}),this.hammer.on("panmove",function(r){e.body.eventListeners.onDrag(r)}),this.hammer.on("panend",function(r){e.body.eventListeners.onDragEnd(r)}),this.hammer.on("pinch",function(r){e.body.eventListeners.onPinch(r)}),this.frame.canvas.addEventListener("wheel",function(r){e.body.eventListeners.onMouseWheel(r)}),this.frame.canvas.addEventListener("mousemove",function(r){e.body.eventListeners.onMouseMove(r)}),this.frame.canvas.addEventListener("contextmenu",function(r){e.body.eventListeners.onContext(r)}),this.hammerFrame=new pa(this.frame),AM(this.hammerFrame,function(r){e.body.eventListeners.onRelease(r)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);var n=!1,s=this.frame.canvas.width,a=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(s/this.pixelRatio),oldHeight:Math.round(a/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);var n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),i}();function Bke(i,t){var e=dt({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!Ie(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var Zke=function(){function i(t,e){var r,n=this,s;Z(this,i),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",M(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",function(){n.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",M(s=this.releaseNode).call(s,this))}return L(i,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Bke(e,this.body.nodeIndices);var n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight,a,o;if(n===0||s===0)o=1,a=Wt.getRange(this.body.nodes,e.nodes);else if(r===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var h=this.body.nodes[u];h.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}a=Wt.getRange(this.body.nodes,e.nodes);var c=this.body.nodeIndices.length;o=12.662/(c+7.4147)+.0964822;var d=Math.min(n/600,s/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),a=Wt.getRange(this.body.nodes,e.nodes);var f=Math.abs(a.maxX-a.minX)*1.1,p=Math.abs(a.maxY-a.minY)*1.1,v=n/f,m=s/p;o=v<=m?v:m}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var g=Wt.findCenter(a),O={position:g,scale:o,animation:e.animation};this.moveTo(O)}},{key:"focus",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!es(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!es(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!es(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!es(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var s;this.viewFunction=M(s=this._lockedRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var a;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=M(a=this._transitionRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},s=this.body.view.translation,a={x:s.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var r=Gbe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=M(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),i}();function BT(i){var t=i&&i.preventDefault||!1,e=i&&i.container||window,r={},n={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(h){u(h,"keydown")},l=function(h){u(h,"keyup")},u=function(h,c){if(n[c][h.keyCode]!==void 0){for(var d=n[c][h.keyCode],f=0;f<d.length;f++)(d[f].shift===void 0||d[f].shift==!0&&h.shiftKey==!0||d[f].shift==!1&&h.shiftKey==!1)&&d[f].fn(h);t==!0&&h.preventDefault()}};return r.bind=function(h,c,d){if(d===void 0&&(d="keydown"),s[h]===void 0)throw new Error("unsupported key: "+h);n[d][s[h].code]===void 0&&(n[d][s[h].code]=[]),n[d][s[h].code].push({fn:c,shift:s[h].shift})},r.bindAll=function(h,c){c===void 0&&(c="keydown");for(var d in s)s.hasOwnProperty(d)&&r.bind(d,h,c)},r.getKey=function(h){for(var c in s)if(s.hasOwnProperty(c)){if(h.shiftKey==!0&&s[c].shift==!0&&h.keyCode==s[c].code)return c;if(h.shiftKey==!1&&s[c].shift==!1&&h.keyCode==s[c].code)return c;if(h.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(h,c,d){if(d===void 0&&(d="keydown"),s[h]===void 0)throw new Error("unsupported key: "+h);if(c!==void 0){var f=[],p=n[d][s[h].code];if(p!==void 0)for(var v=0;v<p.length;v++)p[v].fn==c&&p[v].shift==s[h].shift||f.push(n[d][s[h].code][v]);n[d][s[h].code]=f}else n[d][s[h].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",l,!0),r}var Lke=function(){function i(t,e){var r=this;Z(this,i),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){r.activated=!0,r.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){r.activated=!1,r.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){r.keycharm!==void 0&&r.keycharm.destroy()}),this.options={}}return L(i,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var r=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var s=0;s<r.length;s++){this.navigationDOM[r[s]]=document.createElement("div"),this.navigationDOM[r[s]].className="vis-button vis-"+r[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[r[s]]);var a=new pa(this.navigationDOM[r[s]]);if(n[s]==="_fit"){var o;pd(a,M(o=this._fit).call(o,this))}else{var l;pd(a,M(l=this.bindToRedraw).call(l,this,n[s]))}this.navigationHammers.push(a)}var u=new pa(this.canvas.frame);AM(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=M(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,s=r/e,a=(1-s)*this.canvas.canvasViewCenter.x+n.x*s,o=(1-s)*this.canvas.canvasViewCenter.y+n.y*s;this.body.view.scale=r,this.body.view.translation={x:a,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,s=r/e,a=(1-s)*this.canvas.canvasViewCenter.x+n.x*s,o=(1-s)*this.canvas.canvasViewCenter.y+n.y*s;this.body.view.scale=r,this.body.view.translation={x:a,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=BT({container:window,preventDefault:!0}):this.keycharm=BT({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var r,n,s,a,o,l,u,h,c,d,f,p,v,m,g,O,b,y,w,x,P,T,S,k;M(r=this.keycharm).call(r,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),M(n=this.keycharm).call(n,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),M(s=this.keycharm).call(s,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),M(a=this.keycharm).call(a,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),M(o=this.keycharm).call(o,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),M(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),M(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),M(h=this.keycharm).call(h,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),M(c=this.keycharm).call(c,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),M(d=this.keycharm).call(d,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),M(f=this.keycharm).call(f,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),M(p=this.keycharm).call(p,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),M(v=this.keycharm).call(v,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),M(m=this.keycharm).call(m,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),M(g=this.keycharm).call(g,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),M(O=this.keycharm).call(O,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),M(b=this.keycharm).call(b,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),M(y=this.keycharm).call(y,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),M(w=this.keycharm).call(w,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),M(x=this.keycharm).call(x,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),M(P=this.keycharm).call(P,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),M(T=this.keycharm).call(T,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),M(S=this.keycharm).call(S,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),M(k=this.keycharm).call(k,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),i}();function zke(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=Fke(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function Fke(i,t){var e;if(i){if(typeof i=="string")return ZT(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(i,t)}}function ZT(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var jke=function(){function i(t,e,r){var n,s,a,o,l,u,h,c,d,f,p,v,m;Z(this,i),this.body=t,this.canvas=e,this.selectionHandler=r,this.navigationHandler=new Lke(t,e),this.body.eventListeners.onTap=M(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=M(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=M(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=M(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=M(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=M(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=M(h=this.onDragEnd).call(h,this),this.body.eventListeners.onMouseWheel=M(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=M(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=M(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=M(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=M(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=M(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},dt(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var r=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];hd(r,this.options,e),Er(this.options,e,"keyboard"),e.tooltip&&(dt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Vy(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-Xbe(this.canvas.frame.canvas),y:e.y-Ybe(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}},{key:"onDoubleTap",value:function(e){var r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}},{key:"onHold",value:function(e){var r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}},{key:"checkSelectionChanges",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,r){var n=function(a,o){for(var l=[],u=0;u<a.length;u++){var h=a[u];me(o).call(o,h)===-1&&l.push(h)}return l};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=dt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var s=zke(this.selectionHandler.getSelectedNodes()),a;try{for(s.s();!(a=s.n()).done;){var o=a.value,l={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){s.e(u)}finally{s.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var r=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),s=this.drag.selection;if(s&&s.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,n);var a=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;Re(s).call(s,function(h){var c=h.node;h.xFixed===!1&&(c.x=r.canvas._XconvertDOMtoCanvas(r.canvas._XconvertCanvasToDOM(h.x)+a)),h.yFixed===!1&&(c.y=r.canvas._YconvertDOMtoCanvas(r.canvas._YconvertCanvasToDOM(h.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=n.x-this.drag.pointer.x,u=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var r=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var s=this.body.selectionBox.position,a={minX:Math.min(s.start.x,s.end.x),minY:Math.min(s.start.y,s.end.y),maxX:Math.max(s.start.x,s.end.x),maxY:Math.max(s.start.y,s.end.y)},o=ur(n=this.body.nodeIndices).call(n,function(h){var c=r.body.nodes[h];return c.x>=a.minX&&c.x<=a.maxX&&c.y>=a.minY&&c.y<=a.maxY});Re(o).call(o,function(h){return r.selectionHandler.selectObject(r.body.nodes[h])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(Re(u).call(u,function(h){h.node.options.fixed.x=h.xFixed,h.node.options.fixed.y=h.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,r)}},{key:"zoom",value:function(e,r){if(this.options.zoomView===!0){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var s=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(s=this.canvas.DOMtoCanvas(this.drag.pointer));var a=this.body.view.translation,o=e/n,l=(1-o)*r.x+a.x*o,u=(1-o)*r.y+a.y*o;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},s!=null){var h=this.canvas.canvasToDOM(s);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var r=this,n=this.getPointer({x:e.clientX,y:e.clientY}),s=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(n),this.popup.hidden===!1&&(s=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),s===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=yi(function(){return r._checkShowPopup(n)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),s={left:r,top:n,right:r,bottom:n},a=this.popupObj===void 0?void 0:this.popupObj.id,o=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,h=this.body.nodes,c,d=[],f=0;f<u.length;f++)c=h[u[f]],c.isOverlappingWith(s)===!0&&(o=!0,c.getTitle()!==void 0&&d.push(u[f]));d.length>0&&(this.popupObj=h[d[d.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){for(var p=this.body.edgeIndices,v=this.body.edges,m,g=[],O=0;O<p.length;O++)m=v[p[O]],m.isOverlappingWith(s)===!0&&m.connected===!0&&m.getTitle()!==void 0&&g.push(p[O]);g.length>0&&(this.popupObj=v[g[g.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==a&&(this.popup===void 0&&(this.popup=new n$e(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var r=this.selectionHandler._pointerToPositionObject(e),n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){var s=this.selectionHandler.getNodeAt(e);n=s===void 0?!1:s.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),i}(),Sb={},Xke={get exports(){return Sb},set exports(i){Sb=i}},Yke=W1,Wke=OM;Yke("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},Wke);var Vke=ge,Uke=Vke.Set,qke=Uke,Gke=qke;(function(i){i.exports=Gke})(Xke);var Gn=H(Sb),xb={},Hke={get exports(){return xb},set exports(i){xb=i}},Kke=be,LT=V1,Rh=Da.getWeakData,Jke=Y1,ePe=Tr,tPe=bu,rg=Et,rPe=X1,RM=Dn,zT=Ct,MM=As,iPe=MM.set,nPe=MM.getterFor,sPe=RM.find,aPe=RM.findIndex,oPe=Kke([].splice),lPe=0,Mh=function(i){return i.frozen||(i.frozen=new DM)},DM=function(){this.entries=[]},ig=function(i,t){return sPe(i.entries,function(e){return e[0]===t})};DM.prototype={get:function(i){var t=ig(this,i);if(t)return t[1]},has:function(i){return!!ig(this,i)},set:function(i,t){var e=ig(this,i);e?e[1]=t:this.entries.push([i,t])},delete:function(i){var t=aPe(this.entries,function(e){return e[0]===i});return~t&&oPe(this.entries,t,1),!!~t}};var uPe={getConstructor:function(i,t,e,r){var n=i(function(l,u){Jke(l,s),iPe(l,{type:t,id:lPe++,frozen:void 0}),tPe(u)||rPe(u,l[r],{that:l,AS_ENTRIES:e})}),s=n.prototype,a=nPe(t),o=function(l,u,h){var c=a(l),d=Rh(ePe(u),!0);return d===!0?Mh(c).set(u,h):d[c.id]=h,l};return LT(s,{delete:function(l){var u=a(this);if(!rg(l))return!1;var h=Rh(l);return h===!0?Mh(u).delete(l):h&&zT(h,u.id)&&delete h[u.id]},has:function(u){var h=a(this);if(!rg(u))return!1;var c=Rh(u);return c===!0?Mh(h).has(u):c&&zT(c,h.id)}}),LT(s,e?{get:function(u){var h=a(this);if(rg(u)){var c=Rh(u);return c===!0?Mh(h).get(u):c?c[h.id]:void 0}},set:function(u,h){return o(this,u,h)}}:{add:function(u){return o(this,u,!0)}}),n}},hPe=pM,FT=gt,$c=be,jT=V1,cPe=Da,dPe=W1,NM=uPe,Dh=Et,Nh=As.enforce,fPe=ye,pPe=iA,Xu=Object,vPe=Array.isArray,Bh=Xu.isExtensible,BM=Xu.isFrozen,gPe=Xu.isSealed,ZM=Xu.freeze,mPe=Xu.seal,XT={},YT={},OPe=!FT.ActiveXObject&&"ActiveXObject"in FT,To,LM=function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},zM=dPe("WeakMap",LM,NM),Ks=zM.prototype,wc=$c(Ks.set),yPe=function(){return hPe&&fPe(function(){var i=ZM([]);return wc(new zM,i,1),!BM(i)})};if(pPe)if(OPe){To=NM.getConstructor(LM,"WeakMap",!0),cPe.enable();var WT=$c(Ks.delete),Zh=$c(Ks.has),VT=$c(Ks.get);jT(Ks,{delete:function(i){if(Dh(i)&&!Bh(i)){var t=Nh(this);return t.frozen||(t.frozen=new To),WT(this,i)||t.frozen.delete(i)}return WT(this,i)},has:function(t){if(Dh(t)&&!Bh(t)){var e=Nh(this);return e.frozen||(e.frozen=new To),Zh(this,t)||e.frozen.has(t)}return Zh(this,t)},get:function(t){if(Dh(t)&&!Bh(t)){var e=Nh(this);return e.frozen||(e.frozen=new To),Zh(this,t)?VT(this,t):e.frozen.get(t)}return VT(this,t)},set:function(t,e){if(Dh(t)&&!Bh(t)){var r=Nh(this);r.frozen||(r.frozen=new To),Zh(this,t)?wc(this,t,e):r.frozen.set(t,e)}else wc(this,t,e);return this}})}else yPe()&&jT(Ks,{set:function(t,e){var r;return vPe(t)&&(BM(t)?r=XT:gPe(t)&&(r=YT)),wc(this,t,e),r==XT&&ZM(t),r==YT&&mPe(t),this}});var bPe=ge,$Pe=bPe.WeakMap,wPe=$Pe,SPe=wPe;(function(i){i.exports=SPe})(Hke);var rl=H(xb);function Ze(i,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!r:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(i):r?r.value:t.get(i)}function kb(i,t,e,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?i!==t||!n:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(i,e):n?n.value=e:t.set(i,e),e}function Pb(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=xPe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function xPe(i,t){var e;if(i){if(typeof i=="string")return UT(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UT(i,t)}}function UT(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var Vn,_r,nn,sn,Sc;function qT(i,t){var e=new Gn,r=Pb(t),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;i.has(s)||e.add(s)}}catch(a){r.e(a)}finally{r.f()}return e}var GT=function(){function i(){Z(this,i),Vn.set(this,new Gn),_r.set(this,new Gn)}return L(i,[{key:"size",get:function(){return Ze(this,_r,"f").size}},{key:"add",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var s=0,a=r;s<a.length;s++){var o=a[s];Ze(this,_r,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var s=0,a=r;s<a.length;s++){var o=a[s];Ze(this,_r,"f").delete(o)}}},{key:"clear",value:function(){Ze(this,_r,"f").clear()}},{key:"getSelection",value:function(){return hi(Ze(this,_r,"f"))}},{key:"getChanges",value:function(){return{added:hi(qT(Ze(this,Vn,"f"),Ze(this,_r,"f"))),deleted:hi(qT(Ze(this,_r,"f"),Ze(this,Vn,"f"))),previous:hi(new Gn(Ze(this,Vn,"f"))),current:hi(new Gn(Ze(this,_r,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();kb(this,Vn,Ze(this,_r,"f"),"f"),kb(this,_r,new Gn(Ze(this,Vn,"f")),"f");var r=Pb(e.added),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;s.select()}}catch(u){r.e(u)}finally{r.f()}var a=Pb(e.deleted),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;l.unselect()}}catch(u){a.e(u)}finally{a.f()}return e}}]),i}();Vn=new rl,_r=new rl;var kPe=function(){function i(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};Z(this,i),nn.set(this,new GT),sn.set(this,new GT),Sc.set(this,void 0),kb(this,Sc,t,"f")}return L(i,[{key:"sizeNodes",get:function(){return Ze(this,nn,"f").size}},{key:"sizeEdges",get:function(){return Ze(this,sn,"f").size}},{key:"getNodes",value:function(){return Ze(this,nn,"f").getSelection()}},{key:"getEdges",value:function(){return Ze(this,sn,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=Ze(this,nn,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=Ze(this,sn,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){Ze(this,nn,"f").delete(e)}},{key:"deleteEdges",value:function(e){Ze(this,sn,"f").delete(e)}},{key:"clear",value:function(){Ze(this,nn,"f").clear(),Ze(this,sn,"f").clear()}},{key:"commit",value:function(){for(var e,r,n={nodes:Ze(this,nn,"f").commit(),edges:Ze(this,sn,"f").commit()},s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=Ze(this,Sc,"f")).call.apply(e,E1(r=[this,n]).call(r,a)),n}}]),i}();nn=new rl,sn=new rl,Sc=new rl;function HT(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=PPe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function PPe(i,t){var e;if(i){if(typeof i=="string")return KT(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(i,t)}}function KT(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var TPe=function(){function i(t,e){var r=this;Z(this,i),this.body=t,this.canvas=e,this._selectionAccumulator=new kPe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},dt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){r.updateSelection()})}return L(i,[{key:"setOptions",value:function(e){if(e!==void 0){var r=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];mo(r,this.options,e)}}},{key:"selectOnPoint",value:function(e){var r=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}},{key:"selectAdditionalOnPoint",value:function(e){var r=!1;if(this.options.selectable===!0){var n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}},{key:"_initBaseEvent",value:function(e,r){var n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}},{key:"generateClickEvent",value:function(e,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this._initBaseEvent(r,n);if(a===!0)o.nodes=[],o.edges=[];else{var l=this.getSelection();o.nodes=l.nodes,o.edges=l.edges}s!==void 0&&(o.previousSelection=s),e=="click"&&(o.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(o.controlEdge=r.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof mr){if(r===!0){var n;(n=this._selectionAccumulator).addEdges.apply(n,hi(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var r=[],n=this.body.nodes,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];n[a].isOverlappingWith(e)&&r.push(a)}return r}},{key:"_pointerToPositionObject",value:function(e){var r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}},{key:"getNodeAt",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._pointerToPositionObject(e),s=this._getAllNodesOverlappingWith(n);if(s.length>0)return r===!0?this.body.nodes[s[s.length-1]]:s[s.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,r){for(var n=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s];n[a].isOverlappingWith(e)&&r.push(a)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var r=[];return this._getEdgesOverlappingWith(e,r),r}},{key:"getEdgeAt",value:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this.canvas.DOMtoCanvas(e),s=10,a=null,o=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],h=o[u];if(h.connected){var c=h.from.x,d=h.from.y,f=h.to.x,p=h.to.y,v=h.edgeType.getDistanceToEdge(c,d,f,p,n.x,n.y);v<s&&(a=u,s=v)}}if(a!==null)return r===!0?this.body.edges[a]:a}},{key:"_addToHover",value:function(e){e instanceof mr?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof mr){var r;this._selectionAccumulator.deleteNodes(e),(r=this._selectionAccumulator).deleteEdges.apply(r,hi(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var r=0;r<e.edges.length;r++){var n=e.edges[r];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,r,n){var s=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof mr?(s.node=n.id,this.body.emitter.emit("blurNode",s)):(s.edge=n.id,this.body.emitter.emit("blurEdge",s)))}},{key:"emitHoverEvent",value:function(e,r,n){var s=this._initBaseEvent(e,r),a=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),a=!0,n instanceof mr?(s.node=n.id,this.body.emitter.emit("hoverNode",s)):(s.edge=n.id,this.body.emitter.emit("hoverEdge",s))),a}},{key:"hoverObject",value:function(e,r){var n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));var s=!1;for(var a in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,a)&&(n===void 0||n instanceof mr&&n.id!=a||n instanceof va)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[a]),delete this.hoverObj.nodes[a],s=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(s===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(n===void 0||n instanceof va&&n.id!=o||n instanceof mr&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],s=!0));if(n!==void 0){var l=Ue(this.hoverObj.edges).length,u=Ue(this.hoverObj.nodes).length,h=n instanceof va&&l===0&&u===0,c=n instanceof mr&&l===0&&u===0;(s||h||c)&&(s=this.emitHoverEvent(e,r,n)),n instanceof mr&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}s===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,r){var n=!1,s=this._selectionAccumulator.commit(),a={nodes:s.nodes.previous,edges:s.edges.previous};s.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,a),n=!0),s.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,a),n=!0),s.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),s.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return Ia(e=this._selectionAccumulator.getNodes()).call(e,function(r){return r.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return Ia(e=this._selectionAccumulator.getEdges()).call(e,function(r){return r.id})}},{key:"setSelection",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes){var n=HT(e.nodes),s;try{for(n.s();!(s=n.n()).done;){var a=s.value,o=this.body.nodes[a];if(!o)throw new RangeError('Node with id "'+a+'" not found');this.selectObject(o,r.highlightEdges)}}catch(d){n.e(d)}finally{n.f()}}if(e.edges){var l=HT(e.edges),u;try{for(l.s();!(u=l.n()).done;){var h=u.value,c=this.body.edges[h];if(!c)throw new RangeError('Edge with id "'+h+'" not found');this.selectObject(c)}}catch(d){l.e(d)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var r in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,r.id)||this._selectionAccumulator.deleteEdges(r)}},{key:"getClickedItems",value:function(e){for(var r=this.canvas.DOMtoCanvas(e),n=[],s=this.body.nodeIndices,a=this.body.nodes,o=s.length-1;o>=0;o--){var l=a[s[o]],u=l.getItemsOnPoint(r);n.push.apply(n,u)}for(var h=this.body.edgeIndices,c=this.body.edges,d=h.length-1;d>=0;d--){var f=c[h[d]],p=f.getItemsOnPoint(r);n.push.apply(n,p)}return n}}]),i}(),Tb={},_Pe={get exports(){return Tb},set exports(i){Tb=i}},JT=PA,EPe=Math.floor,_b=function(i,t){var e=i.length,r=EPe(e/2);return e<8?CPe(i,t):IPe(i,_b(JT(i,0,r),t),_b(JT(i,r),t),t)},CPe=function(i,t){for(var e=i.length,r=1,n,s;r<e;){for(s=r,n=i[r];s&&t(i[s-1],n)>0;)i[s]=i[--s];s!==r++&&(i[s]=n)}return i},IPe=function(i,t,e,r){for(var n=t.length,s=e.length,a=0,o=0;a<n||o<s;)i[a+o]=a<n&&o<s?r(t[a],e[o])<=0?t[a++]:e[o++]:a<n?t[a++]:e[o++];return i},QPe=_b,APe=wu,e_=APe.match(/firefox\/(\d+)/i),RPe=!!e_&&+e_[1],MPe=wu,DPe=/MSIE|Trident/.test(MPe),NPe=wu,t_=NPe.match(/AppleWebKit\/(\d+)\./),BPe=!!t_&&+t_[1],ZPe=ie,FM=be,LPe=Is,zPe=Pr,r_=ti,FPe=yR,i_=xi,J1=ye,jPe=QPe,XPe=vo,n_=RPe,YPe=DPe,s_=Su,a_=BPe,pn=[],o_=FM(pn.sort),WPe=FM(pn.push),VPe=J1(function(){pn.sort(void 0)}),UPe=J1(function(){pn.sort(null)}),qPe=XPe("sort"),jM=!J1(function(){if(s_)return s_<70;if(!(n_&&n_>3)){if(YPe)return!0;if(a_)return a_<603;var i="",t,e,r,n;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)pn.push({k:e+n,v:r})}for(pn.sort(function(s,a){return a.v-s.v}),n=0;n<pn.length;n++)e=pn[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return i!=="DGBEFHACIJK"}}),GPe=VPe||!UPe||!qPe||!jM,HPe=function(i){return function(t,e){return e===void 0?-1:t===void 0?1:i!==void 0?+i(t,e)||0:i_(t)>i_(e)?1:-1}};ZPe({target:"Array",proto:!0,forced:GPe},{sort:function(t){t!==void 0&&LPe(t);var e=zPe(this);if(jM)return t===void 0?o_(e):o_(e,t);var r=[],n=r_(e),s,a;for(a=0;a<n;a++)a in e&&WPe(r,e[a]);for(jPe(r,HPe(t)),s=r_(r),a=0;a<s;)e[a]=r[a++];for(;a<n;)FPe(e,a++);return e}});var KPe=It,JPe=KPe("Array").sort,eTe=at,tTe=JPe,ng=Array.prototype,rTe=function(i){var t=i.sort;return i===ng||eTe(ng,i)&&t===ng.sort?tTe:t},iTe=rTe,nTe=iTe;(function(i){i.exports=nTe})(_Pe);var sg=H(Tb),Eb={},sTe={get exports(){return Eb},set exports(i){Eb=i}},aTe=Is,oTe=Pr,lTe=df,uTe=ti,hTe=TypeError,l_=function(i){return function(t,e,r,n){aTe(e);var s=oTe(t),a=lTe(s),o=uTe(s),l=i?o-1:0,u=i?-1:1;if(r<2)for(;;){if(l in a){n=a[l],l+=u;break}if(l+=u,i?l<0:o<=l)throw hTe("Reduce of empty array with no initial value")}for(;i?l>=0:o>l;l+=u)l in a&&(n=e(n,a[l],l,s));return n}},cTe={left:l_(!1),right:l_(!0)},dTe=Hi,fTe=typeof process<"u"&&dTe(process)=="process",pTe=ie,vTe=cTe.left,gTe=vo,u_=Su,mTe=fTe,OTe=!mTe&&u_>79&&u_<83,yTe=OTe||!gTe("reduce");pTe({target:"Array",proto:!0,forced:yTe},{reduce:function(t){var e=arguments.length;return vTe(this,t,e,e>1?arguments[1]:void 0)}});var bTe=It,$Te=bTe("Array").reduce,wTe=at,STe=$Te,ag=Array.prototype,xTe=function(i){var t=i.reduce;return i===ag||wTe(ag,i)&&t===ag.reduce?STe:t},kTe=xTe,PTe=kTe;(function(i){i.exports=PTe})(sTe);var XM=H(Eb),_l={},TTe={get exports(){return _l},set exports(i){_l=i}},YM={};(function(i){(function(t,e){e(i)})(CO,function(t){t.__esModule=!0,t.sort=m;function e(g,O){if(!(g instanceof O))throw new TypeError("Cannot call a class as a function")}var r=32,n=7,s=256,a=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function o(g){return g<1e5?g<100?g<10?0:1:g<1e4?g<1e3?2:3:4:g<1e7?g<1e6?5:6:g<1e9?g<1e8?7:8:9}function l(g,O){if(g===O)return 0;if(~~g===g&&~~O===O){if(g===0||O===0)return g<O?-1:1;if(g<0||O<0){if(O>=0)return-1;if(g>=0)return 1;g=-g,O=-O}var b=o(g),y=o(O),w=0;return b<y?(g*=a[y-b-1],O/=10,w=-1):b>y&&(O*=a[b-y-1],g/=10,w=1),g===O?w:g<O?-1:1}var x=String(g),P=String(O);return x===P?0:x<P?-1:1}function u(g){for(var O=0;g>=r;)O|=g&1,g>>=1;return g+O}function h(g,O,b,y){var w=O+1;if(w===b)return 1;if(y(g[w++],g[O])<0){for(;w<b&&y(g[w],g[w-1])<0;)w++;c(g,O,w)}else for(;w<b&&y(g[w],g[w-1])>=0;)w++;return w-O}function c(g,O,b){for(b--;O<b;){var y=g[O];g[O++]=g[b],g[b--]=y}}function d(g,O,b,y,w){for(y===O&&y++;y<b;y++){for(var x=g[y],P=O,T=y;P<T;){var S=P+T>>>1;w(x,g[S])<0?T=S:P=S+1}var k=y-P;switch(k){case 3:g[P+3]=g[P+2];case 2:g[P+2]=g[P+1];case 1:g[P+1]=g[P];break;default:for(;k>0;)g[P+k]=g[P+k-1],k--}g[P]=x}}function f(g,O,b,y,w,x){var P=0,T=0,S=1;if(x(g,O[b+w])>0){for(T=y-w;S<T&&x(g,O[b+w+S])>0;)P=S,S=(S<<1)+1,S<=0&&(S=T);S>T&&(S=T),P+=w,S+=w}else{for(T=w+1;S<T&&x(g,O[b+w-S])<=0;)P=S,S=(S<<1)+1,S<=0&&(S=T);S>T&&(S=T);var k=P;P=w-S,S=w-k}for(P++;P<S;){var C=P+(S-P>>>1);x(g,O[b+C])>0?P=C+1:S=C}return S}function p(g,O,b,y,w,x){var P=0,T=0,S=1;if(x(g,O[b+w])<0){for(T=w+1;S<T&&x(g,O[b+w-S])<0;)P=S,S=(S<<1)+1,S<=0&&(S=T);S>T&&(S=T);var k=P;P=w-S,S=w-k}else{for(T=y-w;S<T&&x(g,O[b+w+S])>=0;)P=S,S=(S<<1)+1,S<=0&&(S=T);S>T&&(S=T),P+=w,S+=w}for(P++;P<S;){var C=P+(S-P>>>1);x(g,O[b+C])<0?S=C:P=C+1}return S}var v=function(){function g(O,b){e(this,g),this.array=null,this.compare=null,this.minGallop=n,this.length=0,this.tmpStorageLength=s,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=O,this.compare=b,this.length=O.length,this.length<2*s&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return g.prototype.pushRun=function(b,y){this.runStart[this.stackSize]=b,this.runLength[this.stackSize]=y,this.stackSize+=1},g.prototype.mergeRuns=function(){for(;this.stackSize>1;){var b=this.stackSize-2;if(b>=1&&this.runLength[b-1]<=this.runLength[b]+this.runLength[b+1]||b>=2&&this.runLength[b-2]<=this.runLength[b]+this.runLength[b-1])this.runLength[b-1]<this.runLength[b+1]&&b--;else if(this.runLength[b]>this.runLength[b+1])break;this.mergeAt(b)}},g.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var b=this.stackSize-2;b>0&&this.runLength[b-1]<this.runLength[b+1]&&b--,this.mergeAt(b)}},g.prototype.mergeAt=function(b){var y=this.compare,w=this.array,x=this.runStart[b],P=this.runLength[b],T=this.runStart[b+1],S=this.runLength[b+1];this.runLength[b]=P+S,b===this.stackSize-3&&(this.runStart[b+1]=this.runStart[b+2],this.runLength[b+1]=this.runLength[b+2]),this.stackSize--;var k=p(w[T],w,x,P,0,y);x+=k,P-=k,P!==0&&(S=f(w[x+P-1],w,T,S,S-1,y),S!==0&&(P<=S?this.mergeLow(x,P,T,S):this.mergeHigh(x,P,T,S)))},g.prototype.mergeLow=function(b,y,w,x){var P=this.compare,T=this.array,S=this.tmp,k=0;for(k=0;k<y;k++)S[k]=T[b+k];var C=0,j=w,z=b;if(T[z++]=T[j++],--x===0){for(k=0;k<y;k++)T[z+k]=S[C+k];return}if(y===1){for(k=0;k<x;k++)T[z+k]=T[j+k];T[z+x]=S[C];return}for(var ee=this.minGallop;;){var oe=0,se=0,fe=!1;do if(P(T[j],S[C])<0){if(T[z++]=T[j++],se++,oe=0,--x===0){fe=!0;break}}else if(T[z++]=S[C++],oe++,se=0,--y===1){fe=!0;break}while((oe|se)<ee);if(fe)break;do{if(oe=p(T[j],S,C,y,0,P),oe!==0){for(k=0;k<oe;k++)T[z+k]=S[C+k];if(z+=oe,C+=oe,y-=oe,y<=1){fe=!0;break}}if(T[z++]=T[j++],--x===0){fe=!0;break}if(se=f(S[C],T,j,x,0,P),se!==0){for(k=0;k<se;k++)T[z+k]=T[j+k];if(z+=se,j+=se,x-=se,x===0){fe=!0;break}}if(T[z++]=S[C++],--y===1){fe=!0;break}ee--}while(oe>=n||se>=n);if(fe)break;ee<0&&(ee=0),ee+=2}if(this.minGallop=ee,ee<1&&(this.minGallop=1),y===1){for(k=0;k<x;k++)T[z+k]=T[j+k];T[z+x]=S[C]}else{if(y===0)throw new Error("mergeLow preconditions were not respected");for(k=0;k<y;k++)T[z+k]=S[C+k]}},g.prototype.mergeHigh=function(b,y,w,x){var P=this.compare,T=this.array,S=this.tmp,k=0;for(k=0;k<x;k++)S[k]=T[w+k];var C=b+y-1,j=x-1,z=w+x-1,ee=0,oe=0;if(T[z--]=T[C--],--y===0){for(ee=z-(x-1),k=0;k<x;k++)T[ee+k]=S[k];return}if(x===1){for(z-=y,C-=y,oe=z+1,ee=C+1,k=y-1;k>=0;k--)T[oe+k]=T[ee+k];T[z]=S[j];return}for(var se=this.minGallop;;){var fe=0,pe=0,ve=!1;do if(P(S[j],T[C])<0){if(T[z--]=T[C--],fe++,pe=0,--y===0){ve=!0;break}}else if(T[z--]=S[j--],pe++,fe=0,--x===1){ve=!0;break}while((fe|pe)<se);if(ve)break;do{if(fe=y-p(S[j],T,b,y,y-1,P),fe!==0){for(z-=fe,C-=fe,y-=fe,oe=z+1,ee=C+1,k=fe-1;k>=0;k--)T[oe+k]=T[ee+k];if(y===0){ve=!0;break}}if(T[z--]=S[j--],--x===1){ve=!0;break}if(pe=x-f(T[C],S,0,x,x-1,P),pe!==0){for(z-=pe,j-=pe,x-=pe,oe=z+1,ee=j+1,k=0;k<pe;k++)T[oe+k]=S[ee+k];if(x<=1){ve=!0;break}}if(T[z--]=T[C--],--y===0){ve=!0;break}se--}while(fe>=n||pe>=n);if(ve)break;se<0&&(se=0),se+=2}if(this.minGallop=se,se<1&&(this.minGallop=1),x===1){for(z-=y,C-=y,oe=z+1,ee=C+1,k=y-1;k>=0;k--)T[oe+k]=T[ee+k];T[z]=S[j]}else{if(x===0)throw new Error("mergeHigh preconditions were not respected");for(ee=z-(x-1),k=0;k<x;k++)T[ee+k]=S[k]}},g}();function m(g,O,b,y){if(!Array.isArray(g))throw new TypeError("Can only sort arrays");O?typeof O!="function"&&(y=b,b=O,O=l):O=l,b||(b=0),y||(y=g.length);var w=y-b;if(!(w<2)){var x=0;if(w<r){x=h(g,b,y,O),d(g,b,y,b+x,O);return}var P=new v(g,O),T=u(w);do{if(x=h(g,b,y,O),x<T){var S=w;S>T&&(S=T),d(g,b,b+S,b+x,O),x=S}P.pushRun(b,x),P.mergeRuns(),w-=x,b+=x}while(w!==0);P.forceMergeRuns()}}})})(YM);(function(i){i.exports=YM})(TTe);var h_=H(_l);function WM(i){var t=_Te();return function(){var r=W(i),n;if(t){var s=W(this).constructor;n=E(r,arguments,s)}else n=r.apply(this,arguments);return Qe(this,n)}}function _Te(){if(typeof Reflect>"u"||!E||E.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(E(Boolean,[],function(){})),!0}catch{return!1}}var VM=function(){function i(){Z(this,i)}return L(i,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,r){this.fake_use(e,r),this.abstract()}},{key:"shift",value:function(e,r){this.fake_use(e,r),this.abstract()}}]),i}(),ETe=function(i){ke(e,i);var t=WM(e);function e(r){var n;return Z(this,e),n=t.call(this),n.layout=r,n}return L(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(n){return n.x}},{key:"setPosition",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;a!==void 0&&this.layout.hierarchical.addToOrdering(n,a),n.x=s}},{key:"getTreeSize",value:function(n){var s=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:s.min_x,max:s.max_x}}},{key:"sort",value:function(n){_l.sort(n,function(s,a){return s.x-a.x})}},{key:"fix",value:function(n,s){n.y=this.layout.options.hierarchical.levelSeparation*s,n.options.fixed.y=!0}},{key:"shift",value:function(n,s){this.layout.body.nodes[n].x+=s}}]),e}(VM),CTe=function(i){ke(e,i);var t=WM(e);function e(r){var n;return Z(this,e),n=t.call(this),n.layout=r,n}return L(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(n){return n.y}},{key:"setPosition",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;a!==void 0&&this.layout.hierarchical.addToOrdering(n,a),n.y=s}},{key:"getTreeSize",value:function(n){var s=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,n);return{min:s.min_y,max:s.max_y}}},{key:"sort",value:function(n){_l.sort(n,function(s,a){return s.y-a.y})}},{key:"fix",value:function(n,s){n.x=this.layout.options.hierarchical.levelSeparation*s,n.options.fixed.x=!0}},{key:"shift",value:function(n,s){this.layout.body.nodes[n].y+=s}}]),e}(VM),Cb={},ITe={get exports(){return Cb},set exports(i){Cb=i}},QTe=ie,ATe=Dn.every,RTe=vo,MTe=RTe("every");QTe({target:"Array",proto:!0,forced:!MTe},{every:function(t){return ATe(this,t,arguments.length>1?arguments[1]:void 0)}});var DTe=It,NTe=DTe("Array").every,BTe=at,ZTe=NTe,og=Array.prototype,LTe=function(i){var t=i.every;return i===og||BTe(og,i)&&t===og.every?ZTe:t},zTe=LTe,FTe=zTe;(function(i){i.exports=FTe})(ITe);var UM=H(Cb);function jTe(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=XTe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function XTe(i,t){var e;if(i){if(typeof i=="string")return c_(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(i,t)}}function c_(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}function YTe(i,t){var e=new Gn;return Re(i).call(i,function(r){var n;Re(n=r.edges).call(n,function(s){s.connected&&e.add(s)})}),Re(e).call(e,function(r){var n=r.from.id,s=r.to.id;t[n]==null&&(t[n]=0),(t[s]==null||t[n]>=t[s])&&(t[s]=t[n]+1)}),t}function WTe(i){return qM(function(t){var e,r;return UM(e=ur(r=t.edges).call(r,function(n){return i.has(n.toId)})).call(e,function(n){return n.to===t})},function(t,e){return e>t},"from",i)}function VTe(i){return qM(function(t){var e,r;return UM(e=ur(r=t.edges).call(r,function(n){return i.has(n.toId)})).call(e,function(n){return n.from===t})},function(t,e){return e<t},"to",i)}function qM(i,t,e,r){var n,s=us(null),a=XM(n=hi(SM(r).call(r))).call(n,function(f,p){return f+1+p.edges.length},0),o=e+"Id",l=e==="to"?1:-1,u=jTe(r),h;try{var c=function(){var p=qe(h.value,2),v=p[0],m=p[1];if(!r.has(v)||!i(m))return"continue";s[v]=0;for(var g=[m],O=0,b,y=function(){var P,T;if(!r.has(v))return"continue";var S=s[b.id]+l;if(Re(P=ur(T=b.edges).call(T,function(k){return k.connected&&k.to!==k.from&&k[e]!==b&&r.has(k.toId)&&r.has(k.fromId)})).call(P,function(k){var C=k[o],j=s[C];(j==null||t(S,j))&&(s[C]=S,g.push(k[e]))}),O>a)return{v:{v:YTe(r,s)}};++O};b=g.pop();){var w=y();if(w!=="continue"&&_e(w)==="object")return w.v}};for(u.s();!(h=u.n()).done;){var d=c();if(d!=="continue"&&_e(d)==="object")return d.v}}catch(f){u.e(f)}finally{u.f()}return s}var UTe=function(){function i(){Z(this,i),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return L(i,[{key:"addRelation",value:function(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var r=this,n={},s=function a(o){if(n[o]!==void 0)return n[o];var l=r.levels[o];if(r.childrenReference[o]){var u=r.childrenReference[o];if(u.length>0)for(var h=0;h<u.length;h++)l=Math.max(l,a(u[h]))}return n[o]=l,l};return s(e)}},{key:"levelDownstream",value:function(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var r=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.levels[n]!==void 0&&(r=Math.min(this.levels[n],r));for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&this.levels[s]!==void 0&&(this.levels[s]-=r)}},{key:"getTreeSize",value:function(e,r){var n=1e9,s=-1e9,a=1e9,o=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===r){var u=e[l];n=Math.min(u.x,n),s=Math.max(u.x,s),a=Math.min(u.y,a),o=Math.max(u.y,o)}return{min_x:n,max_x:s,min_y:a,max_y:o}}},{key:"hasSameParent",value:function(e,r){var n=this.parentReference[e.id],s=this.parentReference[r.id];if(n===void 0||s===void 0)return!1;for(var a=0;a<n.length;a++)for(var o=0;o<s.length;o++)if(n[a]==s[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,r){return this.trees[e.id]===this.trees[r.id]}},{key:"getLevels",value:function(){return Ue(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);var n=!1,s=this.distributionOrdering[r];for(var a in s)if(s[a]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}]),i}(),qTe=function(){function i(t){Z(this,i),this.body=t,this._resetRNG(Math.random()+":"+ad()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},dt(this.options,this.defaultOptions),this.bindEventListeners()}return L(i,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var r=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",r,!1)}})}},{key:"setOptions",value:function(e,r){if(e!==void 0){var n=this.options.hierarchical,s=n.enabled;if(mo(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Er(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return s===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(s===!0)return this.body.emitter.emit("refresh"),Le(r,this.optionsBackup)}return r}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Mf(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):_e(e.physics)==="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var s=e.edges.smooth;s.type!==void 0&&s.type!=="dynamic"&&(n=s.type),this.optionsBackup.edges={smooth:{enabled:s.enabled===void 0?!0:s.enabled,type:s.type===void 0?"dynamic":s.type,roundness:s.roundness===void 0?.5:s.roundness,forceDirection:s.forceDirection===void 0?!1:s.forceDirection}},e.edges.smooth={enabled:s.enabled===void 0?!0:s.enabled,type:n,roundness:s.roundness===void 0?.5:s.roundness,forceDirection:s.forceDirection===void 0?!1:s.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var r=e.length+50,n=0;n<e.length;n++){var s=e[n],a=2*Math.PI*this._rng();s.x===void 0&&(s.x=r*Math.cos(a)),s.y===void 0&&(s.y=r*Math.sin(a))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,r=0,n=0;n<e.length;n++){var s=this.body.nodes[e[n]];s.predefinedPosition===!0&&(r+=1)}if(r<.5*e.length){var a=10,o=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var h=e.length;e.length>l&&o<=a;){o+=1;var c=e.length;o%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var d=e.length;if(c==d&&o%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*h)})}o>a&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var f=70,p=0;p<e.length;p++){var v=this.body.nodes[e[p]];v.predefinedPosition===!1&&(v.x+=(.5-this._rng())*f,v.y+=(.5-this._rng())*f)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=Wt.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Wt.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.x-=r.x,s.y-=r.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,r,n=!1,s=!1;this.lastNodeOnLevel={},this.hierarchical=new UTe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):s=!0);if(s===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(s===!0){var a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,r=!1,n={},s=function(){for(var b=o(),y=0,w=0;w<b.length-1;w++){var x=b[w].max-b[w+1].min;y+=x+e.options.hierarchical.treeSpacing,a(w+1,y)}},a=function(b,y){var w=e.hierarchical.trees;for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&w[x]===b&&e.direction.shift(x,y)},o=function(){for(var b=[],y=0;y<e.hierarchical.numTrees();y++)b.push(e.direction.getTreeSize(y));return b},l=function O(b,y){if(!y[b.id]&&(y[b.id]=!0,e.hierarchical.childrenReference[b.id])){var w=e.hierarchical.childrenReference[b.id];if(w.length>0)for(var x=0;x<w.length;x++)O(e.body.nodes[w[x]],y)}},u=function(b){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,x=1e9,P=1e9,T=-1e9;for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)){var k=e.body.nodes[S],C=e.hierarchical.levels[k.id],j=e.direction.getPosition(k),z=e._getSpaceAroundNode(k,b),ee=qe(z,2),oe=ee[0],se=ee[1];w=Math.min(oe,w),x=Math.min(se,x),C<=y&&(P=Math.min(j,P),T=Math.max(j,T))}return[P,T,w,x]},h=function(b,y){var w=e.hierarchical.getMaxLevel(b.id),x=e.hierarchical.getMaxLevel(y.id);return Math.min(w,x)},c=function(b,y,w){for(var x=e.hierarchical,P=0;P<y.length;P++){var T=y[P],S=x.distributionOrdering[T];if(S.length>1)for(var k=0;k<S.length-1;k++){var C=S[k],j=S[k+1];x.hasSameParent(C,j)&&x.inSameSubNetwork(C,j)&&b(C,j,w)}}},d=function(b,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=e.direction.getPosition(b),P=e.direction.getPosition(y),T=Math.abs(P-x),S=e.options.hierarchical.nodeSpacing;if(T>S){var k={},C={};l(b,k),l(y,C);var j=h(b,y),z=u(k,j),ee=u(C,j),oe=z[1],se=ee[0],fe=ee[2],pe=Math.abs(oe-se);if(pe>S){var ve=oe-se+S;ve<-fe+S&&(ve=-fe+S),ve<0&&(e._shiftBlock(y.id,ve),r=!0,w===!0&&e._centerParent(y))}}},f=function(b,y){for(var w=y.id,x=y.edges,P=e.hierarchical.levels[y.id],T=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,S={},k=[],C=0;C<x.length;C++){var j=x[C];if(j.toId!=j.fromId){var z=j.toId==w?j.from:j.to;S[x[C].id]=z,e.hierarchical.levels[z.id]<P&&k.push(j)}}var ee=function(Xe,$e){for(var Be=0,A=0;A<$e.length;A++)if(S[$e[A].id]!==void 0){var I=e.direction.getPosition(S[$e[A].id])-Xe;Be+=I/Math.sqrt(I*I+T)}return Be},oe=function(Xe,$e){for(var Be=0,A=0;A<$e.length;A++)if(S[$e[A].id]!==void 0){var I=e.direction.getPosition(S[$e[A].id])-Xe;Be-=T*Math.pow(I*I+T,-1.5)}return Be},se=function(Xe,$e){for(var Be=e.direction.getPosition(y),A={},I=0;I<Xe;I++){var D=ee(Be,$e),X=oe(Be,$e),J=40,ne=Math.max(-J,Math.min(J,Math.round(D/X)));if(Be=Be-ne,A[Be]!==void 0)break;A[Be]=I}return Be},fe=function(Xe){var $e=e.direction.getPosition(y);if(n[y.id]===void 0){var Be={};l(y,Be),n[y.id]=Be}var A=u(n[y.id]),I=A[2],D=A[3],X=Xe-$e,J=0;X>0?J=Math.min(X,D-e.options.hierarchical.nodeSpacing):X<0&&(J=-Math.min(-X,I-e.options.hierarchical.nodeSpacing)),J!=0&&(e._shiftBlock(y.id,J),r=!0)},pe=function(Xe){var $e=e.direction.getPosition(y),Be=e._getSpaceAroundNode(y),A=qe(Be,2),I=A[0],D=A[1],X=Xe-$e,J=$e;X>0?J=Math.min($e+(D-e.options.hierarchical.nodeSpacing),Xe):X<0&&(J=Math.max($e-(I-e.options.hierarchical.nodeSpacing),Xe)),J!==$e&&(e.direction.setPosition(y,J),r=!0)},ve=se(b,k);fe(ve),ve=se(b,x),pe(ve)},p=function(b){var y=e.hierarchical.getLevels();y=ls(y).call(y);for(var w=0;w<b;w++){r=!1;for(var x=0;x<y.length;x++)for(var P=y[x],T=e.hierarchical.distributionOrdering[P],S=0;S<T.length;S++)f(1e3,T[S]);if(r!==!0)break}},v=function(b){var y=e.hierarchical.getLevels();y=ls(y).call(y);for(var w=0;w<b&&(r=!1,c(d,y,!0),r===!0);w++);},m=function(){for(var b in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,b)&&e._centerParent(e.body.nodes[b])},g=function(){var b=e.hierarchical.getLevels();b=ls(b).call(b);for(var y=0;y<b.length;y++)for(var w=b[y],x=e.hierarchical.distributionOrdering[w],P=0;P<x.length;P++)e._centerParent(x[P])};this.options.hierarchical.blockShifting===!0&&(v(5),m()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&g(),s()}},{key:"_getSpaceAroundNode",value:function(e,r){var n=!0;r===void 0&&(n=!1);var s=this.hierarchical.levels[e.id];if(s!==void 0){var a=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[s],u=1e9,h=1e9;if(a!==0){var c=l[a-1];if(n===!0&&r[c.id]===void 0||n===!1){var d=this.direction.getPosition(c);u=o-d}}if(a!=l.length-1){var f=l[a+1];if(n===!0&&r[f.id]===void 0||n===!1){var p=this.direction.getPosition(f);h=Math.min(h,p-o)}}return[u,h]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var r=this.hierarchical.parentReference[e.id],n=0;n<r.length;n++){var s=r[n],a=this.body.nodes[s],o=this.hierarchical.childrenReference[s];if(o!==void 0){var l=this._getCenterPosition(o),u=this.direction.getPosition(a),h=this._getSpaceAroundNode(a),c=qe(h,2),d=c[0],f=c[1],p=u-l;(p<0&&Math.abs(p)<f-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(a,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n,s=Ue(e[r]);s=this._indexArrayToNodes(s),sg(n=this.direction).call(n,s);for(var a=0,o=0;o<s.length;o++){var l=s[o];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,h=u*a;a>0&&(h=this.direction.getPosition(s[o-1])+u),this.direction.setPosition(l,h,r),this._validatePositionAndContinue(l,r,h),a++}}}}},{key:"_placeBranchNodes",value:function(e,r){var n,s=this.hierarchical.childrenReference[e];if(s!==void 0){for(var a=[],o=0;o<s.length;o++)a.push(this.body.nodes[s[o]]);sg(n=this.direction).call(n,a);for(var l=0;l<a.length;l++){var u=a[l],h=this.hierarchical.levels[u.id];if(h>r&&this.positionedNodes[u.id]===void 0){var c=this.options.hierarchical.nodeSpacing,d=void 0;l===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(a[l-1])+c,this.direction.setPosition(u,d,h),this._validatePositionAndContinue(u,h,d)}else return}var f=this._getCenterPosition(a);this.direction.setPosition(this.body.nodes[e],f,r)}}},{key:"_validatePositionAndContinue",value:function(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){var s=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-s<this.options.hierarchical.nodeSpacing){var a=s+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(o.withChild,a)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}},{key:"_indexArrayToNodes",value:function(e){for(var r=[],n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}},{key:"_getDistribution",value:function(){var e={},r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];var s=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,s),e[s]===void 0&&(e[s]={}),e[s][r]=n}return e}},{key:"_getActiveEdges",value:function(e){var r=this,n=[];return ce(e.edges,function(s){var a;me(a=r.body.edgeIndices).call(a,s.id)!==-1&&n.push(s)}),n}},{key:"_getHubSizes",value:function(){var e=this,r={},n=this.body.nodeIndices;ce(n,function(a){var o=e.body.nodes[a],l=e._getActiveEdges(o).length;r[l]=!0});var s=[];return ce(r,function(a){s.push(Number(a))}),sg(h_).call(h_,s,function(a,o){return o-a}),s}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,r=function(u,h){e.hierarchical.levelDownstream(u,h)},n=this._getHubSizes(),s=function(){var u=n[a];if(u===0)return"break";ce(e.body.nodeIndices,function(h){var c=e.body.nodes[h];u===e._getActiveEdges(c).length&&e._crawlNetwork(r,h)})},a=0;a<n.length;++a){var o=s();if(o==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,r=1e5,n=function(o,l,u){},s=function(o,l,u){var h=e.hierarchical.levels[o.id];h===void 0&&(h=e.hierarchical.levels[o.id]=r);var c=n(Wt.cloneOptions(o,"node"),Wt.cloneOptions(l,"node"),Wt.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=h+c};this._crawlNetwork(s),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,r=this,n=XM(e=this.body.nodeIndices).call(e,function(s,a){return s.set(a,r.body.nodes[a]),s},new yM);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=VTe(n):this.hierarchical.levels=WTe(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,r=function(s,a){e.hierarchical.levels[a.id]>e.hierarchical.levels[s.id]&&e.hierarchical.addRelation(s.id,a.id)};this._crawlNetwork(r),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,s={},a=function d(f,p){if(s[f.id]===void 0){e.hierarchical.setTreeIndex(f,p),s[f.id]=!0;for(var v,m=e._getActiveEdges(f),g=0;g<m.length;g++){var O=m[g];O.connected===!0&&(O.toId==f.id?v=O.from:v=O.to,f.id!=v.id&&(r(f,v,O),d(v,p)))}}};if(n===void 0)for(var o=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(s[u]===void 0){var h=this.body.nodes[u];a(h,o),o+=1}}else{var c=this.body.nodes[n];if(c===void 0){console.error("Node not found:",n);return}a(c)}}},{key:"_shiftBlock",value:function(e,r){var n=this,s={},a=function o(l){if(!s[l]){s[l]=!0,n.direction.shift(l,r);var u=n.hierarchical.childrenReference[l];if(u!==void 0)for(var h=0;h<u.length;h++)o(u[h])}};a(e)}},{key:"_findCommonParent",value:function(e,r){var n=this,s={},a=function l(u,h){var c=n.hierarchical.parentReference[h];if(c!==void 0)for(var d=0;d<c.length;d++){var f=c[d];u[f]=!0,l(u,f)}},o=function l(u,h){var c=n.hierarchical.parentReference[h];if(c!==void 0)for(var d=0;d<c.length;d++){var f=c[d];if(u[f]!==void 0)return{foundParent:f,withChild:h};var p=l(u,f);if(p.foundParent!==null)return p}return{foundParent:null,withChild:h}};return a(s,e),o(s,r)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new ETe(this):this.direction=new CTe(this)}},{key:"_getCenterPosition",value:function(e){for(var r=1e9,n=-1e9,s=0;s<e.length;s++){var a=void 0;if(e[s].id!==void 0)a=e[s];else{var o=e[s];a=this.body.nodes[o]}var l=this.direction.getPosition(a);r=Math.min(r,l),n=Math.max(n,l)}return .5*(r+n)}}]),i}();function GTe(i,t){var e=typeof Bn<"u"&&Ki(i)||i["@@iterator"];if(!e){if(Ie(i)||(e=HTe(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var r=0,n=function(){};return{s:n,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){e=e.call(i)},n:function(){var u=e.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&e.return!=null&&e.return()}finally{if(a)throw o}}}}function HTe(i,t){var e;if(i){if(typeof i=="string")return d_(i,t);var r=Nt(e=Object.prototype.toString.call(i)).call(e,8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Rs(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(i,t)}}function d_(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=i[e];return r}var KTe=function(){function i(t,e,r,n){var s=this,a,o;Z(this,i),this.body=t,this.canvas=e,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},dt(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){s._clean()}),this.body.emitter.on("_dataChanged",M(a=this._restore).call(a,this)),this.body.emitter.on("_resetData",M(o=this._restore).call(o,this))}return L(i,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Le(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),s=this.selectionHandler.getSelectedEdgeCount(),a=n+s,o=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(o)):s===1&&n===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(o)),a!==0&&(n>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",M(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,M(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",M(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var r=this.selectionHandler.getSelectedNodes()[0];if(r!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(r.isCluster!==!0){var n=Le({},r.options,!1);if(n.x=r.x,n.y=r.y,this.options.editNode.length===2)this.options.editNode(n,function(s){s!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(s),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,r,n,s,a;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,M(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",M(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",M(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",M(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",M(s=this._finishConnect).call(s,this)),this._temporaryBindUI("onDragStart",M(a=this._dragStartEdge).call(a,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",_e(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var r,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,M(r=this.toggleEditMode).call(r,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var s,a,o,l,u=this.body.edges[this.edgeBeingEditedId],h=this._getNewTargetNode(u.from.x,u.from.y),c=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(h.id),this.temporaryIds.nodes.push(c.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this._temporaryBindUI("onTouch",M(s=this._controlNodeTouch).call(s,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",M(a=this._controlNodeDragStart).call(a,this)),this._temporaryBindUI("onDrag",M(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",M(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(d){var f=u.edgeType.findBorderPositions(d);h.selected===!1&&(h.x=f.from.x,h.y=f.from.y),c.selected===!1&&(c.x=f.to.x,c.y=f.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var r=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),s=void 0;if(r.length>0){for(var a=0;a<r.length;a++)if(this.body.nodes[r[a]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(s=this.options.deleteNode)}else n.length>0&&typeof this.options.deleteEdge=="function"&&(s=this.options.deleteEdge);if(typeof s=="function"){var o={nodes:r,edges:n};if(s.length===2)s(o,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(r),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,r){var n=Le({},this.options.controlNodeStyle);n.id="targetNode"+tl(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;var s=this.body.functions.createNode(n);return s.shape.boundingBox={left:e,right:e,top:r,bottom:r},s}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},an(this.editModeDiv);var r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,M(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(an(this.editModeDiv),an(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,r=GTe(Mi(e=this._domEventListenerCleanupQueue).call(e,0)),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;s()}}catch(a){r.e(a)}finally{r.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),an(this.manipulationDiv),an(this.editModeDiv),an(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var r,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.addNodeMode).call(r,this))}},{key:"_createAddEdgeButton",value:function(e){var r,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.addEdgeMode).call(r,this))}},{key:"_createEditNodeButton",value:function(e){var r,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.editNode).call(r,this))}},{key:"_createEditEdgeButton",value:function(e){var r,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.editEdgeMode).call(r,this))}},{key:"_createDeleteButton",value:function(e){var r,n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";var s=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(s),this._bindElementEvents(s,M(r=this.deleteSelected).call(r,this))}},{key:"_createBackButton",value:function(e){var r,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.showManipulatorToolbar).call(r,this))}},{key:"_createButton",value:function(e,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=s,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}},{key:"_temporaryBindUI",value:function(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Nu(Ue(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,r){var n=new pa(e,{});pd(n,r),this._domEventListenerCleanupQueue.push(function(){n.destroy()});var s=function(o){var l=o.keyCode,u=o.key;(u==="Enter"||u===" "||l===13||l===32)&&r()};e.addEventListener("keyup",s,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",s,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var r;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n=me(r=this.body.edgeIndices).call(r,this.temporaryIds.edges[e]);if(n!==-1){var s;Mi(s=this.body.edgeIndices).call(s,n,1)}}for(var a=0;a<this.temporaryIds.nodes.length;a++){var o;delete this.body.nodes[this.temporaryIds.nodes[a]];var l=me(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[a]);if(l!==-1){var u;Mi(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=dt({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],s=this.body.nodes[this.temporaryIds.nodes[1]],a=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(r),l=s.isOverlappingWith(r);o===!0?(this.selectedControlNode=n,a.edgeType.from=n):l===!0&&(this.selectedControlNode=s,a.edgeType.to=s),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),s=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=a.length-1;l>=0;l--)if(a[l]!==this.selectedControlNode.id){o=this.body.nodes[a[l]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(o.id,s.to.id):this._performEditEdge(s.from.id,o.id)}else s.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=dt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this._getNewTargetNode(n.x,n.y);this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id);var a=this.body.functions.createEdge({id:"connectionEdge"+tl(),from:n.id,to:s.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[a.id]=a,this.body.edgeIndices.push(a.id),this.temporaryIds.nodes.push(s.id),this.temporaryIds.edges.push(a.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),s=void 0;this.temporaryIds.edges[0]!==void 0&&(s=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=a.length-1;l>=0;l--){var u;if(me(u=this.temporaryIds.nodes).call(u,a[l])===-1){o=this.body.nodes[a[l]];break}}if(e.controlEdge={from:s,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){var h=this.body.nodes[this.temporaryIds.nodes[0]];h.x=this.canvas._XconvertDOMtoCanvas(r.x),h.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),s=void 0;this.temporaryIds.edges[0]!==void 0&&(s=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var a=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,l=a.length-1;l>=0;l--){var u;if(me(u=this.temporaryIds.nodes).call(u,a[l])===-1){o=this.body.nodes[a[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[s]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(s,o.id)),e.controlEdge={from:s,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}},{key:"_performAddNode",value:function(e){var r=this,n={id:tl(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(n,function(s){s!=null&&r.inMode==="addNode"&&r.body.data.nodes.getDataSet().add(s),r.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,r){var n=this,s={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(s,function(a){a!=null&&n.inMode==="addEdge"&&(n.body.data.edges.getDataSet().add(a),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,r){var n=this,s={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label},a=this.options.editEdge;if(_e(a)==="object"&&(a=a.editWithoutDrag),typeof a=="function")if(a.length===2)a(s,function(o){o==null||n.inMode!=="editEdge"?(n.body.edges[s.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(o),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),i}(),N="string",R="boolean",_="number",Lo="array",G="object",GM="dom",JTe="any",lg=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],ug={borderWidth:{number:_},borderWidthSelected:{number:_,undefined:"undefined"},brokenImage:{string:N,undefined:"undefined"},chosen:{label:{boolean:R,function:"function"},node:{boolean:R,function:"function"},__type__:{object:G,boolean:R}},color:{border:{string:N},background:{string:N},highlight:{border:{string:N},background:{string:N},__type__:{object:G,string:N}},hover:{border:{string:N},background:{string:N},__type__:{object:G,string:N}},__type__:{object:G,string:N}},opacity:{number:_,undefined:"undefined"},fixed:{x:{boolean:R},y:{boolean:R},__type__:{object:G,boolean:R}},font:{align:{string:N},color:{string:N},size:{number:_},face:{string:N},background:{string:N},strokeWidth:{number:_},strokeColor:{string:N},vadjust:{number:_},multi:{boolean:R,string:N},bold:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},boldital:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},ital:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},mono:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},__type__:{object:G,string:N}},group:{string:N,number:_,undefined:"undefined"},heightConstraint:{minimum:{number:_},valign:{string:N},__type__:{object:G,boolean:R,number:_}},hidden:{boolean:R},icon:{face:{string:N},code:{string:N},size:{number:_},color:{string:N},weight:{string:N,number:_},__type__:{object:G}},id:{string:N,number:_},image:{selected:{string:N,undefined:"undefined"},unselected:{string:N,undefined:"undefined"},__type__:{object:G,string:N}},imagePadding:{top:{number:_},right:{number:_},bottom:{number:_},left:{number:_},__type__:{object:G,number:_}},label:{string:N,undefined:"undefined"},labelHighlightBold:{boolean:R},level:{number:_,undefined:"undefined"},margin:{top:{number:_},right:{number:_},bottom:{number:_},left:{number:_},__type__:{object:G,number:_}},mass:{number:_},physics:{boolean:R},scaling:{min:{number:_},max:{number:_},label:{enabled:{boolean:R},min:{number:_},max:{number:_},maxVisible:{number:_},drawThreshold:{number:_},__type__:{object:G,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:G}},shadow:{enabled:{boolean:R},color:{string:N},size:{number:_},x:{number:_},y:{number:_},__type__:{object:G,boolean:R}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:R,array:Lo},borderRadius:{number:_},interpolation:{boolean:R},useImageSize:{boolean:R},useBorderWithImage:{boolean:R},coordinateOrigin:{string:["center","top-left"]},__type__:{object:G}},size:{number:_},title:{string:N,dom:GM,undefined:"undefined"},value:{number:_,undefined:"undefined"},widthConstraint:{minimum:{number:_},maximum:{number:_},__type__:{object:G,boolean:R,number:_}},x:{number:_},y:{number:_},__type__:{object:G}},e_e={configure:{enabled:{boolean:R},filter:{boolean:R,string:N,array:Lo,function:"function"},container:{dom:GM},showButton:{boolean:R},__type__:{object:G,boolean:R,string:N,array:Lo,function:"function"}},edges:{arrows:{to:{enabled:{boolean:R},scaleFactor:{number:_},type:{string:lg},imageHeight:{number:_},imageWidth:{number:_},src:{string:N},__type__:{object:G,boolean:R}},middle:{enabled:{boolean:R},scaleFactor:{number:_},type:{string:lg},imageWidth:{number:_},imageHeight:{number:_},src:{string:N},__type__:{object:G,boolean:R}},from:{enabled:{boolean:R},scaleFactor:{number:_},type:{string:lg},imageWidth:{number:_},imageHeight:{number:_},src:{string:N},__type__:{object:G,boolean:R}},__type__:{string:["from","to","middle"],object:G}},endPointOffset:{from:{number:_},to:{number:_},__type__:{object:G,number:_}},arrowStrikethrough:{boolean:R},background:{enabled:{boolean:R},color:{string:N},size:{number:_},dashes:{boolean:R,array:Lo},__type__:{object:G,boolean:R}},chosen:{label:{boolean:R,function:"function"},edge:{boolean:R,function:"function"},__type__:{object:G,boolean:R}},color:{color:{string:N},highlight:{string:N},hover:{string:N},inherit:{string:["from","to","both"],boolean:R},opacity:{number:_},__type__:{object:G,string:N}},dashes:{boolean:R,array:Lo},font:{color:{string:N},size:{number:_},face:{string:N},background:{string:N},strokeWidth:{number:_},strokeColor:{string:N},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:_},multi:{boolean:R,string:N},bold:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},boldital:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},ital:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},mono:{color:{string:N},size:{number:_},face:{string:N},mod:{string:N},vadjust:{number:_},__type__:{object:G,string:N}},__type__:{object:G,string:N}},hidden:{boolean:R},hoverWidth:{function:"function",number:_},label:{string:N,undefined:"undefined"},labelHighlightBold:{boolean:R},length:{number:_,undefined:"undefined"},physics:{boolean:R},scaling:{min:{number:_},max:{number:_},label:{enabled:{boolean:R},min:{number:_},max:{number:_},maxVisible:{number:_},drawThreshold:{number:_},__type__:{object:G,boolean:R}},customScalingFunction:{function:"function"},__type__:{object:G}},selectionWidth:{function:"function",number:_},selfReferenceSize:{number:_},selfReference:{size:{number:_},angle:{number:_},renderBehindTheNode:{boolean:R},__type__:{object:G}},shadow:{enabled:{boolean:R},color:{string:N},size:{number:_},x:{number:_},y:{number:_},__type__:{object:G,boolean:R}},smooth:{enabled:{boolean:R},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:_},forceDirection:{string:["horizontal","vertical","none"],boolean:R},__type__:{object:G,boolean:R}},title:{string:N,undefined:"undefined"},width:{number:_},widthConstraint:{maximum:{number:_},__type__:{object:G,boolean:R,number:_}},value:{number:_,undefined:"undefined"},__type__:{object:G}},groups:{useDefaultGroups:{boolean:R},__any__:ug,__type__:{object:G}},interaction:{dragNodes:{boolean:R},dragView:{boolean:R},hideEdgesOnDrag:{boolean:R},hideEdgesOnZoom:{boolean:R},hideNodesOnDrag:{boolean:R},hover:{boolean:R},keyboard:{enabled:{boolean:R},speed:{x:{number:_},y:{number:_},zoom:{number:_},__type__:{object:G}},bindToWindow:{boolean:R},autoFocus:{boolean:R},__type__:{object:G,boolean:R}},multiselect:{boolean:R},navigationButtons:{boolean:R},selectable:{boolean:R},selectConnectedEdges:{boolean:R},hoverConnectedEdges:{boolean:R},tooltipDelay:{number:_},zoomView:{boolean:R},zoomSpeed:{number:_},__type__:{object:G}},layout:{randomSeed:{undefined:"undefined",number:_,string:N},improvedLayout:{boolean:R},clusterThreshold:{number:_},hierarchical:{enabled:{boolean:R},levelSeparation:{number:_},nodeSpacing:{number:_},treeSpacing:{number:_},blockShifting:{boolean:R},edgeMinimization:{boolean:R},parentCentralization:{boolean:R},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:G,boolean:R}},__type__:{object:G}},manipulation:{enabled:{boolean:R},initiallyActive:{boolean:R},addNode:{boolean:R,function:"function"},addEdge:{boolean:R,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:G,boolean:R,function:"function"}},deleteNode:{boolean:R,function:"function"},deleteEdge:{boolean:R,function:"function"},controlNodeStyle:ug,__type__:{object:G,boolean:R}},nodes:ug,physics:{enabled:{boolean:R},barnesHut:{theta:{number:_},gravitationalConstant:{number:_},centralGravity:{number:_},springLength:{number:_},springConstant:{number:_},damping:{number:_},avoidOverlap:{number:_},__type__:{object:G}},forceAtlas2Based:{theta:{number:_},gravitationalConstant:{number:_},centralGravity:{number:_},springLength:{number:_},springConstant:{number:_},damping:{number:_},avoidOverlap:{number:_},__type__:{object:G}},repulsion:{centralGravity:{number:_},springLength:{number:_},springConstant:{number:_},nodeDistance:{number:_},damping:{number:_},__type__:{object:G}},hierarchicalRepulsion:{centralGravity:{number:_},springLength:{number:_},springConstant:{number:_},nodeDistance:{number:_},damping:{number:_},avoidOverlap:{number:_},__type__:{object:G}},maxVelocity:{number:_},minVelocity:{number:_},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:R},iterations:{number:_},updateInterval:{number:_},onlyDynamicEdges:{boolean:R},fit:{boolean:R},__type__:{object:G,boolean:R}},timestep:{number:_},adaptiveTimestep:{boolean:R},wind:{x:{number:_},y:{number:_},__type__:{object:G}},__type__:{object:G,boolean:R}},autoResize:{boolean:R},clickToUse:{boolean:R},locale:{string:N},locales:{__any__:{any:JTe},__type__:{object:G}},height:{string:N},width:{string:N},__type__:{object:G}},HM={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},t_e=function(t,e,r){var n;return!!(Oi(t).call(t,"physics")&&Oi(n=HM.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")},r_e=function(){function i(){Z(this,i)}return L(i,[{key:"getDistances",value:function(e,r,n){for(var s={},a=e.edges,o=0;o<r.length;o++){var l=r[o],u={};s[l]=u;for(var h=0;h<r.length;h++)u[r[h]]=o==h?0:1e9}for(var c=0;c<n.length;c++){var d=a[n[c]];d.connected===!0&&s[d.fromId]!==void 0&&s[d.toId]!==void 0&&(s[d.fromId][d.toId]=1,s[d.toId][d.fromId]=1)}for(var f=r.length,p=0;p<f;p++)for(var v=r[p],m=s[v],g=0;g<f-1;g++)for(var O=r[g],b=s[O],y=g+1;y<f;y++){var w=r[y],x=s[w],P=Math.min(b[w],b[v]+m[w]);b[w]=P,x[O]=P}return s}}]),i}(),i_e=function(){function i(t,e,r){Z(this,i),this.body=t,this.springLength=e,this.springConstant=r,this.distanceSolver=new r_e}return L(i,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(s),this._createK_matrix(s),this._createE_matrix();for(var a=.01,o=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,c=1e9,d=0,f=0,p=0,v=0,m=0;c>a&&l<u;){l+=1;var g=this._getHighestEnergyNode(n),O=qe(g,4);for(d=O[0],c=O[1],f=O[2],p=O[3],v=c,m=0;v>o&&m<h;){m+=1,this._moveNode(d,f,p);var b=this._getEnergy(d),y=qe(b,3);v=y[0],f=y[1],p=y[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var r=this.body.nodeIndices,n=this.body.nodes,s=0,a=r[0],o=0,l=0,u=0;u<r.length;u++){var h=r[u];if(n[h].predefinedPosition!==!0||n[h].isCluster===!0&&e===!0||n[h].options.fixed.x!==!0||n[h].options.fixed.y!==!0){var c=this._getEnergy(h),d=qe(c,3),f=d[0],p=d[1],v=d[2];s<f&&(s=f,a=h,o=p,l=v)}}return[a,s,o,l]}},{key:"_getEnergy",value:function(e){var r=qe(this.E_sums[e],2),n=r[0],s=r[1],a=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));return[a,n,s]}},{key:"_moveNode",value:function(e,r,n){for(var s=this.body.nodeIndices,a=this.body.nodes,o=0,l=0,u=0,h=a[e].x,c=a[e].y,d=this.K_matrix[e],f=this.L_matrix[e],p=0;p<s.length;p++){var v=s[p];if(v!==e){var m=a[v].x,g=a[v].y,O=d[v],b=f[v],y=1/Math.pow(Math.pow(h-m,2)+Math.pow(c-g,2),1.5);o+=O*(1-b*Math.pow(c-g,2)*y),l+=O*(b*(h-m)*(c-g)*y),u+=O*(1-b*Math.pow(h-m,2)*y)}}var w=o,x=l,P=r,T=u,S=n,k=(P/w+S/x)/(x/w-T/x),C=-(x*k+P)/w;a[e].x+=C,a[e].y+=k,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var s=0;s<r.length;s++){this.L_matrix[r[s]]={};for(var a=0;a<r.length;a++)this.L_matrix[r[s]][r[a]]=n*e[r[s]][r[a]]}}},{key:"_createK_matrix",value:function(e){var r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var s=0;s<r.length;s++){this.K_matrix[r[s]]={};for(var a=0;a<r.length;a++)this.K_matrix[r[s]][r[a]]=n*Math.pow(e[r[s]][r[a]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var s=0;s<e.length;s++){for(var a=e[s],o=r[a].x,l=r[a].y,u=0,h=0,c=s;c<e.length;c++){var d=e[c];if(d!==a){var f=r[d].x,p=r[d].y,v=1/Math.sqrt(Math.pow(o-f,2)+Math.pow(l-p,2));this.E_matrix[a][c]=[this.K_matrix[a][d]*(o-f-this.L_matrix[a][d]*(o-f)*v),this.K_matrix[a][d]*(l-p-this.L_matrix[a][d]*(l-p)*v)],this.E_matrix[d][s]=this.E_matrix[a][c],u+=this.E_matrix[a][c][0],h+=this.E_matrix[a][c][1]}}this.E_sums[a]=[u,h]}}},{key:"_updateE_matrix",value:function(e){for(var r=this.body.nodeIndices,n=this.body.nodes,s=this.E_matrix[e],a=this.K_matrix[e],o=this.L_matrix[e],l=n[e].x,u=n[e].y,h=0,c=0,d=0;d<r.length;d++){var f=r[d];if(f!==e){var p=s[d],v=p[0],m=p[1],g=n[f].x,O=n[f].y,b=1/Math.sqrt(Math.pow(l-g,2)+Math.pow(u-O,2)),y=a[f]*(l-g-o[f]*(l-g)*b),w=a[f]*(u-O-o[f]*(u-O)*b);s[d]=[y,w],h+=y,c+=w;var x=this.E_sums[f];x[0]+=y-v,x[1]+=w-m}}this.E_sums[e]=[h,c]}}]),i}();function V(i,t,e){var r,n,s,a,o=this;if(!(this instanceof V))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:_$e,clickToUse:!1},dt(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:M(r=this.on).call(r,this),off:M(n=this.off).call(n,this),emit:M(s=this.emit).call(s,this),once:M(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new I$e(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new U1e,this.canvas=new Nke(this.body),this.selectionHandler=new TPe(this.body,this.canvas),this.interactionHandler=new jke(this.body,this.canvas,this.selectionHandler),this.view=new Zke(this.body,this.canvas),this.renderer=new Qke(this.body,this.canvas),this.physics=new wke(this.body),this.layoutEngine=new qTe(this.body),this.clustering=new Cke(this.body),this.manipulation=new KTe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new ixe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new dke(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new i_e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}tA(V.prototype);V.prototype.setOptions=function(i){var t=this;if(i===null&&(i=void 0),i!==void 0){var e=s$e.validate(i,e_e);e===!0&&console.error("%cErrors have been found in the supplied options object.",aM);var r=["locale","locales","clickToUse"];if(mo(r,this.options,i),i.locale!==void 0&&(i.locale=E$e(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new i$e(this,this.body.container,HM,this.canvas.pixelRatio,t_e)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Le(n.nodes,this.nodesHandler.options),Le(n.edges,this.edgesHandler.options),Le(n.layout,this.layoutEngine.options),Le(n.interaction,this.selectionHandler.options),Le(n.interaction,this.renderer.options),Le(n.interaction,this.interactionHandler.options),Le(n.manipulation,this.manipulation.options),Le(n.physics,this.physics.options),Le(n.global,this.canvas.options),Le(n.global,this.options),this.configurator.setModuleOptions(n)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new r$e(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};V.prototype._updateVisibleIndices=function(){var i=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&!this.clustering._isClusteredNode(e)&&i[e].options.hidden===!1&&this.body.nodeIndices.push(i[e].id);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r],s=i[n.fromId],a=i[n.toId],o=s!==void 0&&a!==void 0,l=!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&o&&s.options.hidden===!1&&a.options.hidden===!1;l&&this.body.edgeIndices.push(n.id)}};V.prototype.bindEventListeners=function(){var i=this;this.body.emitter.on("_dataChanged",function(){i.edgesHandler._updateState(),i.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){i.clustering._updateState(),i._updateVisibleIndices(),i._updateValueRange(i.body.nodes),i._updateValueRange(i.body.edges),i.body.emitter.emit("startSimulation"),i.body.emitter.emit("_requestRedraw")})};V.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=v$e(i.dot);this.setData(t);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=g$e(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};V.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];an(this.body.container)};V.prototype._updateValueRange=function(i){var t,e=void 0,r=void 0,n=0;for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var s=i[t].getValue();s!==void 0&&(e=e===void 0?s:Math.min(s,e),r=r===void 0?s:Math.max(s,r),n+=s)}if(e!==void 0&&r!==void 0)for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&i[t].setValueRange(e,r,n)};V.prototype.isActive=function(){return!this.activator||this.activator.active};V.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};V.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};V.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};V.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};V.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};V.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};V.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};V.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};V.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};V.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};V.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};V.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};V.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};V.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};V.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};V.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};V.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};V.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};V.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};V.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};V.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};V.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};V.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};V.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};V.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};V.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};V.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};V.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};V.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};V.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};V.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};V.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};V.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};V.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};V.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};V.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};V.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};V.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};V.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};V.prototype.getNodeAt=function(){var i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};V.prototype.getEdgeAt=function(){var i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};V.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};V.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};V.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};V.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};V.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};V.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};V.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};V.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};V.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};V.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};V.prototype.getOptionsFromConfigurator=function(){var i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};async function n_e(i,t){return(await dr.get("/api/edge/create",{params:{fromId:i,toId:t}})).data}class Oo{}async function s_e(){return(await dr.get("/api/post/findMyPosts",{})).data}class a_e extends Oo{constructor(e){super();Q(this,"nodes");this.nodes=e.nodes}async operate(e){const r=(await s_e()).datas;for(let n of r)e.nodes.set(n.id,{label:n.title}),this.nodes.add({id:n.id,label:n.title})}}async function o_e(){return(await dr.get("/api/edge/findMyEdges",{})).data}class l_e extends Oo{constructor(e){super();Q(this,"edges");this.edges=e.edges}async operate(e){const r=(await o_e()).datas;for(let n of r)e.edges.set(n.id,{fromId:n.fromId,toId:n.toId}),this.edges.add({id:n.id,to:n.toId,from:n.fromId})}}class KM{}class u_e extends KM{constructor(e){super();Q(this,"manipulators");this.manipulators=e.manipulators}async manipulate(e){for(let r of this.manipulators)await r.manipulate(e)}}class Yu extends KM{async manipulate(t){t.on(this.eventName,async e=>{await this.handle(e)})}}class h_e extends Yu{constructor(e){super();Q(this,"eventName","doubleClick");Q(this,"editorIdModel");Q(this,"editorPopupModel");this.editorIdModel=e.editorIdModel,this.editorPopupModel=e.editorPopupModel}async handle(e){e.nodes.length>0&&(this.editorIdModel.setData(e.nodes[0]),this.editorPopupModel.setData(!0))}}class c_e extends Yu{constructor(e){super();Q(this,"eventName","oncontext");Q(this,"network");Q(this,"contextMenuModels");Q(this,"nodeContextMenuModel");Q(this,"contextedNodeModel");this.network=e.network,this.contextMenuModels=e.contextMenuModels,this.nodeContextMenuModel=e.nodeContextMenuModel,this.contextedNodeModel=e.contextedNodeModel}async handle(e){e.event.preventDefault(),e.event.stopPropagation();const r=this.network.getNodeAt(e.pointer.DOM);r!==void 0&&(await Promise.all(this.contextMenuModels.map(n=>{n.setData({mode:!1,x:"0",y:"0"})})),await this.nodeContextMenuModel.setData({mode:!0,x:`${e.pointer.DOM.x}px`,y:`${e.pointer.DOM.y}px`}),await this.contextedNodeModel.setData(Number(r)))}}class d_e extends Yu{constructor(e){super();Q(this,"eventName","oncontext");Q(this,"contextMenuModels");Q(this,"edgeContextMenuModel");Q(this,"contextedEdgeModel");this.contextMenuModels=e.contextMenuModels,this.edgeContextMenuModel=e.edgeContextMenuModel,this.contextedEdgeModel=e.contextedEdgeModel}async handle(e){e.event.preventDefault(),e.event.stopPropagation(),!(e.edges.length<=0)&&(await this.contextedEdgeModel.setData(e.edges[0]),await Promise.all(this.contextMenuModels.map(r=>{r.setData({mode:!1,x:"0",y:"0"})})),await this.edgeContextMenuModel.setData({mode:!0,x:`${e.pointer.DOM.x}px`,y:`${e.pointer.DOM.y}px`}))}}class f_e extends Yu{constructor(e){super();Q(this,"eventName","oncontext");Q(this,"contextMenuModels");Q(this,"backgroundContextMenuModel");this.contextMenuModels=e.contextMenuModels,this.backgroundContextMenuModel=e.backgroundContextMenuModel}async handle(e){e.event.preventDefault(),e.event.stopPropagation(),!(e.nodes.length>0||e.edges.length>0)&&(await Promise.all(this.contextMenuModels.map(r=>{r.setData({mode:!1,x:"0",y:"0"})})),await this.backgroundContextMenuModel.setData({mode:!0,x:`${e.pointer.DOM.x}px`,y:`${e.pointer.DOM.y}px`}))}}let p_e=class extends Yu{constructor(e){super();Q(this,"eventName","click");Q(this,"contextMenuModels");this.contextMenuModels=e.contextMenuModels}async handle(e){for(let r of this.contextMenuModels)await r.setData({mode:!1,x:"0",y:"0"})}};class Te{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,r){let n=[];return this.decompose(0,t,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(e,this.length,n,1),ci.from(n,this.length-(e-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let r=[];return this.decompose(t,e,r,0),ci.from(r,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),n=new il(this),s=new il(t);for(let a=e,o=e;;){if(n.next(a),s.next(a),a=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=r)return!0}}iter(t=1){return new il(this,t)}iterRange(t,e=this.length){return new JM(this,t,e)}iterLines(t,e){let r;if(t==null)r=this.iter();else{e==null&&(e=this.lines+1);let n=this.line(t).from;r=this.iterRange(n,Math.max(n,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new eD(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Te.empty:t.length<=32?new tt(t):ci.from(tt.split(t,[]))}}class tt extends Te{constructor(t,e=v_e(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,r,n){for(let s=0;;s++){let a=this.text[s],o=n+a.length;if((e?r:o)>=t)return new g_e(n,o,r,a);n=o+1,r++}}decompose(t,e,r,n){let s=t<=0&&e>=this.length?this:new tt(f_(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(n&1){let a=r.pop(),o=xc(s.text,a.text.slice(),0,s.length);if(o.length<=32)r.push(new tt(o,a.length+s.length));else{let l=o.length>>1;r.push(new tt(o.slice(0,l)),new tt(o.slice(l)))}}else r.push(s)}replace(t,e,r){if(!(r instanceof tt))return super.replace(t,e,r);let n=xc(this.text,xc(r.text,f_(this.text,0,t)),e),s=this.length+r.length-(e-t);return n.length<=32?new tt(n,s):ci.from(tt.split(n,[]),s)}sliceString(t,e=this.length,r=`
`){let n="";for(let s=0,a=0;s<=e&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>t&&a&&(n+=r),t<l&&e>s&&(n+=o.slice(Math.max(0,t-s),e-s)),s=l+1}return n}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let r=[],n=-1;for(let s of t)r.push(s),n+=s.length+1,r.length==32&&(e.push(new tt(r,n)),r=[],n=-1);return n>-1&&e.push(new tt(r,n)),e}}class ci extends Te{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,e,r,n){for(let s=0;;s++){let a=this.children[s],o=n+a.length,l=r+a.lines-1;if((e?l:o)>=t)return a.lineInner(t,e,r,n);n=o+1,r=l+1}}decompose(t,e,r,n){for(let s=0,a=0;a<=e&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(t<=l&&e>=a){let u=n&((a<=t?1:0)|(l>=e?2:0));a>=t&&l<=e&&!u?r.push(o):o.decompose(t-a,e-a,r,u)}a=l+1}}replace(t,e,r){if(r.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.length;if(t>=s&&e<=o){let l=a.replace(t-s,e-s,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let h=this.children.slice();return h[n]=l,new ci(h,this.length-(e-t)+r.length)}return super.replace(s,o,l)}s=o+1}return super.replace(t,e,r)}sliceString(t,e=this.length,r=`
`){let n="";for(let s=0,a=0;s<this.children.length&&a<=e;s++){let o=this.children[s],l=a+o.length;a>t&&s&&(n+=r),t<l&&e>a&&(n+=o.sliceString(t-a,e-a,r)),a=l+1}return n}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof ci))return 0;let r=0,[n,s,a,o]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;n+=e,s+=e){if(n==a||s==o)return r;let l=this.children[n],u=t.children[s];if(l!=u)return r+l.scanIdentical(u,e);r+=l.length+1}}static from(t,e=t.reduce((r,n)=>r+n.length+1,-1)){let r=0;for(let f of t)r+=f.lines;if(r<32){let f=[];for(let p of t)p.flatten(f);return new tt(f,e)}let n=Math.max(32,r>>5),s=n<<1,a=n>>1,o=[],l=0,u=-1,h=[];function c(f){let p;if(f.lines>s&&f instanceof ci)for(let v of f.children)c(v);else f.lines>a&&(l>a||!l)?(d(),o.push(f)):f instanceof tt&&l&&(p=h[h.length-1])instanceof tt&&f.lines+p.lines<=32?(l+=f.lines,u+=f.length+1,h[h.length-1]=new tt(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>n&&d(),l+=f.lines,u+=f.length+1,h.push(f))}function d(){l!=0&&(o.push(h.length==1?h[0]:ci.from(h,u)),u=-1,l=h.length=0)}for(let f of t)c(f);return d(),o.length==1?o[0]:new ci(o,e)}}Te.empty=new tt([""],0);function v_e(i){let t=-1;for(let e of i)t+=e.length+1;return t}function xc(i,t,e=0,r=1e9){for(let n=0,s=0,a=!0;s<i.length&&n<=r;s++){let o=i[s],l=n+o.length;l>=e&&(l>r&&(o=o.slice(0,r-n)),n<e&&(o=o.slice(e-n)),a?(t[t.length-1]+=o,a=!1):t.push(o)),n=l+1}return t}function f_(i,t,e){return xc(i,[""],t,e)}class il{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof tt?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],s=this.offsets[r],a=s>>1,o=n instanceof tt?n.text.length:n.children.length;if(a==(e>0?o:0)){if(r==0)return this.done=!0,this.value="",this;e>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(e>0?0:1)){if(this.offsets[r]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(n instanceof tt){let l=n.text[a+(e<0?-1:0)];if(this.offsets[r]+=e,l.length>Math.max(0,t))return this.value=t==0?l:e>0?l.slice(t):l.slice(0,l.length-t),this;t-=l.length}else{let l=n.children[a+(e<0?-1:0)];t>l.length?(t-=l.length,this.offsets[r]+=e):(e<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(e>0?1:(l instanceof tt?l.text.length:l.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class JM{constructor(t,e,r){this.value="",this.done=!1,this.cursor=new il(t,e>r?-1:1),this.pos=e>r?t.length:0,this.from=Math.min(e,r),this.to=Math.max(e,r)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let r=e<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:n}=this.cursor.next(t);return this.pos+=(n.length+t)*e,this.value=n.length<=r?n:e<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class eD{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:r,value:n}=this.inner.next(t);return e?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Te.prototype[Symbol.iterator]=function(){return this.iter()},il.prototype[Symbol.iterator]=JM.prototype[Symbol.iterator]=eD.prototype[Symbol.iterator]=function(){return this});let g_e=class{constructor(t,e,r,n){this.from=t,this.to=e,this.number=r,this.text=n}get length(){return this.to-this.from}},ga="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<ga.length;i++)ga[i]+=ga[i-1];function m_e(i){for(let t=1;t<ga.length;t+=2)if(ga[t]>i)return ga[t-1]<=i;return!1}function p_(i){return i>=127462&&i<=127487}const v_=8205;function _i(i,t,e=!0,r=!0){return(e?tD:O_e)(i,t,r)}function tD(i,t,e){if(t==i.length)return t;t&&rD(i.charCodeAt(t))&&iD(i.charCodeAt(t-1))&&t--;let r=kc(i,t);for(t+=Ib(r);t<i.length;){let n=kc(i,t);if(r==v_||n==v_||e&&m_e(n))t+=Ib(n),r=n;else if(p_(n)){let s=0,a=t-2;for(;a>=0&&p_(kc(i,a));)s++,a-=2;if(s%2==0)break;t+=2}else break}return t}function O_e(i,t,e){for(;t>0;){let r=tD(i,t-2,e);if(r<t)return r;t--}return 0}function rD(i){return i>=56320&&i<57344}function iD(i){return i>=55296&&i<56320}function kc(i,t){let e=i.charCodeAt(t);if(!iD(e)||t+1==i.length)return e;let r=i.charCodeAt(t+1);return rD(r)?(e-55296<<10)+(r-56320)+65536:e}function Ib(i){return i<65536?1:2}const Qb=/\r\n?|\n/;var Ut=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Ut||(Ut={}));class Zi{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e+1];t+=r<0?this.sections[e]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,r=0,n=0;e<this.sections.length;){let s=this.sections[e++],a=this.sections[e++];a<0?(t(r,n,s),n+=s):n+=a,r+=s}}iterChangedRanges(t,e=!1){Ab(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let r=this.sections[e++],n=this.sections[e++];n<0?t.push(r,n):t.push(n,r)}return new Zi(t)}composeDesc(t){return this.empty?t:t.empty?this:nD(this,t)}mapDesc(t,e=!1){return t.empty?this:Rb(this,t,e)}mapPos(t,e=-1,r=Ut.Simple){let n=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],u=n+o;if(l<0){if(u>t)return s+(t-n);s+=o}else{if(r!=Ut.Simple&&u>=t&&(r==Ut.TrackDel&&n<t&&u>t||r==Ut.TrackBefore&&n<t||r==Ut.TrackAfter&&u>t))return null;if(u>t||u==t&&e<0&&!o)return t==n||e<0?s:s+l;s+=l}n=u}if(t>n)throw new RangeError(`Position ${t} is out of range for changeset of length ${n}`);return s}touchesRange(t,e=t){for(let r=0,n=0;r<this.sections.length&&n<=e;){let s=this.sections[r++],a=this.sections[r++],o=n+s;if(a>=0&&n<=e&&o>=t)return n<t&&o>e?"cover":!0;n=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let r=this.sections[e++],n=this.sections[e++];t+=(t?" ":"")+r+(n>=0?":"+n:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Zi(t)}static create(t){return new Zi(t)}}class wt extends Zi{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return Ab(this,(e,r,n,s,a)=>t=t.replace(n,n+(r-e),a),!1),t}mapDesc(t,e=!1){return Rb(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let n=0,s=0;n<e.length;n+=2){let a=e[n],o=e[n+1];if(o>=0){e[n]=o,e[n+1]=a;let l=n>>1;for(;r.length<l;)r.push(Te.empty);r.push(a?t.slice(s,s+a):Te.empty)}s+=a}return new wt(e,r)}compose(t){return this.empty?t:t.empty?this:nD(this,t,!0)}map(t,e=!1){return t.empty?this:Rb(this,t,e,!0)}iterChanges(t,e=!1){Ab(this,t,e)}get desc(){return Zi.create(this.sections)}filter(t){let e=[],r=[],n=[],s=new El(this);e:for(let a=0,o=0;;){let l=a==t.length?1e9:t[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-o);Zt(n,h,-1);let c=s.ins==-1?-1:s.off==0?s.ins:0;Zt(e,h,c),c>0&&vn(r,e,s.text),s.forward(h),o+=h}let u=t[a++];for(;o<u;){if(s.done)break e;let h=Math.min(s.len,u-o);Zt(e,h,-1),Zt(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),o+=h}}return{changes:new wt(e,r),filtered:Zi.create(n)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e],n=this.sections[e+1];n<0?t.push(r):n==0?t.push([r]):t.push([r].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let n=[],s=[],a=0,o=null;function l(h=!1){if(!h&&!n.length)return;a<e&&Zt(n,e-a,-1);let c=new wt(n,s);o=o?o.compose(c.map(o)):c,n=[],s=[],a=0}function u(h){if(Array.isArray(h))for(let c of h)u(c);else if(h instanceof wt){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);l(),o=o?o.compose(h.map(o)):h}else{let{from:c,to:d=c,insert:f}=h;if(c>d||c<0||d>e)throw new RangeError(`Invalid change range ${c} to ${d} (in doc of length ${e})`);let p=f?typeof f=="string"?Te.of(f.split(r||Qb)):f:Te.empty,v=p.length;if(c==d&&v==0)return;c<a&&l(),c>a&&Zt(n,c-a,-1),Zt(n,d-c,v),vn(s,n,p),a=d}}return u(t),l(!o),o}static empty(t){return new wt(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="number")e.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)e.push(s[0],0);else{for(;r.length<n;)r.push(Te.empty);r[n]=Te.of(s.slice(1)),e.push(s[0],r[n].length)}}}return new wt(e,r)}static createSet(t,e){return new wt(t,e)}}function Zt(i,t,e,r=!1){if(t==0&&e<=0)return;let n=i.length-2;n>=0&&e<=0&&e==i[n+1]?i[n]+=t:t==0&&i[n]==0?i[n+1]+=e:r?(i[n]+=t,i[n+1]+=e):i.push(t,e)}function vn(i,t,e){if(e.length==0)return;let r=t.length-2>>1;if(r<i.length)i[i.length-1]=i[i.length-1].append(e);else{for(;i.length<r;)i.push(Te.empty);i.push(e)}}function Ab(i,t,e){let r=i.inserted;for(let n=0,s=0,a=0;a<i.sections.length;){let o=i.sections[a++],l=i.sections[a++];if(l<0)n+=o,s+=o;else{let u=n,h=s,c=Te.empty;for(;u+=o,h+=l,l&&r&&(c=c.append(r[a-2>>1])),!(e||a==i.sections.length||i.sections[a+1]<0);)o=i.sections[a++],l=i.sections[a++];t(n,u,s,h,c),n=u,s=h}}}function Rb(i,t,e,r=!1){let n=[],s=r?[]:null,a=new El(i),o=new El(t);for(let l=-1;;)if(a.ins==-1&&o.ins==-1){let u=Math.min(a.len,o.len);Zt(n,u,-1),a.forward(u),o.forward(u)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!e))){let u=o.len;for(Zt(n,o.ins,-1);u;){let h=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=h&&(Zt(n,0,a.ins),s&&vn(s,n,a.text),l=a.i),a.forward(h),u-=h}o.next()}else if(a.ins>=0){let u=0,h=a.len;for(;h;)if(o.ins==-1){let c=Math.min(h,o.len);u+=c,h-=c,o.forward(c)}else if(o.ins==0&&o.len<h)h-=o.len,o.next();else break;Zt(n,u,l<a.i?a.ins:0),s&&l<a.i&&vn(s,n,a.text),l=a.i,a.forward(a.len-h)}else{if(a.done&&o.done)return s?wt.createSet(n,s):Zi.create(n);throw new Error("Mismatched change set lengths")}}function nD(i,t,e=!1){let r=[],n=e?[]:null,s=new El(i),a=new El(t);for(let o=!1;;){if(s.done&&a.done)return n?wt.createSet(r,n):Zi.create(r);if(s.ins==0)Zt(r,s.len,0,o),s.next();else if(a.len==0&&!a.done)Zt(r,0,a.ins,o),n&&vn(n,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),u=r.length;if(s.ins==-1){let h=a.ins==-1?-1:a.off?0:a.ins;Zt(r,l,h,o),n&&h&&vn(n,r,a.text)}else a.ins==-1?(Zt(r,s.off?0:s.len,l,o),n&&vn(n,r,s.textBit(l))):(Zt(r,s.off?0:s.len,a.off?0:a.ins,o),n&&!a.off&&vn(n,r,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||r.length>u),s.forward2(l),a.forward(l)}}}}class El{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Te.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?Te.empty:e[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class ts{constructor(t,e,r){this.from=t,this.to=e,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let t=this.flags&3;return t==3?null:t}get goalColumn(){let t=this.flags>>5;return t==33554431?void 0:t}map(t,e=-1){let r,n;return this.empty?r=n=t.mapPos(this.from,e):(r=t.mapPos(this.from,1),n=t.mapPos(this.to,-1)),r==this.from&&n==this.to?this:new ts(r,n,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Y.range(t,e);let r=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Y.range(this.anchor,r)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Y.range(t.anchor,t.head)}static create(t,e,r){return new ts(t,e,r)}}class Y{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:Y.create(this.ranges.map(r=>r.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Y([this.main],0)}addRange(t,e=!0){return Y.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let r=this.ranges.slice();return r[e]=t,Y.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Y(t.ranges.map(e=>ts.fromJSON(e)),t.main)}static single(t,e=t){return new Y([Y.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,n=0;n<t.length;n++){let s=t[n];if(s.empty?s.from<=r:s.from<r)return Y.normalized(t.slice(),e);r=s.to}return new Y(t,e)}static cursor(t,e=0,r,n){return ts.create(t,t,(e==0?0:e<0?4:8)|(r==null?3:Math.min(2,r))|(n??33554431)<<5)}static range(t,e,r,n){let s=(r??33554431)<<5|(n==null?3:Math.min(2,n));return e<t?ts.create(e,t,24|s):ts.create(t,e,(e>t?4:0)|s)}static normalized(t,e=0){let r=t[e];t.sort((n,s)=>n.from-s.from),e=t.indexOf(r);for(let n=1;n<t.length;n++){let s=t[n],a=t[n-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);n<=e&&e--,t.splice(--n,2,s.anchor>s.head?Y.range(l,o):Y.range(o,l))}}return new Y(t,e)}}function sD(i,t){for(let e of i.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let e0=0;class le{constructor(t,e,r,n,s){this.combine=t,this.compareInput=e,this.compare=r,this.isStatic=n,this.id=e0++,this.default=t([]),this.extensions=typeof s=="function"?s(this):s}static define(t={}){return new le(t.combine||(e=>e),t.compareInput||((e,r)=>e===r),t.compare||(t.combine?(e,r)=>e===r:t0),!!t.static,t.enables)}of(t){return new Pc([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Pc(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new Pc(t,this,2,e)}from(t,e){return e||(e=r=>r),this.compute([t],r=>e(r.field(t)))}}function t0(i,t){return i==t||i.length==t.length&&i.every((e,r)=>e===t[r])}class Pc{constructor(t,e,r,n){this.dependencies=t,this.facet=e,this.type=r,this.value=n,this.id=e0++}dynamicSlot(t){var e;let r=this.value,n=this.facet.compareInput,s=this.id,a=t[s]>>1,o=this.type==2,l=!1,u=!1,h=[];for(let c of this.dependencies)c=="doc"?l=!0:c=="selection"?u=!0:((e=t[c.id])!==null&&e!==void 0?e:1)&1||h.push(t[c.id]);return{create(c){return c.values[a]=r(c),1},update(c,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Mb(c,h)){let f=r(c);if(o?!g_(f,c.values[a],n):!n(f,c.values[a]))return c.values[a]=f,1}return 0},reconfigure:(c,d)=>{let f,p=d.config.address[s];if(p!=null){let v=gd(d,p);if(this.dependencies.every(m=>m instanceof le?d.facet(m)===c.facet(m):m instanceof Ln?d.field(m,!1)==c.field(m,!1):!0)||(o?g_(f=r(c),v,n):n(f=r(c),v)))return c.values[a]=v,0}else f=r(c);return c.values[a]=f,1}}}}function g_(i,t,e){if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(!e(i[r],t[r]))return!1;return!0}function Mb(i,t){let e=!1;for(let r of t)nl(i,r)&1&&(e=!0);return e}function y_e(i,t,e){let r=e.map(l=>i[l.id]),n=e.map(l=>l.type),s=r.filter(l=>!(l&1)),a=i[t.id]>>1;function o(l){let u=[];for(let h=0;h<r.length;h++){let c=gd(l,r[h]);if(n[h]==2)for(let d of c)u.push(d);else u.push(c)}return t.combine(u)}return{create(l){for(let u of r)nl(l,u);return l.values[a]=o(l),1},update(l,u){if(!Mb(l,s))return 0;let h=o(l);return t.compare(h,l.values[a])?0:(l.values[a]=h,1)},reconfigure(l,u){let h=Mb(l,r),c=u.config.facets[t.id],d=u.facet(t);if(c&&!h&&t0(e,c))return l.values[a]=d,0;let f=o(l);return t.compare(f,d)?(l.values[a]=d,0):(l.values[a]=f,1)}}}const m_=le.define({static:!0});class Ln{constructor(t,e,r,n,s){this.id=t,this.createF=e,this.updateF=r,this.compareF=n,this.spec=s,this.provides=void 0}static define(t){let e=new Ln(e0++,t.create,t.update,t.compare||((r,n)=>r===n),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(m_).find(r=>r.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:r=>(r.values[e]=this.create(r),1),update:(r,n)=>{let s=r.values[e],a=this.updateF(s,n);return this.compareF(s,a)?0:(r.values[e]=a,1)},reconfigure:(r,n)=>n.config.address[this.id]!=null?(r.values[e]=n.field(this),0):(r.values[e]=this.create(r),1)}}init(t){return[this,m_.of({field:this,create:t})]}get extension(){return this}}const Hn={lowest:4,low:3,default:2,high:1,highest:0};function _o(i){return t=>new aD(t,i)}const Wu={highest:_o(Hn.highest),high:_o(Hn.high),default:_o(Hn.default),low:_o(Hn.low),lowest:_o(Hn.lowest)};class aD{constructor(t,e){this.inner=t,this.prec=e}}class Df{of(t){return new Db(this,t)}reconfigure(t){return Df.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class Db{constructor(t,e){this.compartment=t,this.inner=e}}class vd{constructor(t,e,r,n,s,a){for(this.base=t,this.compartments=e,this.dynamicSlots=r,this.address=n,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,r){let n=[],s=Object.create(null),a=new Map;for(let d of b_e(t,e,a))d instanceof Ln?n.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let o=Object.create(null),l=[],u=[];for(let d of n)o[d.id]=u.length<<1,u.push(f=>d.slot(f));let h=r==null?void 0:r.config.facets;for(let d in s){let f=s[d],p=f[0].facet,v=h&&h[d]||[];if(f.every(m=>m.type==0))if(o[p.id]=l.length<<1|1,t0(v,f))l.push(r.facet(p));else{let m=p.combine(f.map(g=>g.value));l.push(r&&p.compare(m,r.facet(p))?r.facet(p):m)}else{for(let m of f)m.type==0?(o[m.id]=l.length<<1|1,l.push(m.value)):(o[m.id]=u.length<<1,u.push(g=>m.dynamicSlot(g)));o[p.id]=u.length<<1,u.push(m=>y_e(m,p,f))}}let c=u.map(d=>d(o));return new vd(t,a,c,o,l,s)}}function b_e(i,t,e){let r=[[],[],[],[],[]],n=new Map;function s(a,o){let l=n.get(a);if(l!=null){if(l<=o)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof Db&&e.delete(a.compartment)}if(n.set(a,o),Array.isArray(a))for(let u of a)s(u,o);else if(a instanceof Db){if(e.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=t.get(a.compartment)||a.inner;e.set(a.compartment,u),s(u,o)}else if(a instanceof aD)s(a.inner,a.prec);else if(a instanceof Ln)r[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Pc)r[o].push(a),a.facet.extensions&&s(a.facet.extensions,Hn.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,o)}}return s(i,Hn.default),r.reduce((a,o)=>a.concat(o))}function nl(i,t){if(t&1)return 2;let e=t>>1,r=i.status[e];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;i.status[e]=4;let n=i.computeSlot(i,i.config.dynamicSlots[e]);return i.status[e]=2|n}function gd(i,t){return t&1?i.config.staticValues[t>>1]:i.values[t>>1]}const oD=le.define(),lD=le.define({combine:i=>i.some(t=>t),static:!0}),uD=le.define({combine:i=>i.length?i[0]:void 0,static:!0}),hD=le.define(),cD=le.define(),dD=le.define(),fD=le.define({combine:i=>i.length?i[0]:!1});class Bs{constructor(t,e){this.type=t,this.value=e}static define(){return new $_e}}class $_e{of(t){return new Bs(this,t)}}class w_e{constructor(t){this.map=t}of(t){return new nt(this,t)}}class nt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new nt(this.type,e)}is(t){return this.type==t}static define(t={}){return new w_e(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let r=[];for(let n of t){let s=n.map(e);s&&r.push(s)}return r}}nt.reconfigure=nt.define();nt.appendConfig=nt.define();class Lt{constructor(t,e,r,n,s,a){this.startState=t,this.changes=e,this.selection=r,this.effects=n,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&sD(r,e.newLength),s.some(o=>o.type==Lt.time)||(this.annotations=s.concat(Lt.time.of(Date.now())))}static create(t,e,r,n,s,a){return new Lt(t,e,r,n,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Lt.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}Lt.time=Bs.define();Lt.userEvent=Bs.define();Lt.addToHistory=Bs.define();Lt.remote=Bs.define();function S_e(i,t){let e=[];for(let r=0,n=0;;){let s,a;if(r<i.length&&(n==t.length||t[n]>=i[r]))s=i[r++],a=i[r++];else if(n<t.length)s=t[n++],a=t[n++];else return e;!e.length||e[e.length-1]<s?e.push(s,a):e[e.length-1]<a&&(e[e.length-1]=a)}}function pD(i,t,e){var r;let n,s,a;return e?(n=t.changes,s=wt.empty(t.changes.length),a=i.changes.compose(t.changes)):(n=t.changes.map(i.changes),s=i.changes.mapDesc(t.changes,!0),a=i.changes.compose(n)),{changes:a,selection:t.selection?t.selection.map(s):(r=i.selection)===null||r===void 0?void 0:r.map(n),effects:nt.mapEffects(i.effects,n).concat(nt.mapEffects(t.effects,s)),annotations:i.annotations.length?i.annotations.concat(t.annotations):t.annotations,scrollIntoView:i.scrollIntoView||t.scrollIntoView}}function Nb(i,t,e){let r=t.selection,n=ma(t.annotations);return t.userEvent&&(n=n.concat(Lt.userEvent.of(t.userEvent))),{changes:t.changes instanceof wt?t.changes:wt.of(t.changes||[],e,i.facet(uD)),selection:r&&(r instanceof Y?r:Y.single(r.anchor,r.head)),effects:ma(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function vD(i,t,e){let r=Nb(i,t.length?t[0]:{},i.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(e=!1);let a=!!t[s].sequential;r=pD(r,Nb(i,t[s],a?r.changes.newLength:i.doc.length),a)}let n=Lt.create(i,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return k_e(e?x_e(n):n)}function x_e(i){let t=i.startState,e=!0;for(let n of t.facet(hD)){let s=n(i);if(s===!1){e=!1;break}Array.isArray(s)&&(e=e===!0?s:S_e(e,s))}if(e!==!0){let n,s;if(e===!1)s=i.changes.invertedDesc,n=wt.empty(t.doc.length);else{let a=i.changes.filter(e);n=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}i=Lt.create(t,n,i.selection&&i.selection.map(s),nt.mapEffects(i.effects,s),i.annotations,i.scrollIntoView)}let r=t.facet(cD);for(let n=r.length-1;n>=0;n--){let s=r[n](i);s instanceof Lt?i=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Lt?i=s[0]:i=vD(t,ma(s),!1)}return i}function k_e(i){let t=i.startState,e=t.facet(dD),r=i;for(let n=e.length-1;n>=0;n--){let s=e[n](i);s&&Object.keys(s).length&&(r=pD(r,Nb(t,s,i.changes.newLength),!0))}return r==i?i:Lt.create(t,i.changes,i.selection,r.effects,r.annotations,r.scrollIntoView)}const P_e=[];function ma(i){return i==null?P_e:Array.isArray(i)?i:[i]}var Ei=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Ei||(Ei={}));const T_e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Bb;try{Bb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function __e(i){if(Bb)return Bb.test(i);for(let t=0;t<i.length;t++){let e=i[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||T_e.test(e)))return!0}return!1}function E_e(i){return t=>{if(!/\S/.test(t))return Ei.Space;if(__e(t))return Ei.Word;for(let e=0;e<i.length;e++)if(t.indexOf(i[e])>-1)return Ei.Word;return Ei.Other}}class Pe{constructor(t,e,r,n,s,a){this.config=t,this.doc=e,this.selection=r,this.values=n,this.status=t.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)nl(this,o<<1);this.computeSlot=null}field(t,e=!0){let r=this.config.address[t.id];if(r==null){if(e)throw new RangeError("Field is not present in this state");return}return nl(this,r),gd(this,r)}update(...t){return vD(this,t,!0)}applyTransaction(t){let e=this.config,{base:r,compartments:n}=e;for(let a of t.effects)a.is(Df.reconfigure)?(e&&(n=new Map,e.compartments.forEach((o,l)=>n.set(l,o)),e=null),n.set(a.value.compartment,a.value.extension)):a.is(nt.reconfigure)?(e=null,r=a.value):a.is(nt.appendConfig)&&(e=null,r=ma(r).concat(a.value));let s;e?s=t.startState.values.slice():(e=vd.resolve(r,n,this),s=new Pe(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(o,l)=>l.reconfigure(o,this),null).values),new Pe(e,t.newDoc,t.newSelection,s,(a,o)=>o.update(a,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Y.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,r=t(e.ranges[0]),n=this.changes(r.changes),s=[r.range],a=ma(r.effects);for(let o=1;o<e.ranges.length;o++){let l=t(e.ranges[o]),u=this.changes(l.changes),h=u.map(n);for(let d=0;d<o;d++)s[d]=s[d].map(h);let c=n.mapDesc(u,!0);s.push(l.range.map(c)),n=n.compose(h),a=nt.mapEffects(a,h).concat(nt.mapEffects(ma(l.effects),c))}return{changes:n,selection:Y.create(s,e.mainIndex),effects:a}}changes(t=[]){return t instanceof wt?t:wt.of(t,this.doc.length,this.facet(Pe.lineSeparator))}toText(t){return Te.of(t.split(this.facet(Pe.lineSeparator)||Qb))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(nl(this,e),gd(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let n=t[r];n instanceof Ln&&this.config.address[n.id]!=null&&(e[r]=n.spec.toJSON(this.field(t[r]),this))}return e}static fromJSON(t,e={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(t,s)){let a=r[s],o=t[s];n.push(a.init(l=>a.spec.fromJSON(o,l)))}}return Pe.create({doc:t.doc,selection:Y.fromJSON(t.selection),extensions:e.extensions?n.concat([e.extensions]):n})}static create(t={}){let e=vd.resolve(t.extensions||[],new Map),r=t.doc instanceof Te?t.doc:Te.of((t.doc||"").split(e.staticFacet(Pe.lineSeparator)||Qb)),n=t.selection?t.selection instanceof Y?t.selection:Y.single(t.selection.anchor,t.selection.head):Y.single(0);return sD(n,r.length),e.staticFacet(lD)||(n=n.asSingle()),new Pe(e,r,n,e.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(Pe.tabSize)}get lineBreak(){return this.facet(Pe.lineSeparator)||`
`}get readOnly(){return this.facet(fD)}phrase(t,...e){for(let r of this.facet(Pe.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(r,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>e.length?r:e[s-1]})),t}languageDataAt(t,e,r=-1){let n=[];for(let s of this.facet(oD))for(let a of s(this,e,r))Object.prototype.hasOwnProperty.call(a,t)&&n.push(a[t]);return n}charCategorizer(t){return E_e(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:r,length:n}=this.doc.lineAt(t),s=this.charCategorizer(t),a=t-r,o=t-r;for(;a>0;){let l=_i(e,a,!1);if(s(e.slice(l,a))!=Ei.Word)break;a=l}for(;o<n;){let l=_i(e,o);if(s(e.slice(o,l))!=Ei.Word)break;o=l}return a==o?null:Y.range(a+r,o+r)}}Pe.allowMultipleSelections=lD;Pe.tabSize=le.define({combine:i=>i.length?i[0]:4});Pe.lineSeparator=uD;Pe.readOnly=fD;Pe.phrases=le.define({compare(i,t){let e=Object.keys(i),r=Object.keys(t);return e.length==r.length&&e.every(n=>i[n]==t[n])}});Pe.languageData=oD;Pe.changeFilter=hD;Pe.transactionFilter=cD;Pe.transactionExtender=dD;Df.reconfigure=nt.define();class ws{eq(t){return this==t}range(t,e=t){return Zb.create(t,e,this)}}ws.prototype.startSide=ws.prototype.endSide=0;ws.prototype.point=!1;ws.prototype.mapMode=Ut.TrackDel;let Zb=class gD{constructor(t,e,r){this.from=t,this.to=e,this.value=r}static create(t,e,r){return new gD(t,e,r)}};function Lb(i,t){return i.from-t.from||i.value.startSide-t.value.startSide}class r0{constructor(t,e,r,n){this.from=t,this.to=e,this.value=r,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(t,e,r,n=0){let s=r?this.to:this.from;for(let a=n,o=s.length;;){if(a==o)return a;let l=a+o>>1,u=s[l]-t||(r?this.value[l].endSide:this.value[l].startSide)-e;if(l==a)return u>=0?a:o;u>=0?o=l:a=l+1}}between(t,e,r,n){for(let s=this.findIndex(e,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(n(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,e){let r=[],n=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],h=this.from[l]+t,c=this.to[l]+t,d,f;if(h==c){let p=e.mapPos(h,u.startSide,u.mapMode);if(p==null||(d=f=p,u.startSide!=u.endSide&&(f=e.mapPos(h,u.endSide),f<d)))continue}else if(d=e.mapPos(h,u.startSide),f=e.mapPos(c,u.endSide),d>f||d==f&&u.startSide>0&&u.endSide<=0)continue;(f-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(o=Math.max(o,f-d)),r.push(u),n.push(d-a),s.push(f-a))}return{mapped:r.length?new r0(n,s,r,o):null,pos:a}}}class it{constructor(t,e,r,n){this.chunkPos=t,this.chunk=e,this.nextLayer=r,this.maxPoint=n}static create(t,e,r,n){return new it(t,e,r,n)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:r=!1,filterFrom:n=0,filterTo:s=this.length}=t,a=t.filter;if(e.length==0&&!a)return this;if(r&&(e=e.slice().sort(Lb)),this.isEmpty)return e.length?it.of(e):this;let o=new mD(this,null,-1).goto(0),l=0,u=[],h=new Cl;for(;o.value||l<e.length;)if(l<e.length&&(o.from-e[l].from||o.startSide-e[l].value.startSide)>=0){let c=e[l++];h.addInner(c.from,c.to,c.value)||u.push(c)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(o.chunkIndex)<e[l].from)&&(!a||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||n>o.to||s<o.from||a(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||u.push(Zb.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!u.length?it.empty:this.nextLayer.update({add:u,filter:a,filterFrom:n,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],r=[],n=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],u=t.touchesRange(o,o+l.length);if(u===!1)n=Math.max(n,l.maxPoint),e.push(l),r.push(t.mapPos(o));else if(u===!0){let{mapped:h,pos:c}=l.map(o,t);h&&(n=Math.max(n,h.maxPoint),e.push(h),r.push(c))}}let s=this.nextLayer.map(t);return e.length==0?s:new it(r,e,s||it.empty,n)}between(t,e,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],a=this.chunk[n];if(e>=s&&t<=s+a.length&&a.between(s,t-s,e-s,r)===!1)return}this.nextLayer.between(t,e,r)}}iter(t=0){return Il.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Il.from(t).goto(e)}static compare(t,e,r,n,s=-1){let a=t.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),o=e.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),l=O_(a,o,r),u=new Eo(a,l,s),h=new Eo(o,l,s);r.iterGaps((c,d,f)=>y_(u,c,h,d,f,n)),r.empty&&r.length==0&&y_(u,0,h,0,0,n)}static eq(t,e,r=0,n){n==null&&(n=1e9-1);let s=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0),a=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=O_(s,a),l=new Eo(s,o,0).goto(r),u=new Eo(a,o,0).goto(r);for(;;){if(l.to!=u.to||!zb(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>n)return!0;l.next(),u.next()}}static spans(t,e,r,n,s=-1){let a=new Eo(t,null,s).goto(e),o=e,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let h=a.activeForPoint(a.to),c=a.pointFrom<e?h.length+1:Math.min(h.length,l);n.point(o,u,a.point,h,c,a.pointRank),l=Math.min(a.openEnd(u),h.length)}else u>o&&(n.span(o,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(t,e=!1){let r=new Cl;for(let n of t instanceof Zb?[t]:e?C_e(t):t)r.add(n.from,n.to,n.value);return r.finish()}}it.empty=new it([],[],null,-1);function C_e(i){if(i.length>1)for(let t=i[0],e=1;e<i.length;e++){let r=i[e];if(Lb(t,r)>0)return i.slice().sort(Lb);t=r}return i}it.empty.nextLayer=it.empty;class Cl{finishChunk(t){this.chunks.push(new r0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,r){this.addInner(t,e,r)||(this.nextLayer||(this.nextLayer=new Cl)).add(t,e,r)}addInner(t,e,r){let n=t-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=e,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let r=e.value.length-1;return this.last=e.value[r],this.lastFrom=e.from[r]+t,this.lastTo=e.to[r]+t,!0}finish(){return this.finishInner(it.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=it.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function O_(i,t,e){let r=new Map;for(let s of i)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let n=new Set;for(let s of t)for(let a=0;a<s.chunk.length;a++){let o=r.get(s.chunk[a]);o!=null&&(e?e.mapPos(o):o)==s.chunkPos[a]&&!(e!=null&&e.touchesRange(o,o+s.chunk[a].length))&&n.add(s.chunk[a])}return n}class mD{constructor(t,e,r,n=0){this.layer=t,this.skip=e,this.minPoint=r,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,r){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<t||n.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],r=t+e.from[this.rangeIndex];if(this.from=r,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Il{constructor(t){this.heap=t}static from(t,e=null,r=-1){let n=[];for(let s=0;s<t.length;s++)for(let a=t[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&n.push(new mD(a,e,r,s));return n.length==1?n[0]:new Il(n)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let r of this.heap)r.goto(t,e);for(let r=this.heap.length>>1;r>=0;r--)hg(this.heap,r);return this.next(),this}forward(t,e){for(let r of this.heap)r.forward(t,e);for(let r=this.heap.length>>1;r>=0;r--)hg(this.heap,r);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),hg(this.heap,0)}}}function hg(i,t){for(let e=i[t];;){let r=(t<<1)+1;if(r>=i.length)break;let n=i[r];if(r+1<i.length&&n.compare(i[r+1])>=0&&(n=i[r+1],r++),e.compare(n)<0)break;i[r]=e,i[t]=n,t=r}}class Eo{constructor(t,e,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Il.from(t,e,r)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Lh(this.active,t),Lh(this.activeTo,t),Lh(this.activeRank,t),this.minActive=b_(this.active,this.activeTo)}addActive(t){let e=0,{value:r,to:n,rank:s}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=s;)e++;zh(this.active,e,r),zh(this.activeTo,e,n),zh(this.activeRank,e,s),t&&zh(t,e,this.cursor.from),this.minActive=b_(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>t){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),r&&Lh(r,n)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let n=r.length-1;n>=0&&r[n]<t;n--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&e.push(this.active[r]);return e.reverse()}openEnd(t){let e=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)e++;return e}}function y_(i,t,e,r,n,s){i.goto(t),e.goto(r);let a=r+n,o=r,l=r-t;for(;;){let u=i.to+l-e.to||i.endSide-e.endSide,h=u<0?i.to+l:e.to,c=Math.min(h,a);if(i.point||e.point?i.point&&e.point&&(i.point==e.point||i.point.eq(e.point))&&zb(i.activeForPoint(i.to),e.activeForPoint(e.to))||s.comparePoint(o,c,i.point,e.point):c>o&&!zb(i.active,e.active)&&s.compareRange(o,c,i.active,e.active),h>a)break;o=h,u<=0&&i.next(),u>=0&&e.next()}}function zb(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!=t[e]&&!i[e].eq(t[e]))return!1;return!0}function Lh(i,t){for(let e=t,r=i.length-1;e<r;e++)i[e]=i[e+1];i.pop()}function zh(i,t,e){for(let r=i.length-1;r>=t;r--)i[r+1]=i[r];i[t]=e}function b_(i,t){let e=-1,r=1e9;for(let n=0;n<t.length;n++)(t[n]-r||i[n].endSide-i[e].endSide)<0&&(e=n,r=t[n]);return e}function I_e(i,t,e,r){for(let n=0,s=0;;){if(s>=t)return n;if(n==i.length)break;s+=i.charCodeAt(n)==9?e-s%e:1,n=_i(i,n)}return r===!0?-1:i.length}const Fb="ͼ",$_=typeof Symbol>"u"?"__"+Fb:Symbol.for(Fb),jb=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class En{constructor(t,e){this.rules=[];let{finish:r}=e||{};function n(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,u){let h=[],c=/^@(\w+)\b/.exec(a[0]),d=c&&c[1]=="keyframes";if(c&&o==null)return l.push(a[0]+";");for(let f in o){let p=o[f];if(/&/.test(f))s(f.split(/,\s*/).map(v=>a.map(m=>v.replace(/&/,m))).reduce((v,m)=>v.concat(m)),p,l);else if(p&&typeof p=="object"){if(!c)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(n(f),p,h,d)}else p!=null&&h.push(f.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+p+";")}(h.length||d)&&l.push((r&&!c&&!u?a.map(r):a).join(", ")+" {"+h.join(" ")+"}")}for(let a in t)s(n(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=w_[$_]||1;return w_[$_]=t+1,Fb+t.toString(36)}static mount(t,e,r){let n=t[jb],s=r&&r.nonce;n?s&&n.setNonce(s):n=new Q_e(t,s),n.mount(Array.isArray(e)?e:[e])}}let S_=new Map;class Q_e{constructor(t,e){let r=t.ownerDocument||t,n=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&n.CSSStyleSheet){let s=S_.get(r);if(s)return t.adoptedStyleSheets=[s.sheet,...t.adoptedStyleSheets],t[jb]=s;this.sheet=new n.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],S_.set(r,this)}else{this.styleTag=r.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);let s=t.head||t;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],t[jb]=this}mount(t){let e=this.sheet,r=0,n=0;for(let s=0;s<t.length;s++){let a=t[s],o=this.modules.indexOf(a);if(o<n&&o>-1&&(this.modules.splice(o,1),n--,o=-1),o==-1){if(this.modules.splice(n++,0,a),e)for(let l=0;l<a.rules.length;l++)e.insertRule(a.rules[l],r++)}else{for(;n<o;)r+=this.modules[n++].rules.length;r+=a.rules.length,n++}}if(!e){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Cn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ql={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},A_e=typeof navigator<"u"&&/Mac/.test(navigator.platform),R_e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mt=0;Mt<10;Mt++)Cn[48+Mt]=Cn[96+Mt]=String(Mt);for(var Mt=1;Mt<=24;Mt++)Cn[Mt+111]="F"+Mt;for(var Mt=65;Mt<=90;Mt++)Cn[Mt]=String.fromCharCode(Mt+32),Ql[Mt]=String.fromCharCode(Mt);for(var cg in Cn)Ql.hasOwnProperty(cg)||(Ql[cg]=Cn[cg]);function M_e(i){var t=A_e&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||R_e&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Ql:Cn)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function md(i){let t;return i.nodeType==11?t=i.getSelection?i:i.ownerDocument:t=i,t.getSelection()}function Xb(i,t){return t?i==t||i.contains(t.nodeType!=1?t.parentNode:t):!1}function D_e(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Tc(i,t){if(!t.anchorNode)return!1;try{return Xb(i,t.anchorNode)}catch{return!1}}function Na(i){return i.nodeType==3?Ss(i,0,i.nodeValue.length).getClientRects():i.nodeType==1?i.getClientRects():[]}function Od(i,t,e,r){return e?x_(i,t,e,r,-1)||x_(i,t,e,r,1):!1}function yd(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t}function x_(i,t,e,r,n){for(;;){if(i==e&&t==r)return!0;if(t==(n<0?0:In(i))){if(i.nodeName=="DIV")return!1;let s=i.parentNode;if(!s||s.nodeType!=1)return!1;t=yd(i)+(n<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[t+(n<0?-1:0)],i.nodeType==1&&i.contentEditable=="false")return!1;t=n<0?In(i):0}else return!1}}function In(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Nf(i,t){let e=t?i.left:i.right;return{left:e,right:e,top:i.top,bottom:i.bottom}}function N_e(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function B_e(i,t,e,r,n,s,a,o){let l=i.ownerDocument,u=l.defaultView||window;for(let h=i,c=!1;h&&!c;)if(h.nodeType==1){let d,f=h==l.body,p=1,v=1;if(f)d=N_e(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(c=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let O=h.getBoundingClientRect();p=O.width/h.offsetWidth,v=O.height/h.offsetHeight,d={left:O.left,right:O.left+h.clientWidth*p,top:O.top,bottom:O.top+h.clientHeight*v}}let m=0,g=0;if(n=="nearest")t.top<d.top?(g=-(d.top-t.top+a),e>0&&t.bottom>d.bottom+g&&(g=t.bottom-d.bottom+g+a)):t.bottom>d.bottom&&(g=t.bottom-d.bottom+a,e<0&&t.top-g<d.top&&(g=-(d.top+g-t.top+a)));else{let O=t.bottom-t.top,b=d.bottom-d.top;g=(n=="center"&&O<=b?t.top+O/2-b/2:n=="start"||n=="center"&&e<0?t.top-a:t.bottom-b+a)-d.top}if(r=="nearest"?t.left<d.left?(m=-(d.left-t.left+s),e>0&&t.right>d.right+m&&(m=t.right-d.right+m+s)):t.right>d.right&&(m=t.right-d.right+s,e<0&&t.left<d.left+m&&(m=-(d.left+m-t.left+s))):m=(r=="center"?t.left+(t.right-t.left)/2-(d.right-d.left)/2:r=="start"==o?t.left-s:t.right-(d.right-d.left)+s)-d.left,m||g)if(f)u.scrollBy(m,g);else{let O=0,b=0;if(g){let y=h.scrollTop;h.scrollTop+=g/v,b=(h.scrollTop-y)*v}if(m){let y=h.scrollLeft;h.scrollLeft+=m/p,O=(h.scrollLeft-y)*p}t={left:t.left-O,top:t.top-b,right:t.right-O,bottom:t.bottom-b},O&&Math.abs(O-m)<1&&(r="nearest"),b&&Math.abs(b-g)<1&&(n="nearest")}if(f)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Z_e(i){let t=i.ownerDocument;for(let e=i.parentNode;e&&e!=t.body;)if(e.nodeType==1){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)return e;e=e.assignedSlot||e.parentNode}else if(e.nodeType==11)e=e.host;else break;return null}class L_e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:r}=t;this.set(e,Math.min(t.anchorOffset,e?In(e):0),r,Math.min(t.focusOffset,r?In(r):0))}set(t,e,r,n){this.anchorNode=t,this.anchorOffset=e,this.focusNode=r,this.focusOffset=n}}let Hs=null;function OD(i){if(i.setActive)return i.setActive();if(Hs)return i.focus(Hs);let t=[];for(let e=i;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(i.focus(Hs==null?{get preventScroll(){return Hs={preventScroll:!0},!0}}:void 0),!Hs){Hs=!1;for(let e=0;e<t.length;){let r=t[e++],n=t[e++],s=t[e++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let k_;function Ss(i,t,e=t){let r=k_||(k_=document.createRange());return r.setEnd(i,e),r.setStart(i,t),r}function Oa(i,t,e){let r={key:t,code:t,keyCode:e,which:e,cancelable:!0},n=new KeyboardEvent("keydown",r);n.synthetic=!0,i.dispatchEvent(n);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,i.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function z_e(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}function yD(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function F_e(i,t){let e=t.focusNode,r=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=r)return!1;for(r=Math.min(r,In(e));;)if(r){if(e.nodeType!=1)return!1;let n=e.childNodes[r-1];n.contentEditable=="false"?r--:(e=n,r=In(e))}else{if(e==i)return!0;r=yd(e),e=e.parentNode}}function bD(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}class qt{constructor(t,e,r=!0){this.node=t,this.offset=e,this.precise=r}static before(t,e){return new qt(t.parentNode,yd(t),e)}static after(t,e){return new qt(t.parentNode,yd(t)+1,e)}}const i0=[];class je{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let r of this.children){if(r==t)return e;e+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let r=this.dom,n=null,s;for(let a of this.children){if(a.flags&7){if(!a.dom&&(s=n?n.nextSibling:r.firstChild)){let o=je.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(t,e),a.flags&=-8}if(s=n?n.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&s!=a.dom&&(e.written=!0),a.dom.parentNode==r)for(;s&&s!=a.dom;)s=P_(s);else r.insertBefore(a.dom,s);n=a.dom}for(s=n?n.nextSibling:r.firstChild,s&&e&&e.node==r&&(e.written=!0);s;)s=P_(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(t,e),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let r;if(t==this.dom)r=this.dom.childNodes[e];else{let n=In(t)==0?0:e==0?-1:1;for(;;){let s=t.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(t==s.firstChild?n=-1:n=1),t=s}n<0?r=t:r=t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!je.get(r);)r=r.nextSibling;if(!r)return this.length;for(let n=0,s=0;;n++){let a=this.children[n];if(a.dom==r)return s;s+=a.length+a.breakAfter}}domBoundsAround(t,e,r=0){let n=-1,s=-1,a=-1,o=-1;for(let l=0,u=r,h=r;l<this.children.length;l++){let c=this.children[l],d=u+c.length;if(u<t&&d>e)return c.domBoundsAround(t,e,u);if(d>=t&&n==-1&&(n=l,s=u),u>e&&c.dom.parentNode==this.dom){a=l,o=h;break}h=d,u=d+c.breakAfter}return{from:s,to:o<0?r+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,r=i0){this.markDirty();for(let n=t;n<e;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(t,e-t,...r);for(let n=0;n<r.length;n++)r[n].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new $D(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,r,n,s,a){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}je.prototype.breakAfter=0;function P_(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}class $D{constructor(t,e,r){this.children=t,this.pos=e,this.i=r,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function wD(i,t,e,r,n,s,a,o,l){let{children:u}=i,h=u.length?u[t]:null,c=s.length?s[s.length-1]:null,d=c?c.breakAfter:a;if(!(t==r&&h&&!a&&!d&&s.length<2&&h.merge(e,n,s.length?c:null,e==0,o,l))){if(r<u.length){let f=u[r];f&&n<f.length?(t==r&&(f=f.split(n),n=0),!d&&c&&f.merge(0,n,c,!0,0,l)?s[s.length-1]=f:(n&&f.merge(0,n,null,!1,0,l),s.push(f))):f!=null&&f.breakAfter&&(c?c.breakAfter=1:a=1),r++}for(h&&(h.breakAfter=a,e>0&&(!a&&s.length&&h.merge(e,h.length,s[0],!1,o,0)?h.breakAfter=s.shift().breakAfter:(e<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(e,h.length,null,!1,o,0),t++));t<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:o;else if(u[t].become(s[0]))t++,s.shift(),o=s.length?0:l;else break;!s.length&&t&&r<u.length&&!u[t-1].breakAfter&&u[r].merge(0,0,u[t-1],!1,o,l)&&t--,(t<r||s.length)&&i.replaceChildren(t,r,s)}}function SD(i,t,e,r,n,s){let a=i.childCursor(),{i:o,off:l}=a.findPos(e,1),{i:u,off:h}=a.findPos(t,-1),c=t-e;for(let d of r)c+=d.length;i.length+=c,wD(i,u,h,o,l,r,0,n,s)}const ha="￿";class xD{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Pe.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=ha}readRange(t,e){if(!t)return this;let r=t.parentNode;for(let n=t;;){this.findPointBefore(r,n);let s=this.text.length;this.readNode(n);let a=n.nextSibling;if(a==e)break;let o=je.get(n),l=je.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:T_(n))||T_(a)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=a}return this.findPointBefore(r,e),this}readTextNode(t){let e=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,e.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=n.exec(e))&&(s=o.index,a=o[0].length),this.append(e.slice(r,s<0?e.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==t&&l.pos>this.text.length&&(l.pos-=a-1);r=s+a}}readNode(t){if(t.cmIgnore)return;let e=je.get(t),r=e&&e.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let n=r.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==e&&(r.pos=this.text.length)}findPointInside(t,e){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+Math.min(e,r.offset))}}function T_(i){return i.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class __{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}let br=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Yb=typeof document<"u"?document:{documentElement:{style:{}}};const Wb=/Edge\/(\d+)/.exec(br.userAgent),kD=/MSIE \d/.test(br.userAgent),Vb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(br.userAgent),Bf=!!(kD||Vb||Wb),E_=!Bf&&/gecko\/(\d+)/i.test(br.userAgent),dg=!Bf&&/Chrome\/(\d+)/.exec(br.userAgent),C_="webkitFontSmoothing"in Yb.documentElement.style,PD=!Bf&&/Apple Computer/.test(br.vendor),I_=PD&&(/Mobile\/\w+/.test(br.userAgent)||br.maxTouchPoints>2);var U={mac:I_||/Mac/.test(br.platform),windows:/Win/.test(br.platform),linux:/Linux|X11/.test(br.platform),ie:Bf,ie_version:kD?Yb.documentMode||6:Vb?+Vb[1]:Wb?+Wb[1]:0,gecko:E_,gecko_version:E_?+(/Firefox\/(\d+)/.exec(br.userAgent)||[0,0])[1]:0,chrome:!!dg,chrome_version:dg?+dg[1]:0,ios:I_,android:/Android\b/.test(br.userAgent),webkit:C_,safari:PD,webkit_version:C_?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Yb.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const j_e=256;class wi extends je{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,r){return this.flags&8||r&&(!(r instanceof wi)||this.length-(e-t)+r.length>j_e||r.flags&8)?!1:(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new wi(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new qt(this.dom,t)}domBoundsAround(t,e,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return X_e(this.dom,t,e)}}class Yi extends je{constructor(t,e=[],r=0){super(),this.mark=t,this.children=e,this.length=r;for(let n of e)n.setParent(this)}setAttrs(t){if(yD(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,r,n,s,a){return r&&(!(r instanceof Yi&&r.mark.eq(this.mark))||t&&s<=0||e<this.length&&a<=0)?!1:(SD(this,t,e,r?r.children:[],s-1,a-1),this.markDirty(),!0)}split(t){let e=[],r=0,n=-1,s=0;for(let o of this.children){let l=r+o.length;l>t&&e.push(r<t?o.split(t-r):o),n<0&&r>=t&&(n=s),r=l,s++}let a=this.length-t;return this.length=t,n>-1&&(this.children.length=n,this.markDirty()),new Yi(this.mark,e,a)}domAtPos(t){return TD(this,t)}coordsAt(t,e){return ED(this,t,e)}}function X_e(i,t,e){let r=i.nodeValue.length;t>r&&(t=r);let n=t,s=t,a=0;t==0&&e<0||t==r&&e>=0?U.chrome||U.gecko||(t?(n--,a=1):s<r&&(s++,a=-1)):e<0?n--:s<r&&s++;let o=Ss(i,n,s).getClientRects();if(!o.length)return null;let l=o[(a?a<0:e>=0)?0:o.length-1];return U.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,u=>u.width)||l),a?Nf(l,a<0):l||null}class rs extends je{static create(t,e,r){return new rs(t,e,r)}constructor(t,e,r){super(),this.widget=t,this.length=e,this.side=r,this.prevWidget=null}split(t){let e=rs.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,r,n,s,a){return r&&(!(r instanceof rs)||!this.widget.compare(r.widget)||t>0&&s<=0||e<this.length&&a<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-e),!0)}become(t){return t instanceof rs&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Te.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,n=this.posAtStart;return r?r.slice(n,n+this.length):Te.empty}domAtPos(t){return(this.length?t==0:this.side>0)?qt.before(this.dom):qt.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let r=this.widget.coordsAt(this.dom,t,e);if(r)return r;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let a=this.side?this.side<0:t>0;for(let o=a?n.length-1:0;s=n[o],!(t>0?o==0:o==n.length-1||s.top<s.bottom);o+=a?-1:1);return Nf(s,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ba extends je{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof Ba&&t.side==this.side}split(){return new Ba(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?qt.before(this.dom):qt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Te.empty}get isHidden(){return!0}}wi.prototype.children=rs.prototype.children=Ba.prototype.children=i0;function TD(i,t){let e=i.dom,{children:r}=i,n=0;for(let s=0;n<r.length;n++){let a=r[n],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(t>s&&t<o&&a.dom.parentNode==e)return a.domAtPos(t-s);if(t<=s)break;s=o}}for(let s=n;s>0;s--){let a=r[s-1];if(a.dom.parentNode==e)return a.domAtPos(a.length)}for(let s=n;s<r.length;s++){let a=r[s];if(a.dom.parentNode==e)return a.domAtPos(0)}return new qt(e,0)}function _D(i,t,e){let r,{children:n}=i;e>0&&t instanceof Yi&&n.length&&(r=n[n.length-1])instanceof Yi&&r.mark.eq(t.mark)?_D(r,t.children[0],e-1):(n.push(t),t.setParent(i)),i.length+=t.length}function ED(i,t,e){let r=null,n=-1,s=null,a=-1;function o(u,h){for(let c=0,d=0;c<u.children.length&&d<=h;c++){let f=u.children[c],p=d+f.length;p>=h&&(f.children.length?o(f,h-d):(!s||s.isHidden&&e>0)&&(p>h||d==p&&f.getSide()>0)?(s=f,a=h-d):(d<h||d==p&&f.getSide()<0&&!f.isHidden)&&(r=f,n=h-d)),d=p}}o(i,t);let l=(e<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?n:a),e):Y_e(i)}function Y_e(i){let t=i.dom.lastChild;if(!t)return i.dom.getBoundingClientRect();let e=Na(t);return e[e.length-1]||null}function Ub(i,t){for(let e in i)e=="class"&&t.class?t.class+=" "+i.class:e=="style"&&t.style?t.style+=";"+i.style:t[e]=i[e];return t}const Q_=Object.create(null);function n0(i,t,e){if(i==t)return!0;i||(i=Q_),t||(t=Q_);let r=Object.keys(i),n=Object.keys(t);if(r.length-(e&&r.indexOf(e)>-1?1:0)!=n.length-(e&&n.indexOf(e)>-1?1:0))return!1;for(let s of r)if(s!=e&&(n.indexOf(s)==-1||i[s]!==t[s]))return!1;return!0}function qb(i,t,e){let r=!1;if(t)for(let n in t)e&&n in e||(r=!0,n=="style"?i.style.cssText="":i.removeAttribute(n));if(e)for(let n in e)t&&t[n]==e[n]||(r=!0,n=="style"?i.style.cssText=e[n]:i.setAttribute(n,e[n]));return r}function W_e(i){let t=Object.create(null);for(let e=0;e<i.attributes.length;e++){let r=i.attributes[e];t[r.name]=r.value}return t}class Vu{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,r){return null}get isHidden(){return!1}destroy(t){}}var Bt=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(Bt||(Bt={}));class ut extends ws{constructor(t,e,r,n){super(),this.startSide=t,this.endSide=e,this.widget=r,this.spec=n}get heightRelevant(){return!1}static mark(t){return new Uu(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return e+=r&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Qn(t,e,e,r,t.widget||null,!1)}static replace(t){let e=!!t.block,r,n;if(t.isBlockGap)r=-5e8,n=4e8;else{let{start:s,end:a}=CD(t,e);r=(s?e?-3e8:-1:5e8)-1,n=(a?e?2e8:1:-6e8)+1}return new Qn(t,r,n,e,t.widget||null,!0)}static line(t){return new qu(t)}static set(t,e=!1){return it.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ut.none=it.empty;class Uu extends ut{constructor(t){let{start:e,end:r}=CD(t);super(e?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,r;return this==t||t instanceof Uu&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((r=t.attrs)===null||r===void 0?void 0:r.class))&&n0(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}Uu.prototype.point=!1;class qu extends ut{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof qu&&this.spec.class==t.spec.class&&n0(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}qu.prototype.mapMode=Ut.TrackBefore;qu.prototype.point=!0;class Qn extends ut{constructor(t,e,r,n,s,a){super(e,r,s,t),this.block=n,this.isReplace=a,this.mapMode=n?e<=0?Ut.TrackBefore:Ut.TrackAfter:Ut.TrackDel}get type(){return this.startSide<this.endSide?Bt.WidgetRange:this.startSide<=0?Bt.WidgetBefore:Bt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Qn&&V_e(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}Qn.prototype.point=!0;function CD(i,t=!1){let{inclusiveStart:e,inclusiveEnd:r}=i;return e==null&&(e=i.inclusive),r==null&&(r=i.inclusive),{start:e??t,end:r??t}}function V_e(i,t){return i==t||!!(i&&t&&i.compare(t))}function Gb(i,t,e,r=0){let n=e.length-1;n>=0&&e[n]+r>=i?e[n]=Math.max(e[n],t):e.push(i,t)}class Vt extends je{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,r,n,s,a){if(r){if(!(r instanceof Vt))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),SD(this,t,e,r?r.children:[],s,a),!0}split(t){let e=new Vt;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:r,off:n}=this.childPos(t);n&&(e.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)e.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){n0(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){_D(this,t,e)}addLineDeco(t){let e=t.spec.attributes,r=t.spec.class;e&&(this.attrs=Ub(e,this.attrs||{})),r&&(this.attrs=Ub({class:r},this.attrs||{}))}domAtPos(t){return TD(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var r;this.dom?this.flags&4&&(yD(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(qb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let n=this.dom.lastChild;for(;n&&je.get(n)instanceof Yi;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((r=je.get(n))===null||r===void 0?void 0:r.isEditable)==!1&&(!U.ios||!this.children.some(s=>s instanceof wi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let r of this.children){if(!(r instanceof wi)||/[^ -~]/.test(r.text))return null;let n=Na(r.dom);if(n.length!=1)return null;t+=n[0].width,e=n[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let r=ED(this,t,e);if(!this.children.length&&r&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let a=(s-n.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(t){return!1}get type(){return Bt.Text}static find(t,e){for(let r=0,n=0;r<t.children.length;r++){let s=t.children[r],a=n+s.length;if(a>=e){if(s instanceof Vt)return s;if(a>e)break}n=a+s.breakAfter}return null}}class ds extends je{constructor(t,e,r){super(),this.widget=t,this.length=e,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(t,e,r,n,s,a){return r&&(!(r instanceof ds)||!this.widget.compare(r.widget)||t>0&&s<=0||e<this.length&&a<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?qt.before(this.dom):qt.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let r=new ds(this.widget,e,this.type);return r.breakAfter=this.breakAfter,r}get children(){return i0}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Te.empty}domBoundsAround(){return null}become(t){return t instanceof ds&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.type=t.type,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class sl{constructor(t,e,r,n){this.doc=t,this.pos=e,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof ds&&t.type==Bt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Vt),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Fh(new Ba(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(t,e,r){for(;t>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-r)),this.getLine().append(Fh(new wi(this.text.slice(this.textOff,this.textOff+n)),e),r),this.atCursorPos=!0,this.textOff+=n,t-=n,r=0}}span(t,e,r,n){this.buildText(e-t,r,n),this.pos=e,this.openStart<0&&(this.openStart=n)}point(t,e,r,n,s,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Qn){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=e-t;if(r instanceof Qn)if(r.block){let{type:l}=r;l==Bt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ds(r.widget||new A_("div"),o,l))}else{let l=rs.create(r.widget||new A_("span"),o,o?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=n.length&&(t<e||r.startSide>0),h=!l.isEditable&&(t<e||s>n.length||r.startSide<=0),c=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),u&&(c.append(Fh(new Ba(1),n),s),s=n.length+Math.max(0,s-n.length)),c.append(Fh(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?t<e||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=s)}static build(t,e,r,n,s){let a=new sl(t,e,r,s);return a.openEnd=it.spans(n,e,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Fh(i,t){for(let e of t)i=new Yi(e,[i],i.length);return i}class A_ extends Vu{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const ID=le.define(),QD=le.define(),AD=le.define(),RD=le.define(),Hb=le.define(),MD=le.define(),DD=le.define(),ND=le.define({combine:i=>i.some(t=>t)}),U_e=le.define({combine:i=>i.some(t=>t)});class bd{constructor(t,e="nearest",r="nearest",n=5,s=5){this.range=t,this.y=e,this.x=r,this.yMargin=n,this.xMargin=s}map(t){return t.empty?this:new bd(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const R_=nt.define({map:(i,t)=>i.map(t)});function wn(i,t,e){let r=i.facet(RD);r.length?r[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const Zf=le.define({combine:i=>i.length?i[0]:!0});let q_e=0;const zo=le.define();class xs{constructor(t,e,r,n){this.id=t,this.create=e,this.domEventHandlers=r,this.extension=n(this)}static define(t,e){const{eventHandlers:r,provide:n,decorations:s}=e||{};return new xs(q_e++,t,r,a=>{let o=[zo.of(a)];return s&&o.push(Al.of(l=>{let u=l.plugin(a);return u?s(u):ut.none})),n&&o.push(n(a)),o})}static fromClass(t,e){return xs.define(r=>new t(r),e)}}class fg{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(r){if(wn(e.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){wn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(r){wn(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const BD=le.define(),s0=le.define(),Al=le.define(),a0=le.define(),ZD=le.define();function M_(i,t,e){let r=i.state.facet(ZD);if(!r.length)return r;let n=r.map(a=>a instanceof Function?a(i):a),s=[];return it.spans(n,t,e,{point(){},span(a,o,l,u){let h=s;for(let c=l.length-1;c>=0;c--,u--){let d=l[c].spec.bidiIsolate,f;if(d!=null)if(u>0&&h.length&&(f=h[h.length-1]).to==a&&f.direction==d)f.to=o,h=f.inner;else{let p={from:a,to:o,direction:d,inner:[]};h.push(p),h=p.inner}}}}),s}const LD=le.define();function zD(i){let t=0,e=0,r=0,n=0;for(let s of i.state.facet(LD)){let a=s(i);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(e=Math.max(e,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(n=Math.max(n,a.bottom)))}return{left:t,right:e,top:r,bottom:n}}const Fo=le.define();class Dr{constructor(t,e,r,n){this.fromA=t,this.toA=e,this.fromB=r,this.toB=n}join(t){return new Dr(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,r=this;for(;e>0;e--){let n=t[e-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),t.splice(e-1,1)}}return t.splice(e,0,r),t}static extendWithRanges(t,e){if(e.length==0)return t;let r=[];for(let n=0,s=0,a=0,o=0;;n++){let l=n==t.length?null:t[n],u=a-o,h=l?l.fromB:1e9;for(;s<e.length&&e[s]<h;){let c=e[s],d=e[s+1],f=Math.max(o,c),p=Math.min(h,d);if(f<=p&&new Dr(f+u,p+u,f,p).addToSet(r),d>h)break;s+=2}if(!l)return r;new Dr(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,o=l.toB}}}class $d{constructor(t,e,r){this.view=t,this.state=e,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=wt.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,a,o,l)=>n.push(new Dr(s,a,o,l))),this.changedRanges=n}static create(t,e,r){return new $d(t,e,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Gt=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(Gt||(Gt={}));const Rl=Gt.LTR,FD=Gt.RTL;function jD(i){let t=[];for(let e=0;e<i.length;e++)t.push(1<<+i[e]);return t}const G_e=jD("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),H_e=jD("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Kb=Object.create(null),ai=[];for(let i of["()","[]","{}"]){let t=i.charCodeAt(0),e=i.charCodeAt(1);Kb[t]=e,Kb[e]=-t}function K_e(i){return i<=247?G_e[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?H_e[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8203?256:64336<=i&&i<=65023?4:i==8204?256:1}const J_e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class gn{get dir(){return this.level%2?FD:Rl}constructor(t,e,r){this.from=t,this.to=e,this.level=r}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,r,n){let s=-1;for(let a=0;a<t.length;a++){let o=t[a];if(o.from<=e&&o.to>=e){if(o.level==r)return a;(s<0||(n!=0?n<0?o.from<e:o.to>e:t[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function XD(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++){let r=i[e],n=t[e];if(r.from!=n.from||r.to!=n.to||r.direction!=n.direction||!XD(r.inner,n.inner))return!1}return!0}const Ae=[];function eEe(i,t,e,r,n){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:t,o=s<r.length?r[s].from:e,l=s?256:n;for(let u=a,h=l,c=l;u<o;u++){let d=K_e(i.charCodeAt(u));d==512?d=h:d==8&&c==4&&(d=16),Ae[u]=d==4?2:d,d&7&&(c=d),h=d}for(let u=a,h=l,c=l;u<o;u++){let d=Ae[u];if(d==128)u<o-1&&h==Ae[u+1]&&h&24?d=Ae[u]=h:Ae[u]=256;else if(d==64){let f=u+1;for(;f<o&&Ae[f]==64;)f++;let p=u&&h==8||f<e&&Ae[f]==8?c==1?1:8:256;for(let v=u;v<f;v++)Ae[v]=p;u=f-1}else d==8&&c==1&&(Ae[u]=1);h=d,d&7&&(c=d)}}}function tEe(i,t,e,r,n){let s=n==1?2:1;for(let a=0,o=0,l=0;a<=r.length;a++){let u=a?r[a-1].to:t,h=a<r.length?r[a].from:e;for(let c=u,d,f,p;c<h;c++)if(f=Kb[d=i.charCodeAt(c)])if(f<0){for(let v=o-3;v>=0;v-=3)if(ai[v+1]==-f){let m=ai[v+2],g=m&2?n:m&4?m&1?s:n:0;g&&(Ae[c]=Ae[ai[v]]=g),o=v;break}}else{if(ai.length==189)break;ai[o++]=c,ai[o++]=d,ai[o++]=l}else if((p=Ae[c])==2||p==1){let v=p==n;l=v?0:1;for(let m=o-3;m>=0;m-=3){let g=ai[m+2];if(g&2)break;if(v)ai[m+2]|=2;else{if(g&4)break;ai[m+2]|=4}}}}}function rEe(i,t,e,r){for(let n=0,s=r;n<=e.length;n++){let a=n?e[n-1].to:i,o=n<e.length?e[n].from:t;for(let l=a;l<o;){let u=Ae[l];if(u==256){let h=l+1;for(;;)if(h==o){if(n==e.length)break;h=e[n++].to,o=n<e.length?e[n].from:t}else if(Ae[h]==256)h++;else break;let c=s==1,d=(h<t?Ae[h]:r)==1,f=c==d?c?1:2:r;for(let p=h,v=n,m=v?e[v-1].to:i;p>l;)p==m&&(p=e[--v].from,m=v?e[v-1].to:i),Ae[--p]=f;l=h}else s=u,l++}}}function Jb(i,t,e,r,n,s,a){let o=r%2?2:1;if(r%2==n%2)for(let l=t,u=0;l<e;){let h=!0,c=!1;if(u==s.length||l<s[u].from){let v=Ae[l];v!=o&&(h=!1,c=v==16)}let d=!h&&o==1?[]:null,f=h?r:r+1,p=l;e:for(;;)if(u<s.length&&p==s[u].from){if(c)break e;let v=s[u];if(!h)for(let m=v.to,g=u+1;;){if(m==e)break e;if(g<s.length&&s[g].from==m)m=s[g++].to;else{if(Ae[m]==o)break e;break}}if(u++,d)d.push(v);else{v.from>l&&a.push(new gn(l,v.from,f));let m=v.direction==Rl!=!(f%2);e$(i,m?r+1:r,n,v.inner,v.from,v.to,a),l=v.to}p=v.to}else{if(p==e||(h?Ae[p]!=o:Ae[p]==o))break;p++}d?Jb(i,l,p,r+1,n,d,a):l<p&&a.push(new gn(l,p,f)),l=p}else for(let l=e,u=s.length;l>t;){let h=!0,c=!1;if(!u||l>s[u-1].to){let v=Ae[l-1];v!=o&&(h=!1,c=v==16)}let d=!h&&o==1?[]:null,f=h?r:r+1,p=l;e:for(;;)if(u&&p==s[u-1].to){if(c)break e;let v=s[--u];if(!h)for(let m=v.from,g=u;;){if(m==t)break e;if(g&&s[g-1].to==m)m=s[--g].from;else{if(Ae[m-1]==o)break e;break}}if(d)d.push(v);else{v.to<l&&a.push(new gn(v.to,l,f));let m=v.direction==Rl!=!(f%2);e$(i,m?r+1:r,n,v.inner,v.from,v.to,a),l=v.from}p=v.from}else{if(p==t||(h?Ae[p-1]!=o:Ae[p-1]==o))break;p--}d?Jb(i,p,l,r+1,n,d,a):p<l&&a.push(new gn(p,l,f)),l=p}}function e$(i,t,e,r,n,s,a){let o=t%2?2:1;eEe(i,n,s,r,o),tEe(i,n,s,r,o),rEe(n,s,r,o),Jb(i,n,s,t,e,r,a)}function iEe(i,t,e){if(!i)return[new gn(0,0,t==FD?1:0)];if(t==Rl&&!e.length&&!J_e.test(i))return YD(i.length);if(e.length)for(;i.length>Ae.length;)Ae[Ae.length]=256;let r=[],n=t==Rl?0:1;return e$(i,n,n,e,0,i.length,r),r}function YD(i){return[new gn(0,i,0)]}let WD="";function nEe(i,t,e,r,n){var s;let a=r.head-i.from,o=-1;if(a==0){if(!n||!i.length)return null;t[0].level!=e&&(a=t[0].side(!1,e),o=0)}else if(a==i.length){if(n)return null;let d=t[t.length-1];d.level!=e&&(a=d.side(!0,e),o=t.length-1)}o<0&&(o=gn.find(t,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=t[o];a==l.side(n,e)&&(l=t[o+=n?1:-1],a=l.side(!n,e));let u=n==(l.dir==e),h=_i(i.text,a,u);if(WD=i.text.slice(Math.min(a,h),Math.max(a,h)),h!=l.side(n,e))return Y.cursor(h+i.from,u?-1:1,l.level);let c=o==(n?t.length-1:0)?null:t[o+(n?1:-1)];return!c&&l.level!=e?Y.cursor(n?i.to:i.from,n?-1:1,e):c&&c.level<l.level?Y.cursor(c.side(!n,e)+i.from,n?1:-1,c.level):Y.cursor(h+i.from,n?-1:1,l.level)}class D_ extends je{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Vt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Dr(0,0,0,t.state.doc.length)],0,null)}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:o,toA:l})=>l<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=this.view.inputState.composing<0?null:aEe(this.view,t.changes);if(this.hasComposition){this.markedForComposition.clear();let{from:o,to:l}=this.hasComposition;e=new Dr(o,l,t.changes.mapPos(o,-1),t.changes.mapPos(l,1)).addToSet(e.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(U.ie||U.chrome)&&!r&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,s=this.updateDeco(),a=uEe(n,s,t.changes);return e=Dr.extendWithRanges(e,a),!(this.flags&7)&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length,r),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,r);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=U.chrome||U.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||n.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof ds&&a.widget instanceof N_&&s.push(a.dom);n.updateGaps(s)}updateChildren(t,e,r){let n=r?r.range.addToSet(t.slice()):t,s=this.childCursor(e);for(let a=n.length-1;;a--){let o=a>=0?n[a]:null;if(!o)break;let{fromA:l,toA:u,fromB:h,toB:c}=o,d,f,p,v;if(r&&r.range.fromB<c&&r.range.toB>h){let y=sl.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=sl.build(this.view.state.doc,r.range.toB,c,this.decorations,this.dynamicDecorationMap);f=y.breakAtStart,p=y.openStart,v=w.openEnd;let x=this.compositionView(r);w.breakAtStart?x.breakAfter=1:w.content.length&&x.merge(x.length,x.length,w.content[0],!1,w.openStart,0)&&(x.breakAfter=w.content[0].breakAfter,w.content.shift()),y.content.length&&x.merge(0,0,y.content[y.content.length-1],!0,0,y.openEnd)&&y.content.pop(),d=y.content.concat(x).concat(w.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:v}=sl.build(this.view.state.doc,h,c,this.decorations,this.dynamicDecorationMap));let{i:m,off:g}=s.findPos(u,1),{i:O,off:b}=s.findPos(l,-1);wD(this,O,b,m,g,d,f,p,v)}r&&this.fixCompositionDOM(r)}compositionView(t){let e=new wi(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new Yi(n,[e],e.length);let r=new Vt;return r.append(e,0),r}fixCompositionDOM(t){let e=(s,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let o=je.get(s);o!=a&&(o&&(o.dom=null),a.setDOM(s))},r=this.childPos(t.range.fromB,1),n=this.children[r.i];e(t.line,n);for(let s=t.marks.length-1;s>=-1;s--)r=n.childPos(r.off,1),n=n.children[r.i],e(s>=0?t.marks[s].node:t.text,n)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,n=r==this.dom,s=!n&&Tc(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(n||e||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.domAtPos(o.anchor),u=o.empty?l:this.domAtPos(o.head);if(U.gecko&&o.empty&&!this.hasComposition&&sEe(l)){let c=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(c,l.node.childNodes[l.offset]||null)),l=u=new qt(c,0),a=!0}let h=this.view.observer.selectionRange;(a||!h.focusNode||!Od(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Od(u.node,u.offset,h.focusNode,h.focusOffset))&&(this.view.observer.ignore(()=>{U.android&&U.chrome&&this.dom.contains(h.focusNode)&&hEe(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let c=md(this.view.root);if(c)if(o.empty){if(U.gecko){let d=oEe(l.node,l.offset);if(d&&d!=3){let f=UD(l.node,l.offset,d==1?1:-1);f&&(l=new qt(f,d==1?0:f.nodeValue.length))}}c.collapse(l.node,l.offset),o.bidiLevel!=null&&h.caretBidiLevel!=null&&(h.caretBidiLevel=o.bidiLevel)}else if(c.extend){c.collapse(l.node,l.offset);try{c.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();o.anchor>o.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new qt(h.anchorNode,h.anchorOffset),this.impreciseHead=u.precise?null:new qt(h.focusNode,h.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,r=md(t.root),{anchorNode:n,anchorOffset:s}=t.observer.selectionRange;if(!r||!e.empty||!e.assoc||!r.modify)return;let a=Vt.find(this,e.head);if(!a)return;let o=a.posAtStart;if(e.head==o||e.head==o+a.length)return;let l=this.coordsAt(e.head,-1),u=this.coordsAt(e.head,1);if(!l||!u||l.bottom>u.top)return;let h=this.domAtPos(e.head+e.assoc);r.collapse(h.node,h.offset),r.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let c=t.observer.selectionRange;t.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=e.from&&r.collapse(n,s)}nearest(t){for(let e=t;e;){let r=je.get(e);if(r&&r.rootView==this)return r;e=e.parentNode}return null}posFromDOM(t,e){let r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,e)+r.posAtStart}domAtPos(t){let{i:e,off:r}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let n=this.children[e];if(r<n.length||n instanceof Vt)break;e++,r=0}return this.children[e].domAtPos(r)}coordsAt(t,e){for(let r=this.length,n=this.children.length-1;;n--){let s=this.children[n],a=r-s.breakAfter-s.length;if(t>a||t==a&&s.type!=Bt.WidgetBefore&&s.type!=Bt.WidgetAfter&&(!n||e==2||this.children[n-1].breakAfter||this.children[n-1].type==Bt.WidgetBefore&&e>-2))return s.coordsAt(t-a,e);r=a}}coordsForChar(t){let{i:e,off:r}=this.childPos(t,1),n=this.children[e];if(!(n instanceof Vt))return null;for(;n.children.length;){let{i:o,off:l}=n.childPos(r,1);for(;;o++){if(o==n.children.length)return null;if((n=n.children[o]).length)break}r=l}if(!(n instanceof wi))return null;let s=_i(n.text,r);if(s==r)return null;let a=Ss(n.dom,r,s).getClientRects();return!a.length||a[0].top>=a[0].bottom?null:a[0]}measureVisibleLineHeights(t){let e=[],{from:r,to:n}=t,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Gt.LTR;for(let u=0,h=0;h<this.children.length;h++){let c=this.children[h],d=u+c.length;if(d>n)break;if(u>=r){let f=c.dom.getBoundingClientRect();if(e.push(f.height),a){let p=c.dom.lastChild,v=p?Na(p):[];if(v.length){let m=v[v.length-1],g=l?m.right-f.left:f.right-m.left;g>o&&(o=g,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+c.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?Gt.RTL:Gt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Vt){let a=s.measureTextSize();if(a)return a}let t=document.createElement("div"),e,r,n;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let s=Na(t.firstChild)[0];e=t.getBoundingClientRect().height,r=s?s.width/27:7,n=s?s.height:e,t.remove()}),{lineHeight:e,charWidth:r,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new $D(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let r=0,n=0;;n++){let s=n==e.viewports.length?null:e.viewports[n],a=s?s.from-1:this.length;if(a>r){let o=(e.lineBlockAt(a).bottom-e.lineBlockAt(r).top)/this.view.scaleY;t.push(ut.replace({widget:new N_(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return ut.set(t)}updateDeco(){let t=this.view.state.facet(Al).map((e,r)=>(this.dynamicDecorationMap[r]=typeof e=="function")?e(this.view):e);for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let{range:e}=t,r=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),n;if(!r)return;!e.empty&&(n=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(r={left:Math.min(r.left,n.left),top:Math.min(r.top,n.top),right:Math.max(r.right,n.right),bottom:Math.max(r.bottom,n.bottom)});let s=zD(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom};B_e(this.view.scrollDOM,a,e.head<e.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==Gt.LTR)}}function sEe(i){return i.node.nodeType==1&&i.node.firstChild&&(i.offset==0||i.node.childNodes[i.offset-1].contentEditable=="false")&&(i.offset==i.node.childNodes.length||i.node.childNodes[i.offset].contentEditable=="false")}class N_ extends Vu{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function VD(i,t){let e=i.observer.selectionRange,r=e.focusNode&&UD(e.focusNode,e.focusOffset,0);if(!r)return null;let n=je.get(r),s,a;if(n instanceof wi)s=n.posAtStart,a=s+n.length;else{let o=Math.max(0,r.nodeValue.length-t);e:for(let l=0,u=r;;){for(let c=u.previousSibling,d;c;c=c.previousSibling){if(d=je.get(c)){a=d.posAtEnd+l,s=Math.max(0,a-o);break e}let f=new xD([],i.state);if(f.readNode(c),f.text.indexOf(ha)>-1)return null;l+=f.text.length}if(u=u.parentNode,!u)return null;let h=je.get(u);if(h){s=h.posAtStart+l,a=s+o;break}}}return{from:s,to:a,node:r}}function aEe(i,t){let e=VD(i,t.newLength-t.length);if(!e)return null;let{from:r,to:n,node:s}=e,a=t.mapPos(r,-1),o=t.mapPos(n,1),l=s.nodeValue;if(/[\n\r]/.test(l))return null;if(o-a!=l.length){let d=t.mapPos(r,1),f=t.mapPos(n,-1);if(f-d==l.length)a=d,o=f;else if(i.state.doc.sliceString(o-l.length,o)==l)a=o-l.length;else if(i.state.doc.sliceString(a,a+l.length)==l)o=a+l.length;else return null}let{main:u}=i.state.selection;if(i.state.doc.sliceString(a,o)!=l||a>u.head||o<u.head)return null;let h=[],c=new Dr(r,n,a,o);for(let d=s.parentNode;;d=d.parentNode){let f=je.get(d);if(f instanceof Yi)h.push({node:d,deco:f.mark});else{if(f instanceof Vt||d.nodeName=="DIV"&&d.parentNode==i.contentDOM)return{range:c,text:s,marks:h,line:d};if(d!=i.contentDOM)h.push({node:d,deco:new Uu({inclusive:!0,attributes:W_e(d),tagName:d.tagName.toLowerCase()})});else return null}}}function UD(i,t,e){if(e<=0)for(let r=i,n=t;;){if(r.nodeType==3)return r;if(r.nodeType==1&&n>0)r=r.childNodes[n-1],n=In(r);else break}if(e>=0)for(let r=i,n=t;;){if(r.nodeType==3)return r;if(r.nodeType==1&&n<r.childNodes.length&&e>=0)r=r.childNodes[n],n=0;else break}return null}function oEe(i,t){return i.nodeType!=1?0:(t&&i.childNodes[t-1].contentEditable=="false"?1:0)|(t<i.childNodes.length&&i.childNodes[t].contentEditable=="false"?2:0)}let lEe=class{constructor(){this.changes=[]}compareRange(t,e){Gb(t,e,this.changes)}comparePoint(t,e){Gb(t,e,this.changes)}};function uEe(i,t,e){let r=new lEe;return it.compare(i,t,e,r),r.changes}function hEe(i,t){for(let e=i;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function cEe(i,t,e=1){let r=i.charCategorizer(t),n=i.doc.lineAt(t),s=t-n.from;if(n.length==0)return Y.cursor(t);s==0?e=1:s==n.length&&(e=-1);let a=s,o=s;e<0?a=_i(n.text,s,!1):o=_i(n.text,s);let l=r(n.text.slice(a,o));for(;a>0;){let u=_i(n.text,a,!1);if(r(n.text.slice(u,a))!=l)break;a=u}for(;o<n.length;){let u=_i(n.text,o);if(r(n.text.slice(o,u))!=l)break;o=u}return Y.range(a+n.from,o+n.from)}function dEe(i,t){return t.left>i?t.left-i:Math.max(0,i-t.right)}function fEe(i,t){return t.top>i?t.top-i:Math.max(0,i-t.bottom)}function pg(i,t){return i.top<t.bottom-1&&i.bottom>t.top+1}function B_(i,t){return t<i.top?{top:t,left:i.left,right:i.right,bottom:i.bottom}:i}function Z_(i,t){return t>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:t}:i}function t$(i,t,e){let r,n,s,a,o=!1,l,u,h,c;for(let p=i.firstChild;p;p=p.nextSibling){let v=Na(p);for(let m=0;m<v.length;m++){let g=v[m];n&&pg(n,g)&&(g=B_(Z_(g,n.bottom),n.top));let O=dEe(t,g),b=fEe(e,g);if(O==0&&b==0)return p.nodeType==3?L_(p,t,e):t$(p,t,e);if(!r||a>b||a==b&&s>O){r=p,n=g,s=O,a=b;let y=b?e<g.top?-1:1:O?t<g.left?-1:1:0;o=!y||(y>0?m<v.length-1:m>0)}O==0?e>g.bottom&&(!h||h.bottom<g.bottom)?(l=p,h=g):e<g.top&&(!c||c.top>g.top)&&(u=p,c=g):h&&pg(h,g)?h=Z_(h,g.bottom):c&&pg(c,g)&&(c=B_(c,g.top))}}if(h&&h.bottom>=e?(r=l,n=h):c&&c.top<=e&&(r=u,n=c),!r)return{node:i,offset:0};let d=Math.max(n.left,Math.min(n.right,t));if(r.nodeType==3)return L_(r,d,e);if(o&&r.contentEditable!="false")return t$(r,d,e);let f=Array.prototype.indexOf.call(i.childNodes,r)+(t>=(n.left+n.right)/2?1:0);return{node:i,offset:f}}function L_(i,t,e){let r=i.nodeValue.length,n=-1,s=1e9,a=0;for(let o=0;o<r;o++){let l=Ss(i,o,o+1).getClientRects();for(let u=0;u<l.length;u++){let h=l[u];if(h.top==h.bottom)continue;a||(a=t-h.left);let c=(h.top>e?h.top-e:e-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&c<s){let d=t>=(h.left+h.right)/2,f=d;if((U.chrome||U.gecko)&&Ss(i,o).getBoundingClientRect().left==h.right&&(f=!d),c<=0)return{node:i,offset:o+(f?1:0)};n=o+(f?1:0),s=c}}}return{node:i,offset:n>-1?n:a>0?i.nodeValue.length:0}}function qD(i,t,e,r=-1){var n,s;let a=i.contentDOM.getBoundingClientRect(),o=a.top+i.viewState.paddingTop,l,{docHeight:u}=i.viewState,{x:h,y:c}=t,d=c-o;if(d<0)return 0;if(d>u)return i.state.doc.length;for(let y=i.viewState.heightOracle.textHeight/2,w=!1;l=i.elementAtHeight(d),l.type!=Bt.Text;)for(;d=r>0?l.bottom+y:l.top-y,!(d>=0&&d<=u);){if(w)return e?null:0;w=!0,r=-r}c=o+d;let f=l.from;if(f<i.viewport.from)return i.viewport.from==0?0:e?null:z_(i,a,l,h,c);if(f>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:e?null:z_(i,a,l,h,c);let p=i.dom.ownerDocument,v=i.root.elementFromPoint?i.root:p,m=v.elementFromPoint(h,c);m&&!i.contentDOM.contains(m)&&(m=null),m||(h=Math.max(a.left+1,Math.min(a.right-1,h)),m=v.elementFromPoint(h,c),m&&!i.contentDOM.contains(m)&&(m=null));let g,O=-1;if(m&&((n=i.docView.nearest(m))===null||n===void 0?void 0:n.isEditable)!=!1){if(p.caretPositionFromPoint){let y=p.caretPositionFromPoint(h,c);y&&({offsetNode:g,offset:O}=y)}else if(p.caretRangeFromPoint){let y=p.caretRangeFromPoint(h,c);y&&({startContainer:g,startOffset:O}=y,(!i.contentDOM.contains(g)||U.safari&&pEe(g,O,h)||U.chrome&&vEe(g,O,h))&&(g=void 0))}}if(!g||!i.docView.dom.contains(g)){let y=Vt.find(i.docView,f);if(!y)return d>l.top+l.height/2?l.to:l.from;({node:g,offset:O}=t$(y.dom,h,c))}let b=i.docView.nearest(g);if(!b)return null;if(b.isWidget&&((s=b.dom)===null||s===void 0?void 0:s.nodeType)==1){let y=b.dom.getBoundingClientRect();return t.y<y.top||t.y<=y.bottom&&t.x<=(y.left+y.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(g,O)+b.posAtStart}function z_(i,t,e,r,n){let s=Math.round((r-t.left)*i.defaultCharacterWidth);if(i.lineWrapping&&e.height>i.defaultLineHeight*1.5){let o=i.viewState.heightOracle.textHeight,l=Math.floor((n-e.top-(i.defaultLineHeight-o)*.5)/o);s+=l*i.viewState.heightOracle.lineLength}let a=i.state.sliceDoc(e.from,e.to);return e.from+I_e(a,s,i.state.tabSize)}function pEe(i,t,e){let r;if(i.nodeType!=3||t!=(r=i.nodeValue.length))return!1;for(let n=i.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return Ss(i,r-1,r).getBoundingClientRect().left>e}function vEe(i,t,e){if(t!=0)return!1;for(let n=i;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let r=i.nodeType==1?i.getBoundingClientRect():Ss(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect();return e-r.left>5}function gEe(i,t){let e=i.lineBlockAt(t);if(Array.isArray(e.type)){for(let r of e.type)if(r.to>t||r.to==t&&(r.to==e.to||r.type==Bt.Text))return r}return e}function mEe(i,t,e,r){let n=gEe(i,t.head),s=!r||n.type!=Bt.Text||!(i.lineWrapping||n.widgetLineBreaks)?null:i.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head);if(s){let a=i.dom.getBoundingClientRect(),o=i.textDirectionAt(n.from),l=i.posAtCoords({x:e==(o==Gt.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Y.cursor(l,e?-1:1)}return Y.cursor(e?n.to:n.from,e?-1:1)}function F_(i,t,e,r){let n=i.state.doc.lineAt(t.head),s=i.bidiSpans(n),a=i.textDirectionAt(n.from);for(let o=t,l=null;;){let u=nEe(n,s,a,o,e),h=WD;if(!u){if(n.number==(e?i.state.doc.lines:1))return o;h=`
`,n=i.state.doc.line(n.number+(e?1:-1)),s=i.bidiSpans(n),u=Y.cursor(e?n.from:n.to)}if(l){if(!l(h))return o}else{if(!r)return u;l=r(h)}o=u}}function OEe(i,t,e){let r=i.state.charCategorizer(t),n=r(e);return s=>{let a=r(s);return n==Ei.Space&&(n=a),n==a}}function yEe(i,t,e,r){let n=t.head,s=e?1:-1;if(n==(e?i.state.doc.length:0))return Y.cursor(n,t.assoc);let a=t.goalColumn,o,l=i.contentDOM.getBoundingClientRect(),u=i.coordsAtPos(n),h=i.documentTop;if(u)a==null&&(a=u.left-l.left),o=s<0?u.top:u.bottom;else{let f=i.viewState.lineBlockAt(n);a==null&&(a=Math.min(l.right-l.left,i.defaultCharacterWidth*(n-f.from))),o=(s<0?f.top:f.bottom)+h}let c=l.left+a,d=r??i.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=o+(d+f)*s,v=qD(i,{x:c,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?v<n:v>n))return Y.cursor(v,t.assoc,void 0,a)}}function _c(i,t,e){for(;;){let r=0;for(let n of i)n.between(t-1,t+1,(s,a,o)=>{if(t>s&&t<a){let l=r||e||(t-s<a-t?-1:1);t=l<0?s:a,r=l}});if(!r)return t}}function vg(i,t,e){let r=_c(i.state.facet(a0).map(n=>n(i)),e.from,t.head>e.from?-1:1);return r==e.from?e:Y.cursor(r,r<e.from?1:-1)}class bEe{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let e=(r,n)=>{this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(t,n)||(this.mustFlushObserver(n)&&t.observer.forceFlush(),this.runCustomHandlers(n.type,t,n)?n.preventDefault():r(t,n))};for(let r in ht){let n=ht[r];t.contentDOM.addEventListener(r,s=>{j_(t,s)&&e(n,s)},r$[r]),this.registeredEvents.push(r)}t.scrollDOM.addEventListener("mousedown",r=>{if(r.target==t.scrollDOM&&r.clientY>t.contentDOM.getBoundingClientRect().bottom&&(e(ht.mousedown,r),!r.defaultPrevented&&r.button==2)){let n=t.contentDOM.style.minHeight;t.contentDOM.style.minHeight="100%",setTimeout(()=>t.contentDOM.style.minHeight=n,200)}}),t.scrollDOM.addEventListener("drop",r=>{r.target==t.scrollDOM&&r.clientY>t.contentDOM.getBoundingClientRect().bottom&&e(ht.drop,r)}),U.chrome&&U.chrome_version==102&&t.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=t.hasFocus,U.safari&&t.contentDOM.addEventListener("input",()=>null),U.gecko&&REe(t.contentDOM.ownerDocument)}ensureHandlers(t,e){var r;let n;this.customHandlers=[];for(let s of e)if(n=(r=s.update(t).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:n});for(let a in n)this.registeredEvents.indexOf(a)<0&&a!="scroll"&&(this.registeredEvents.push(a),t.contentDOM.addEventListener(a,o=>{j_(t,o)&&this.runCustomHandlers(a,t,o)&&o.preventDefault()}))}}runCustomHandlers(t,e,r){for(let n of this.customHandlers){let s=n.handlers[t];if(s)try{if(s.call(n.plugin,r,e)||r.defaultPrevented)return!0}catch(a){wn(e.state,a)}}return!1}runScrollHandlers(t,e){this.lastScrollTop=t.scrollDOM.scrollTop,this.lastScrollLeft=t.scrollDOM.scrollLeft;for(let r of this.customHandlers){let n=r.handlers.scroll;if(n)try{n.call(r.plugin,e,t)}catch(s){wn(t.state,s)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&HD.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0),U.android&&U.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return U.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=GD.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||$Ee.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(t),250),!0):!1}flushIOSKey(t){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Oa(t.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:U.safari&&!U.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(t){return t.type=="keydown"&&t.keyCode!=229}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const GD=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$Ee="dthko",HD=[16,17,18,20,91,92,224,225],jh=6;function Xh(i){return Math.max(0,i)*.7+8}function wEe(i,t){return Math.max(Math.abs(i.clientX-t.clientX),Math.abs(i.clientY-t.clientY))}class SEe{constructor(t,e,r,n){this.view=t,this.startEvent=e,this.style=r,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=Z_e(t.contentDOM),this.atoms=t.state.facet(a0).map(a=>a(t));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Pe.allowMultipleSelections)&&xEe(t,e),this.dragging=PEe(t,e)&&tN(e)==1?null:!1}start(t){this.dragging===!1&&(t.preventDefault(),this.select(t))}move(t){var e;if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&wEe(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let r=0,n=0,s=((e=this.scrollParent)===null||e===void 0?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=zD(this.view);t.clientX-a.left<=s.left+jh?r=-Xh(s.left-t.clientX):t.clientX+a.right>=s.right-jh&&(r=Xh(t.clientX-s.right)),t.clientY-a.top<=s.top+jh?n=-Xh(s.top-t.clientY):t.clientY+a.bottom>=s.bottom-jh&&(n=Xh(t.clientY-s.bottom)),this.setScrollSpeed(r,n)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let r=0;r<t.ranges.length;r++){let n=t.ranges[r],s=null;if(n.empty){let a=_c(this.atoms,n.from,0);a!=n.from&&(s=Y.cursor(a,-1))}else{let a=_c(this.atoms,n.from,-1),o=_c(this.atoms,n.to,1);(a!=n.from||o!=n.to)&&(s=Y.range(n.from==n.anchor?a:o,n.from==n.head?a:o))}s&&(e||(e=t.ranges.slice()),e[r]=s)}return e?Y.create(e,t.mainIndex):t}select(t){let{view:e}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(e.state.selection)||r.main.assoc!=e.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function xEe(i,t){let e=i.state.facet(ID);return e.length?e[0](t):U.mac?t.metaKey:t.ctrlKey}function kEe(i,t){let e=i.state.facet(QD);return e.length?e[0](t):U.mac?!t.altKey:!t.ctrlKey}function PEe(i,t){let{main:e}=i.state.selection;if(e.empty)return!1;let r=md(i.root);if(!r||r.rangeCount==0)return!0;let n=r.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let a=n[s];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function j_(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,r;e!=i.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(r=je.get(e))&&r.ignoreEvent(t))return!1;return!0}const ht=Object.create(null),r$=Object.create(null),KD=U.ie&&U.ie_version<15||U.ios&&U.webkit_version<604;function TEe(i){let t=i.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{i.focus(),e.remove(),JD(i,e.value)},50)}function JD(i,t){let{state:e}=i,r,n=1,s=e.toText(t),a=s.lines==e.selection.ranges.length;if(i$!=null&&e.selection.ranges.every(l=>l.empty)&&i$==s.toString()){let l=-1;r=e.changeByRange(u=>{let h=e.doc.lineAt(u.from);if(h.from==l)return{range:u};l=h.from;let c=e.toText((a?s.line(n++).text:t)+e.lineBreak);return{changes:{from:h.from,insert:c},range:Y.cursor(u.from+c.length)}})}else a?r=e.changeByRange(l=>{let u=s.line(n++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Y.cursor(l.from+u.length)}}):r=e.replaceSelection(s);i.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ht.keydown=(i,t)=>{i.inputState.setSelectionOrigin("select"),t.keyCode==27&&(i.inputState.lastEscPress=Date.now())};ht.touchstart=(i,t)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")};ht.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")};r$.touchstart=r$.touchmove={passive:!0};ht.mousedown=(i,t)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return;let e=null;for(let r of i.state.facet(AD))if(e=r(i,t),e)break;if(!e&&t.button==0&&(e=CEe(i,t)),e){let r=!i.hasFocus;i.inputState.startMouseSelection(new SEe(i,t,e,r)),r&&i.observer.ignore(()=>OD(i.contentDOM)),i.inputState.mouseSelection&&i.inputState.mouseSelection.start(t)}};function X_(i,t,e,r){if(r==1)return Y.cursor(t,e);if(r==2)return cEe(i.state,t,e);{let n=Vt.find(i.docView,t),s=i.state.doc.lineAt(n?n.posAtEnd:t),a=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<i.state.doc.length&&o==s.to&&o++,Y.range(a,o)}}let eN=(i,t)=>i>=t.top&&i<=t.bottom,Y_=(i,t,e)=>eN(t,e)&&i>=e.left&&i<=e.right;function _Ee(i,t,e,r){let n=Vt.find(i.docView,t);if(!n)return 1;let s=t-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let a=n.coordsAt(s,-1);if(a&&Y_(e,r,a))return-1;let o=n.coordsAt(s,1);return o&&Y_(e,r,o)?1:a&&eN(r,a)?-1:1}function W_(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:_Ee(i,e,t.clientX,t.clientY)}}const EEe=U.ie&&U.ie_version<=11;let V_=null,U_=0,q_=0;function tN(i){if(!EEe)return i.detail;let t=V_,e=q_;return V_=i,q_=Date.now(),U_=!t||e>Date.now()-400&&Math.abs(t.clientX-i.clientX)<2&&Math.abs(t.clientY-i.clientY)<2?(U_+1)%3:1}function CEe(i,t){let e=W_(i,t),r=tN(t),n=i.state.selection;return{update(s){s.docChanged&&(e.pos=s.changes.mapPos(e.pos),n=n.map(s.changes))},get(s,a,o){let l=W_(i,s),u,h=X_(i,l.pos,l.bias,r);if(e.pos!=l.pos&&!a){let c=X_(i,e.pos,e.bias,r),d=Math.min(c.from,h.from),f=Math.max(c.to,h.to);h=d<h.from?Y.range(d,f):Y.range(f,d)}return a?n.replaceRange(n.main.extend(h.from,h.to)):o&&r==1&&n.ranges.length>1&&(u=IEe(n,l.pos))?u:o?n.addRange(h):Y.create([h])}}}function IEe(i,t){for(let e=0;e<i.ranges.length;e++){let{from:r,to:n}=i.ranges[e];if(r<=t&&n>=t)return Y.create(i.ranges.slice(0,e).concat(i.ranges.slice(e+1)),i.mainIndex==e?0:i.mainIndex-(i.mainIndex>e?1:0))}return null}ht.dragstart=(i,t)=>{let{selection:{main:e}}=i.state,{mouseSelection:r}=i.inputState;r&&(r.dragging=e),t.dataTransfer&&(t.dataTransfer.setData("Text",i.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove")};function G_(i,t,e,r){if(!e)return;let n=i.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:s}=i.inputState,a=r&&s&&s.dragging&&kEe(i,t)?{from:s.dragging.from,to:s.dragging.to}:null,o={from:n,insert:e},l=i.state.changes(a?[a,o]:o);i.focus(),i.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:a?"move.drop":"input.drop"})}ht.drop=(i,t)=>{if(!t.dataTransfer)return;if(i.state.readOnly)return t.preventDefault();let e=t.dataTransfer.files;if(e&&e.length){t.preventDefault();let r=Array(e.length),n=0,s=()=>{++n==e.length&&G_(i,t,r.filter(a=>a!=null).join(i.state.lineBreak),!1)};for(let a=0;a<e.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),s()},o.readAsText(e[a])}}else G_(i,t,t.dataTransfer.getData("Text"),!0)};ht.paste=(i,t)=>{if(i.state.readOnly)return t.preventDefault();i.observer.flush();let e=KD?null:t.clipboardData;e?(JD(i,e.getData("text/plain")||e.getData("text/uri-text")),t.preventDefault()):TEe(i)};function QEe(i,t){let e=i.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),i.focus()},50)}function AEe(i){let t=[],e=[],r=!1;for(let n of i.selection.ranges)n.empty||(t.push(i.sliceDoc(n.from,n.to)),e.push(n));if(!t.length){let n=-1;for(let{from:s}of i.selection.ranges){let a=i.doc.lineAt(s);a.number>n&&(t.push(a.text),e.push({from:a.from,to:Math.min(i.doc.length,a.to+1)})),n=a.number}r=!0}return{text:t.join(i.lineBreak),ranges:e,linewise:r}}let i$=null;ht.copy=ht.cut=(i,t)=>{let{text:e,ranges:r,linewise:n}=AEe(i.state);if(!e&&!n)return;i$=n?e:null;let s=KD?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",e)):QEe(i,e),t.type=="cut"&&!i.state.readOnly&&i.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const rN=Bs.define();function iN(i,t){let e=[];for(let r of i.facet(DD)){let n=r(i,t);n&&e.push(n)}return e?i.update({effects:e,annotations:rN.of(!0)}):null}function nN(i){setTimeout(()=>{let t=i.hasFocus;if(t!=i.inputState.notifiedFocused){let e=iN(i.state,t);e?i.dispatch(e):i.update([])}},10)}ht.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),nN(i)};ht.blur=i=>{i.observer.clearSelectionRange(),nN(i)};ht.compositionstart=ht.compositionupdate=i=>{i.inputState.compositionFirstChange==null&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)};ht.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,U.chrome&&U.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50)};ht.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()};ht.beforeinput=(i,t)=>{var e;let r;if(U.chrome&&U.android&&(r=GD.find(n=>n.inputType==t.inputType))&&(i.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let n=((e=window.visualViewport)===null||e===void 0?void 0:e.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}};const H_=new Set;function REe(i){H_.has(i)||(H_.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}const K_=["pre-wrap","normal","pre-line","break-spaces"];class MEe{constructor(t){this.lineWrapping=t,this.doc=Te.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let r=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((e-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return K_.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let r=0;r<t.length;r++){let n=t[r];n<0?r++:this.heightSamples[Math.floor(n*10)]||(e=!0,this.heightSamples[Math.floor(n*10)]=!0)}return e}refresh(t,e,r,n,s,a){let o=K_.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=e,this.charWidth=r,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<a.length;u++){let h=a[u];h<0?u++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class DEe{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class di{constructor(t,e,r,n,s){this.from=t,this.length=e,this.top=r,this.height=n,this._content=s}get type(){return typeof this._content=="number"?Bt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Qn?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new di(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ye=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(Ye||(Ye={}));const Ec=.001;class Ht{constructor(t,e,r=2){this.length=t,this.height=e,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>Ec&&(t.heightChanged=!0),this.height=e)}replace(t,e,r){return Ht.of(r)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,r,n){let s=this,a=r.doc;for(let o=n.length-1;o>=0;o--){let{fromA:l,toA:u,fromB:h,toB:c}=n[o],d=s.lineAt(l,Ye.ByPosNoHeight,r.setDoc(e),0,0),f=d.to>=u?d:s.lineAt(u,Ye.ByPosNoHeight,r,0,0);for(c+=f.to-u,u=f.to;o>0&&d.from<=n[o-1].toA;)l=n[o-1].fromA,h=n[o-1].fromB,o--,l<d.from&&(d=s.lineAt(l,Ye.ByPosNoHeight,r,0,0));h+=d.from-l,l=d.from;let p=o0.build(r.setDoc(a),t,h,c);s=s.replace(l,u,p)}return s.updateHeight(r,0)}static empty(){return new Or(0,0)}static of(t){if(t.length==1)return t[0];let e=0,r=t.length,n=0,s=0;for(;;)if(e==r)if(n>s*2){let o=t[e-1];o.break?t.splice(--e,1,o.left,null,o.right):t.splice(--e,1,o.left,o.right),r+=1+o.break,n-=o.size}else if(s>n*2){let o=t[r];o.break?t.splice(r,1,o.left,null,o.right):t.splice(r,1,o.left,o.right),r+=2+o.break,s-=o.size}else break;else if(n<s){let o=t[e++];o&&(n+=o.size)}else{let o=t[--r];o&&(s+=o.size)}let a=0;return t[e-1]==null?(a=1,e--):t[e]==null&&(a=1,r++),new NEe(Ht.of(t.slice(0,e)),a,Ht.of(t.slice(r)))}}Ht.prototype.size=1;class sN extends Ht{constructor(t,e,r){super(t,e),this.deco=r}blockAt(t,e,r,n){return new di(n,this.length,r,this.height,this.deco||0)}lineAt(t,e,r,n,s){return this.blockAt(0,r,n,s)}forEachLine(t,e,r,n,s,a){t<=s+this.length&&e>=s&&a(this.blockAt(0,r,n,s))}updateHeight(t,e=0,r=!1,n){return n&&n.from<=e&&n.more&&this.setHeight(t,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Or extends sN{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,r,n){return new di(n,this.length,r,this.height,this.breaks)}replace(t,e,r){let n=r[0];return r.length==1&&(n instanceof Or||n instanceof Rt&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Rt?n=new Or(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Ht.of(r)}updateHeight(t,e=0,r=!1,n){return n&&n.from<=e&&n.more?this.setHeight(t,n.heights[n.index++]):(r||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Rt extends Ht{constructor(t){super(t,0)}heightMetrics(t,e){let r=t.doc.lineAt(e).number,n=t.doc.lineAt(e+this.length).number,s=n-r+1,a,o=0;if(t.lineWrapping){let l=Math.min(this.height,t.lineHeight*s);a=l/s,this.length>s+1&&(o=(this.height-l)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:n,perLine:a,perChar:o}}blockAt(t,e,r,n){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(e,n);if(e.lineWrapping){let u=n+Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length),h=e.doc.lineAt(u),c=o+h.length*l,d=Math.max(r,t-c/2);return new di(h.from,h.length,d,c,0)}else{let u=Math.max(0,Math.min(a-s,Math.floor((t-r)/o))),{from:h,length:c}=e.doc.line(s+u);return new di(h,c,r+o*u,o,0)}}lineAt(t,e,r,n,s){if(e==Ye.ByHeight)return this.blockAt(t,r,n,s);if(e==Ye.ByPosNoHeight){let{from:f,to:p}=r.doc.lineAt(t);return new di(f,p-f,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(t),h=o+u.length*l,c=u.number-a,d=n+o*c+l*(u.from-s-c);return new di(u.from,u.length,Math.max(n,Math.min(d,n+this.height-h)),h,0)}forEachLine(t,e,r,n,s,a){t=Math.max(t,s),e=Math.min(e,s+this.length);let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let h=t,c=n;h<=e;){let d=r.doc.lineAt(h);if(h==t){let p=d.number-o;c+=l*p+u*(t-s-p)}let f=l+u*d.length;a(new di(d.from,d.length,c,f,0)),c+=f,h=d.to+1}}replace(t,e,r){let n=this.length-e;if(n>0){let s=r[r.length-1];s instanceof Rt?r[r.length-1]=new Rt(s.length+n):r.push(null,new Rt(n-1))}if(t>0){let s=r[0];s instanceof Rt?r[0]=new Rt(t+s.length):r.unshift(new Rt(t-1),null)}return Ht.of(r)}decomposeLeft(t,e){e.push(new Rt(t-1),null)}decomposeRight(t,e){e.push(null,new Rt(this.length-t-1))}updateHeight(t,e=0,r=!1,n){let s=e+this.length;if(n&&n.from<=e+this.length&&n.more){let a=[],o=Math.max(e,n.from),l=-1;for(n.from>e&&a.push(new Rt(n.from-e-1).updateHeight(t,e));o<=s&&n.more;){let h=t.doc.lineAt(o).length;a.length&&a.push(null);let c=n.heights[n.index++];l==-1?l=c:Math.abs(c-l)>=Ec&&(l=-2);let d=new Or(h,c);d.outdated=!1,a.push(d),o+=h+1}o<=s&&a.push(null,new Rt(s-o).updateHeight(t,o));let u=Ht.of(a);return(l<0||Math.abs(u.height-this.height)>=Ec||Math.abs(l-this.heightMetrics(t,e).perLine)>=Ec)&&(t.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class NEe extends Ht{constructor(t,e,r){super(t.length+e+r.length,t.height+r.height,e|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return this.flags&1}blockAt(t,e,r,n){let s=r+this.left.height;return t<s?this.left.blockAt(t,e,r,n):this.right.blockAt(t,e,s,n+this.left.length+this.break)}lineAt(t,e,r,n,s){let a=n+this.left.height,o=s+this.left.length+this.break,l=e==Ye.ByHeight?t<a:t<o,u=l?this.left.lineAt(t,e,r,n,s):this.right.lineAt(t,e,r,a,o);if(this.break||(l?u.to<o:u.from>o))return u;let h=e==Ye.ByPosNoHeight?Ye.ByPosNoHeight:Ye.ByPos;return l?u.join(this.right.lineAt(o,h,r,a,o)):this.left.lineAt(o,h,r,n,s).join(u)}forEachLine(t,e,r,n,s,a){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,r,n,s,a),e>=l&&this.right.forEachLine(t,e,r,o,l,a);else{let u=this.lineAt(l,Ye.ByPos,r,n,s);t<u.from&&this.left.forEachLine(t,u.from-1,r,n,s,a),u.to>=t&&u.from<=e&&a(u),e>u.to&&this.right.forEachLine(u.to+1,e,r,o,l,a)}}replace(t,e,r){let n=this.left.length+this.break;if(e<n)return this.balanced(this.left.replace(t,e,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-n,e-n,r));let s=[];t>0&&this.decomposeLeft(t,s);let a=s.length;for(let o of r)s.push(o);if(t>0&&J_(s,a-1),e<this.length){let o=s.length;this.decomposeRight(e,s),J_(s,o)}return Ht.of(s)}decomposeLeft(t,e){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(r++,t>=r&&e.push(null)),t>r&&this.right.decomposeLeft(t-r,e)}decomposeRight(t,e){let r=this.left.length,n=r+this.break;if(t>=n)return this.right.decomposeRight(t-n,e);t<r&&this.left.decomposeRight(t,e),this.break&&t<n&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Ht.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,r=!1,n){let{left:s,right:a}=this,o=e+s.length+this.break,l=null;return n&&n.from<=e+s.length&&n.more?l=s=s.updateHeight(t,e,r,n):s.updateHeight(t,e,r),n&&n.from<=o+a.length&&n.more?l=a=a.updateHeight(t,o,r,n):a.updateHeight(t,o,r),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function J_(i,t){let e,r;i[t]==null&&(e=i[t-1])instanceof Rt&&(r=i[t+1])instanceof Rt&&i.splice(t-1,3,new Rt(e.length+1+r.length))}const BEe=5;class o0{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let r=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Or?n.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Or(r-this.pos,-1)),this.writtenTo=r,e>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,r){if(t<e||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let a=e-t;r.block?this.addBlock(new sN(a,n,r)):(a||s||n>=BEe)&&this.addLineDeco(n,s,a)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Or(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let r=new Rt(e-t);return this.oracle.doc.lineAt(t).to==e&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Or)return t;let e=new Or(0,-1);return this.nodes.push(e),e}addBlock(t){var e;this.enterLine();let r=(e=t.deco)===null||e===void 0?void 0:e.type;r==Bt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,r!=Bt.WidgetBefore&&(this.covering=t)}addLineDeco(t,e,r){let n=this.ensureLine();n.length+=r,n.collapsed+=r,n.widgetHeight=Math.max(n.widgetHeight,t),n.breaks+=e,this.writtenTo=this.pos=this.pos+r}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof Or)&&!this.isCovered?this.nodes.push(new Or(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=t;for(let n of this.nodes)n instanceof Or&&n.updateHeight(this.oracle,r),r+=n?n.length:1;return this.nodes}static build(t,e,r,n){let s=new o0(r,t);return it.spans(e,r,n,s,0),s.finish(r)}}function ZEe(i,t,e){let r=new LEe;return it.compare(i,t,e,r,0),r.changes}class LEe{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,r,n){(t<e||r&&r.heightRelevant||n&&n.heightRelevant)&&Gb(t,e,this.changes,5)}}function zEe(i,t){let e=i.getBoundingClientRect(),r=i.ownerDocument,n=r.defaultView||window,s=Math.max(0,e.left),a=Math.min(n.innerWidth,e.right),o=Math.max(0,e.top),l=Math.min(n.innerHeight,e.bottom);for(let u=i.parentNode;u&&u!=r.body;)if(u.nodeType==1){let h=u,c=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&c.overflow!="visible"){let d=h.getBoundingClientRect();s=Math.max(s,d.left),a=Math.min(a,d.right),o=Math.max(o,d.top),l=u==i.parentNode?d.bottom:Math.min(l,d.bottom)}u=c.position=="absolute"||c.position=="fixed"?h.offsetParent:h.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-e.left,right:Math.max(s,a)-e.left,top:o-(e.top+t),bottom:Math.max(o,l)-(e.top+t)}}function FEe(i,t){let e=i.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class gg{constructor(t,e,r){this.from=t,this.to=e,this.size=r}static same(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],s=e[r];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(t,e){return ut.replace({widget:new jEe(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class jEe extends Vu{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class eE{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=tE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Gt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(s0).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new MEe(e),this.stateDeco=t.facet(Al).filter(r=>typeof r!="function"),this.heightMap=Ht.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle.setDoc(t.doc),[new Dr(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ut.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let r=0;r<=1;r++){let n=r?e.head:e.anchor;if(!t.some(({from:s,to:a})=>n>=s&&n<=a)){let{from:s,to:a}=this.lineBlockAt(n);t.push(new Yh(s,a))}}this.viewports=t.sort((r,n)=>r.from-n.from),this.scaler=this.heightMap.height<=7e6?tE:new WEe(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:jo(t,this.scaler))})}update(t,e=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Al).filter(h=>typeof h!="function");let n=t.changedRanges,s=Dr.extendWithRanges(n,ZEe(r,this.stateDeco,t?t.changes:wt.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(t.flags|=2),o?(this.scrollAnchorPos=t.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let u=!t.changes.empty||t.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(U_e)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),n=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Gt.RTL:Gt.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=e.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,h=0;if(o.width&&o.height){let y=o.width/e.offsetWidth,w=o.height/e.offsetHeight;y>.995&&y<1.005&&(y=1),w>.995&&w<1.005&&(w=1),(this.scaleX!=y||this.scaleY!=w)&&(this.scaleX=y,this.scaleY=w,u|=8,a=l=!0)}let c=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=c||this.paddingBottom!=d)&&(this.paddingTop=c,this.paddingBottom=d,u|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=8);let f=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=bD(t.scrollDOM);let p=(this.printing?FEe:zEe)(e,this.paddingTop),v=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let O=o.width;if((this.contentDOMWidth!=O||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=t.scrollDOM.clientHeight,u|=8),l){let y=t.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(y)&&(a=!0),a||n.lineWrapping&&Math.abs(O-this.contentDOMWidth)>n.charWidth){let{lineHeight:w,charWidth:x,textHeight:P}=t.docView.measureTextSize();a=w>0&&n.refresh(s,w,x,P,O/x,y),a&&(t.docView.minWidth=0,u|=8)}v>0&&m>0?h=Math.max(v,m):v<0&&m<0&&(h=Math.min(v,m)),n.heightChanged=!1;for(let w of this.viewports){let x=w.from==this.viewport.from?y:t.docView.measureVisibleLineHeights(w);this.heightMap=(a?Ht.empty().applyChanges(this.stateDeco,Te.empty,this.heightOracle,[new Dr(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(n,0,a,new DEe(w.from,x))}n.heightChanged&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new Yh(n.lineAt(a-r*1e3,Ye.ByHeight,s,0,0).from,n.lineAt(o+(1-r)*1e3,Ye.ByHeight,s,0,0).to);if(e){let{head:u}=e.range;if(u<l.from||u>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),c=n.lineAt(u,Ye.ByPos,s,0,0),d;e.y=="center"?d=(c.top+c.bottom)/2-h/2:e.y=="start"||e.y=="nearest"&&u<l.from?d=c.top:d=c.bottom-h,l=new Yh(n.lineAt(d-1e3/2,Ye.ByHeight,s,0,0).from,n.lineAt(d+h+1e3/2,Ye.ByHeight,s,0,0).to)}}return l}mapViewport(t,e){let r=e.mapPos(t.from,-1),n=e.mapPos(t.to,1);return new Yh(this.heightMap.lineAt(r,Ye.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,Ye.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},r=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(t,Ye.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(e,Ye.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(t==0||n<=a-Math.max(10,Math.min(-r,250)))&&(e==this.state.doc.length||s>=o+Math.max(10,Math.min(r,250)))&&n>a-2*1e3&&s<o+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let r=[];for(let n of t)e.touchesRange(n.from,n.to)||r.push(new gg(e.mapPos(n.from),e.mapPos(n.to),n.size));return r}ensureLineGaps(t,e){let r=this.heightOracle.lineWrapping,n=r?1e4:2e3,s=n>>1,a=n<<1;if(this.defaultTextDirection!=Gt.LTR&&!r)return[];let o=[],l=(u,h,c,d)=>{if(h-u<s)return;let f=this.state.selection.main,p=[f.from];f.empty||p.push(f.to);for(let m of p)if(m>u&&m<h){l(u,m-10,c,d),l(m+10,h,c,d);return}let v=YEe(t,m=>m.from>=c.from&&m.to<=c.to&&Math.abs(m.from-u)<s&&Math.abs(m.to-h)<s&&!p.some(g=>m.from<g&&m.to>g));if(!v){if(h<c.to&&e&&r&&e.visibleRanges.some(m=>m.from<=h&&m.to>=h)){let m=e.moveToLineBoundary(Y.cursor(h),!1,!0).head;m>u&&(h=m)}v=new gg(u,h,this.gapSize(c,u,h,d))}o.push(v)};for(let u of this.viewportLines){if(u.length<a)continue;let h=XEe(u.from,u.to,this.stateDeco);if(h.total<a)continue;let c=this.scrollTarget?this.scrollTarget.range.head:null,d,f;if(r){let p=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,m;if(c!=null){let g=Vh(h,c),O=((this.visibleBottom-this.visibleTop)/2+p)/u.height;v=g-O,m=g+O}else v=(this.visibleTop-u.top-p)/u.height,m=(this.visibleBottom-u.top+p)/u.height;d=Wh(h,v),f=Wh(h,m)}else{let p=h.total*this.heightOracle.charWidth,v=n*this.heightOracle.charWidth,m,g;if(c!=null){let O=Vh(h,c),b=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/p;m=O-b,g=O+b}else m=(this.pixelViewport.left-v)/p,g=(this.pixelViewport.right+v)/p;d=Wh(h,m),f=Wh(h,g)}d>u.from&&l(u.from,d,u,h),f<u.to&&l(f,u.to,u,h)}return o}gapSize(t,e,r,n){let s=Vh(n,r)-Vh(n,e);return this.heightOracle.lineWrapping?t.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(t){gg.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=ut.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];it.spans(t,this.viewport.from,this.viewport.to,{span(n,s){e.push({from:n,to:s})},point(){}},20);let r=e.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=e[s].from||n.to!=e[s].to);return this.visibleRanges=e,r?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||jo(this.heightMap.lineAt(t,Ye.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return jo(this.heightMap.lineAt(this.scaler.fromDOM(t),Ye.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return jo(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Yh{constructor(t,e){this.from=t,this.to=e}}function XEe(i,t,e){let r=[],n=i,s=0;return it.spans(e,i,t,{span(){},point(a,o){a>n&&(r.push({from:n,to:a}),s+=a-n),n=o}},20),n<t&&(r.push({from:n,to:t}),s+=t-n),{total:s,ranges:r}}function Wh({total:i,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let r=Math.floor(i*e);for(let n=0;;n++){let{from:s,to:a}=t[n],o=a-s;if(r<=o)return s+r;r-=o}}function Vh(i,t){let e=0;for(let{from:r,to:n}of i.ranges){if(t<=n){e+=t-r;break}e+=n-r}return e/i.total}function YEe(i,t){for(let e of i)if(t(e))return e}const tE={toDOM(i){return i},fromDOM(i){return i},scale:1};class WEe{constructor(t,e,r){let n=0,s=0,a=0;this.viewports=r.map(({from:o,to:l})=>{let u=e.lineAt(o,Ye.ByPos,t,0,0).top,h=e.lineAt(l,Ye.ByPos,t,0,0).bottom;return n+=h-u,{from:o,to:l,top:u,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(e.height-n);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(t){for(let e=0,r=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.top)return n+(t-r)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);r=s.bottom,n=s.domBottom}}fromDOM(t){for(let e=0,r=0,n=0;;e++){let s=e<this.viewports.length?this.viewports[e]:null;if(!s||t<s.domTop)return r+(t-n)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);r=s.bottom,n=s.domBottom}}}function jo(i,t){if(t.scale==1)return i;let e=t.toDOM(i.top),r=t.toDOM(i.bottom);return new di(i.from,i.length,e,r-e,Array.isArray(i._content)?i._content.map(n=>jo(n,t)):i._content)}const Uh=le.define({combine:i=>i.join(" ")}),n$=le.define({combine:i=>i.indexOf(!0)>-1}),s$=En.newName(),aN=En.newName(),oN=En.newName(),lN={"&light":"."+aN,"&dark":"."+oN};function a$(i,t,e){return new En(t,{finish(r){return/&/.test(r)?r.replace(/&\w*/,n=>{if(n=="&")return i;if(!e||!e[n])throw new RangeError(`Unsupported selector: ${n}`);return e[n]}):i+" "+r}})}const VEe=a$("."+s$,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lN);class UEe{constructor(t,e,r,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,r,0))){let o=s||a?[]:HEe(t),l=new xD(o,t.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=KEe(o,this.bounds.from)}else{let o=t.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!Xb(t.contentDOM,o.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(o.focusNode,o.focusOffset),u=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Xb(t.contentDOM,o.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=Y.single(u,l)}}}function uN(i,t){let e,{newSel:r}=t,n=i.state.selection.main,s=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:o}=t.bounds,l=n.from,u=null;(s===8||U.android&&t.text.length<o-a)&&(l=n.to,u="end");let h=GEe(i.state.doc.sliceString(a,o,ha),t.text,l-a,u);h&&(U.chrome&&s==13&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==ha+ha&&h.toB--,e={from:a+h.from,to:a+h.toA,insert:Te.of(t.text.slice(h.from,h.toB).split(ha))})}else r&&(!i.hasFocus&&i.state.facet(Zf)||r.main.eq(n))&&(r=null);if(!e&&!r)return!1;if(!e&&t.typeOver&&!n.empty&&r&&r.main.empty?e={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,n.to)}:e&&e.from>=n.from&&e.to<=n.to&&(e.from!=n.from||e.to!=n.to)&&n.to-n.from-(e.to-e.from)<=4?e={from:n.from,to:n.to,insert:i.state.doc.slice(n.from,e.from).append(e.insert).append(i.state.doc.slice(e.to,n.to))}:(U.mac||U.android)&&e&&e.from==e.to&&e.from==n.head-1&&/^\. ?$/.test(e.insert.toString())&&i.contentDOM.getAttribute("autocorrect")=="off"?(r&&e.insert.length==2&&(r=Y.single(r.main.anchor-1,r.main.head-1)),e={from:n.from,to:n.to,insert:Te.of([" "])}):U.chrome&&e&&e.from==e.to&&e.from==n.head&&e.insert.toString()==`
 `&&i.lineWrapping&&(r&&(r=Y.single(r.main.anchor-1,r.main.head-1)),e={from:n.from,to:n.to,insert:Te.of([" "])}),e){if(U.ios&&i.inputState.flushIOSKey(i)||U.android&&(e.from==n.from&&e.to==n.to&&e.insert.length==1&&e.insert.lines==2&&Oa(i.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||s==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&Oa(i.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&Oa(i.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let o,l=()=>o||(o=qEe(i,e,r));return i.state.facet(MD).some(u=>u(i,e.from,e.to,a,l))||i.dispatch(l()),!0}else if(r&&!r.main.eq(n)){let a=!1,o="select";return i.inputState.lastSelectionTime>Date.now()-50&&(i.inputState.lastSelectionOrigin=="select"&&(a=!0),o=i.inputState.lastSelectionOrigin),i.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function qEe(i,t,e){let r,n=i.state,s=n.selection.main;if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let o=s.from<t.from?n.sliceDoc(s.from,t.from):"",l=s.to>t.to?n.sliceDoc(t.to,s.to):"";r=n.replaceSelection(i.state.toText(o+t.insert.sliceString(0,void 0,i.state.lineBreak)+l))}else{let o=n.changes(t),l=e&&e.main.to<=o.newLength?e.main:void 0;if(n.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=s.to&&t.to>=s.to-10){let u=i.state.sliceDoc(t.from,t.to),h=VD(i,t.insert.length-(t.to-t.from))||i.state.doc.lineAt(s.head),c=s.to-t.to,d=s.to-s.from;r=n.changeByRange(f=>{if(f.from==s.from&&f.to==s.to)return{changes:o,range:l||f.map(o)};let p=f.to-c,v=p-u.length;if(f.to-f.from!=d||i.state.sliceDoc(v,p)!=u||h&&f.to>=h.from&&f.from<=h.to)return{range:f};let m=n.changes({from:v,to:p,insert:t.insert}),g=f.to-s.to;return{changes:m,range:l?Y.range(Math.max(0,l.anchor+g),Math.max(0,l.head+g)):f.map(m)}})}else r={changes:o,selection:l&&n.selection.replaceRange(l)}}let a="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,a+=".compose",i.inputState.compositionFirstChange&&(a+=".start",i.inputState.compositionFirstChange=!1)),n.update(r,{userEvent:a,scrollIntoView:!0})}function GEe(i,t,e,r){let n=Math.min(i.length,t.length),s=0;for(;s<n&&i.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==n&&i.length==t.length)return null;let a=i.length,o=t.length;for(;a>0&&o>0&&i.charCodeAt(a-1)==t.charCodeAt(o-1);)a--,o--;if(r=="end"){let l=Math.max(0,s-Math.min(a,o));e-=a+l-s}if(a<s&&i.length<t.length){let l=e<=s&&e>=a?s-e:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=e<=s&&e>=o?s-e:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function HEe(i){let t=[];if(i.root.activeElement!=i.contentDOM)return t;let{anchorNode:e,anchorOffset:r,focusNode:n,focusOffset:s}=i.observer.selectionRange;return e&&(t.push(new __(e,r)),(n!=e||s!=r)&&t.push(new __(n,s))),t}function KEe(i,t){if(i.length==0)return null;let e=i[0].pos,r=i.length==2?i[1].pos:e;return e>-1&&r>-1?Y.single(e+t,r+t):null}const JEe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},mg=U.ie&&U.ie_version<=11;class eCe{constructor(t){this.view=t,this.active=!1,this.selectionRange=new L_e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let r of e)this.queue.push(r);(U.ie&&U.ie_version<=11||U.ios&&t.composing)&&e.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),mg&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(t.contentDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runScrollHandlers(this.view,t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,r)=>e!=t[r]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,n=this.selectionRange;if(r.state.facet(Zf)?r.root.activeElement!=this.dom:!Tc(r.dom,n))return;let s=n.anchorNode&&r.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(U.ie&&U.ie_version<=11||U.android&&U.chrome)&&!r.state.selection.main.empty&&n.focusNode&&Od(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=U.safari&&t.root.nodeType==11&&D_e(this.dom.ownerDocument)==this.dom&&tCe(this.view)||md(t.root);if(!e||this.selectionRange.eq(e))return!1;let r=Tc(this.dom,e);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&F_e(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let r=this.dom;r;)if(r.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=e)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,JEe),mg&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),mg&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var r;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Oa(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,r=-1,n=!1;for(let s of t){let a=this.readMutation(s);a&&(a.typeOver&&(n=!0),e==-1?{from:e,to:r}=a:(e=Math.min(a.from,e),r=Math.max(a.to,r)))}return{from:e,to:r,typeOver:n}}readChange(){let{from:t,to:e,typeOver:r}=this.processRecords(),n=this.selectionChanged&&Tc(this.dom,this.selectionRange);return t<0&&!n?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new UEe(this.view,t,e,r))}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return!1;let r=this.view.state,n=uN(this.view,e);return this.view.state==r&&this.view.update([]),n}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let r=rE(e,t.previousSibling||t.target.previousSibling,-1),n=rE(e,t.nextSibling||t.target.nextSibling,1);return{from:r?e.posAfter(r):e.posAtStart,to:n?e.posBefore(n):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,r,n;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(n=this.resizeContent)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function rE(i,t,e){for(;t;){let r=je.get(t);if(r&&r.parent==i)return r;let n=t.parentNode;t=n!=i.dom?n:e>0?t.nextSibling:t.previousSibling}return null}function tCe(i){let t=null;function e(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",e,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let r=t.startContainer,n=t.startOffset,s=t.endContainer,a=t.endOffset,o=i.docView.domAtPos(i.state.selection.main.anchor);return Od(o.node,o.offset,s,a)&&([r,n,s,a]=[s,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}}class de{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(r=>r.forEach(n=>e(n,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||z_e(t.parent)||document,this.viewState=new eE(t.state||Pe.create(t)),this.plugins=this.state.facet(zo).map(r=>new fg(r));for(let r of this.plugins)r.update(this);this.observer=new eCe(this),this.inputState=new bEe(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new D_(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}dispatch(...t){let e=t.length==1&&t[0]instanceof Lt?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,r=!1,n,s=this.state;for(let d of t){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;t.some(d=>d.annotation(rN))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=iN(s,a),l||(o=1));let u=this.observer.delayedAndroidKey,h=null;if(u?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(Pe.phrases)!=this.state.facet(Pe.phrases))return this.setState(s);n=$d.create(this,s,t),n.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let d of t){if(c&&(c=c.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;c=new bd(f.empty?f:Y.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(R_)&&(c=f.value)}this.viewState.update(n,c),this.bidiCache=wd.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),e=this.docView.update(n),this.state.facet(Fo)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Uh)!=n.state.facet(Uh)&&(this.viewState.mustMeasureContent=!0),(e||r||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let d of this.state.facet(Hb))d(n);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!uN(this,h)&&u.force&&Oa(this.contentDOM,u.key,u.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new eE(t),this.plugins=t.facet(zo).map(r=>new fg(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new D_(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(zo),r=t.state.facet(zo);if(e!=r){let n=[];for(let s of r){let a=e.indexOf(s);if(a<0)n.push(new fg(s));else{let o=this.plugins[a];o.mustUpdate=t,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=n,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let n of this.plugins)n.mustUpdate=t;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this)}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,r=this.scrollDOM,n=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(bD(r))s=-1,a=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(n);s=f.from,a=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let h=u.map(f=>{try{return f.read(this)}catch(p){return wn(this.state,p),iE}}),c=$d.create(this,this.state,[]),d=!1;c.flags|=l,e?e.flags|=l:e=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),d=this.docView.update(c));for(let f=0;f<u.length;f++)if(h[f]!=iE)try{let p=u[f];p.write&&p.write(h[f],this)}catch(p){wn(this.state,p)}if(d&&this.docView.updateSelection(!0),!c.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(p>1||p<-1){n=n+p,r.scrollTop=n/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let o of this.state.facet(Hb))o(e)}get themeClasses(){return s$+" "+(this.state.facet(n$)?oN:aN)+" "+this.state.facet(Uh)}updateAttrs(){let t=nE(this,BD,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Zf)?"true":"false",class:"cm-content",style:`${U.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),nE(this,s0,e);let r=this.observer.ignore(()=>{let n=qb(this.contentDOM,this.contentAttrs,e),s=qb(this.dom,this.editorAttrs,t);return n||s});return this.editorAttrs=t,this.contentAttrs=e,r}showAnnouncements(t){let e=!0;for(let r of t)for(let n of r.effects)if(n.is(de.announce)){e&&(this.announceDOM.textContent=""),e=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Fo);let t=this.state.facet(de.cspNonce);En.mount(this.root,this.styleModules.concat(VEe).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(r=>r.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,r){return vg(this,t,F_(this,t,e,r))}moveByGroup(t,e){return vg(this,t,F_(this,t,e,r=>OEe(this,t.head,r)))}moveToLineBoundary(t,e,r=!0){return mEe(this,t,e,r)}moveVertically(t,e,r){return vg(this,t,yEe(this,t,e,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),qD(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let r=this.docView.coordsAt(t,e);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(t),s=this.bidiSpans(n),a=s[gn.find(s,t-n.from,-1,e)];return Nf(r,a.dir==Gt.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(ND)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>rCe)return YD(t.length);let e=this.textDirectionAt(t.from),r;for(let s of this.bidiCache)if(s.from==t.from&&s.dir==e&&(s.fresh||XD(s.isolates,r=M_(this,t.from,t.to))))return s.order;r||(r=M_(this,t.from,t.to));let n=iEe(t.text,e,r);return this.bidiCache.push(new wd(t.from,t.to,e,r,!0,n)),n}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||U.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{OD(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return R_.of(new bd(typeof t=="number"?Y.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return xs.define(()=>({}),{eventHandlers:t})}static theme(t,e){let r=En.newName(),n=[Uh.of(r),Fo.of(a$(`.${r}`,t))];return e&&e.dark&&n.push(n$.of(!0)),n}static baseTheme(t){return Wu.lowest(Fo.of(a$("."+s$,t,lN)))}static findFromDOM(t){var e;let r=t.querySelector(".cm-content"),n=r&&je.get(r)||je.get(t);return((e=n==null?void 0:n.rootView)===null||e===void 0?void 0:e.view)||null}}de.styleModule=Fo;de.inputHandler=MD;de.focusChangeEffect=DD;de.perLineTextDirection=ND;de.exceptionSink=RD;de.updateListener=Hb;de.editable=Zf;de.mouseSelectionStyle=AD;de.dragMovesSelection=QD;de.clickAddsSelectionRange=ID;de.decorations=Al;de.atomicRanges=a0;de.bidiIsolatedRanges=ZD;de.scrollMargins=LD;de.darkTheme=n$;de.cspNonce=le.define({combine:i=>i.length?i[0]:""});de.contentAttributes=s0;de.editorAttributes=BD;de.lineWrapping=de.contentAttributes.of({class:"cm-lineWrapping"});de.announce=nt.define();const rCe=4096,iE={};class wd{constructor(t,e,r,n,s,a){this.from=t,this.to=e,this.dir=r,this.isolates=n,this.fresh=s,this.order=a}static update(t,e){if(e.empty&&!t.some(s=>s.fresh))return t;let r=[],n=t.length?t[t.length-1].dir:Gt.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let a=t[s];a.dir==n&&!e.touchesRange(a.from,a.to)&&r.push(new wd(e.mapPos(a.from,1),e.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function nE(i,t,e){for(let r=i.state.facet(t),n=r.length-1;n>=0;n--){let s=r[n],a=typeof s=="function"?s(i):s;a&&Ub(a,e)}return e}const iCe=U.mac?"mac":U.windows?"win":U.linux?"linux":"key";function nCe(i,t){const e=i.split(/-(?!$)/);let r=e[e.length-1];r=="Space"&&(r=" ");let n,s,a,o;for(let l=0;l<e.length-1;++l){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))t=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function qh(i,t,e){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e!==!1&&t.shiftKey&&(i="Shift-"+i),i}const sCe=Wu.default(de.domEventHandlers({keydown(i,t){return uCe(aCe(t.state),i,t,"editor")}})),l0=le.define({enables:sCe}),sE=new WeakMap;function aCe(i){let t=i.facet(l0),e=sE.get(t);return e||sE.set(t,e=lCe(t.reduce((r,n)=>r.concat(n),[]))),e}let cn=null;const oCe=4e3;function lCe(i,t=iCe){let e=Object.create(null),r=Object.create(null),n=(a,o)=>{let l=r[a];if(l==null)r[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,u,h)=>{var c,d;let f=e[a]||(e[a]=Object.create(null)),p=o.split(/ (?!$)/).map(g=>nCe(g,t));for(let g=1;g<p.length;g++){let O=p.slice(0,g).join(" ");n(O,!0),f[O]||(f[O]={preventDefault:!0,stopPropagation:!1,run:[b=>{let y=cn={view:b,prefix:O,scope:a};return setTimeout(()=>{cn==y&&(cn=null)},oCe),!0}]})}let v=p.join(" ");n(v,!1);let m=f[v]||(f[v]={preventDefault:!1,stopPropagation:!1,run:((d=(c=f._any)===null||c===void 0?void 0:c.run)===null||d===void 0?void 0:d.slice())||[]});l&&m.run.push(l),u&&(m.preventDefault=!0),h&&(m.stopPropagation=!0)};for(let a of i){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of o){let h=e[u]||(e[u]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let c in h)h[c].run.push(a.any)}let l=a[t]||a.key;if(l)for(let u of o)s(u,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(u,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return e}function uCe(i,t,e,r){let n=M_e(t),s=kc(n,0),a=Ib(s)==n.length&&n!=" ",o="",l=!1,u=!1,h=!1;cn&&cn.view==e&&cn.scope==r&&(o=cn.prefix+" ",HD.indexOf(t.keyCode)<0&&(u=!0,cn=null));let c=new Set,d=m=>{if(m){for(let g of m.run)if(!c.has(g)&&(c.add(g),g(e,t)))return m.stopPropagation&&(h=!0),!0;m.preventDefault&&(m.stopPropagation&&(h=!0),u=!0)}return!1},f=i[r],p,v;return f&&(d(f[o+qh(n,t,!a)])?l=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(U.windows&&t.ctrlKey&&t.altKey)&&(p=Cn[t.keyCode])&&p!=n?(d(f[o+qh(p,t,!0)])||t.shiftKey&&(v=Ql[t.keyCode])!=n&&v!=p&&d(f[o+qh(v,t,!1)]))&&(l=!0):a&&t.shiftKey&&d(f[o+qh(n,t,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),u&&(l=!0),l&&h&&t.stopPropagation(),l}const hCe=!U.ios,cCe={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};hCe&&(cCe[".cm-line"].caretColor="transparent !important");class dCe extends Vu{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let e=t.firstChild?Na(t.firstChild):[];if(!e.length)return null;let r=window.getComputedStyle(t.parentNode),n=Nf(e[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return n.bottom-n.top>s*1.5?{left:n.left,right:n.right,top:n.top,bottom:n.top+s}:n}ignoreEvent(){return!1}}function fCe(i){return xs.fromClass(class{constructor(t){this.view=t,this.placeholder=i?ut.set([ut.widget({widget:new dCe(i),side:1}).range(0)]):ut.none}get decorations(){return this.view.state.doc.length?ut.none:this.placeholder}},{decorations:t=>t.decorations})}class Za extends ws{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Za.prototype.elementClass="";Za.prototype.toDOM=void 0;Za.prototype.mapMode=Ut.TrackBefore;Za.prototype.startSide=Za.prototype.endSide=-1;Za.prototype.point=!0;const hN=1024;let pCe=0;class Qr{constructor(t,e){this.from=t,this.to=e}}class ue{constructor(t={}){this.id=pCe++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=mt.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}}ue.closedBy=new ue({deserialize:i=>i.split(" ")});ue.openedBy=new ue({deserialize:i=>i.split(" ")});ue.group=new ue({deserialize:i=>i.split(" ")});ue.contextHash=new ue({perNode:!0});ue.lookAhead=new ue({perNode:!0});ue.mounted=new ue({perNode:!0});class vCe{constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}}const gCe=Object.create(null);class mt{constructor(t,e,r,n=0){this.name=t,this.props=e,this.id=r,this.flags=n}static define(t){let e=t.props&&t.props.length?Object.create(null):gCe,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),n=new mt(t.name||"",e,t.id,r);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[s[0].id]=s[1]}}return n}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(ue.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let n of r.split(" "))e[n]=t[r];return r=>{for(let n=r.prop(ue.group),s=-1;s<(n?n.length:0);s++){let a=e[s<0?r.name:n[s]];if(a)return a}}}}mt.none=new mt("",Object.create(null),0,8);class Gu{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let r of this.types){let n=null;for(let s of t){let a=s(r);a&&(n||(n=Object.assign({},r.props)),n[a[0].id]=a[1])}e.push(n?new mt(r.name,n,r.id,r.flags):r)}return new Gu(e)}}const Gh=new WeakMap,aE=new WeakMap;var Fe;(function(i){i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays"})(Fe||(Fe={}));class Ee{constructor(t,e,r,n,s){if(this.type=t,this.children=e,this.positions=r,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let t=this.prop(ue.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let r of this.children){let n=r.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Ml(this.topNode,t)}cursorAt(t,e=0,r=0){let n=Gh.get(this)||this.topNode,s=new Ml(n);return s.moveTo(t,e),Gh.set(this,s._tree),s}get topNode(){return new Nr(this,0,0,null)}resolve(t,e=0){let r=La(Gh.get(this)||this.topNode,t,e,!1);return Gh.set(this,r),r}resolveInner(t,e=0){let r=La(aE.get(this)||this.topNode,t,e,!0);return aE.set(this,r),r}iterate(t){let{enter:e,leave:r,from:n=0,to:s=this.length}=t,a=t.mode||0,o=(a&Fe.IncludeAnonymous)>0;for(let l=this.cursor(a|Fe.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=n&&(!o&&l.type.isAnonymous||e(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(o||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:c0(mt.none,this.children,this.positions,0,this.children.length,0,this.length,(e,r,n)=>new Ee(this.type,e,r,n,this.propValues),t.makeTree||((e,r,n)=>new Ee(mt.none,e,r,n)))}static build(t){return OCe(t)}}Ee.empty=new Ee(mt.none,[],[],0);class u0{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new u0(this.buffer,this.index)}}class Zs{constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}get type(){return mt.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],n=this.set.types[e],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),t+=4,r==t)return s;let a=[];for(;t<r;)a.push(this.childString(t)),t=this.buffer[t+3];return s+"("+a.join(",")+")"}findChild(t,e,r,n,s){let{buffer:a}=this,o=-1;for(let l=t;l!=e&&!(cN(s,n,a[l+1],a[l+2])&&(o=l,r>0));l=a[l+3]);return o}slice(t,e,r){let n=this.buffer,s=new Uint16Array(e-t),a=0;for(let o=t,l=0;o<e;){s[l++]=n[o++],s[l++]=n[o++]-r;let u=s[l++]=n[o++]-r;s[l++]=n[o++]-t,a=Math.max(a,u)}return new Zs(s,a,this.set)}}function cN(i,t,e,r){switch(i){case-2:return e<t;case-1:return r>=t&&e<t;case 0:return e<t&&r>t;case 1:return e<=t&&r>t;case 2:return r>t;case 4:return!0}}function dN(i,t){let e=i.childBefore(t);for(;e;){let r=e.lastChild;if(!r||r.to!=e.to)break;r.type.isError&&r.from==r.to?(i=e,e=r.prevSibling):e=r}return i}function La(i,t,e,r){for(var n;i.from==i.to||(e<1?i.from>=t:i.from>t)||(e>-1?i.to<=t:i.to<t);){let a=!r&&i instanceof Nr&&i.index<0?null:i.parent;if(!a)return i;i=a}let s=r?0:Fe.IgnoreOverlays;if(r)for(let a=i,o=a.parent;o;a=o,o=a.parent)a instanceof Nr&&a.index<0&&((n=o.enter(t,e,s))===null||n===void 0?void 0:n.from)!=a.from&&(i=o);for(;;){let a=i.enter(t,e,s);if(!a)return i;i=a}}class Nr{constructor(t,e,r,n){this._tree=t,this.from=e,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,n,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,u=e>0?o.length:-1;t!=u;t+=e){let h=o[t],c=l[t]+a.from;if(cN(n,r,c,c+h.length)){if(h instanceof Zs){if(s&Fe.ExcludeBuffers)continue;let d=h.findChild(0,h.buffer.length,e,r-c,n);if(d>-1)return new gi(new mCe(a,h,t,c),null,d)}else if(s&Fe.IncludeAnonymous||!h.type.isAnonymous||h0(h)){let d;if(!(s&Fe.IgnoreMounts)&&h.props&&(d=h.prop(ue.mounted))&&!d.overlay)return new Nr(d.tree,c,t,a);let f=new Nr(h,c,t,a);return s&Fe.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(e<0?h.children.length-1:0,e,r,n)}}}if(s&Fe.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+e:t=e<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let n;if(!(r&Fe.IgnoreOverlays)&&(n=this._tree.prop(ue.mounted))&&n.overlay){let s=t-this.from;for(let{from:a,to:o}of n.overlay)if((e>0?a<=s:a<s)&&(e<0?o>=s:o>s))return new Nr(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(t=0){return new Ml(this,t)}get tree(){return this._tree}toTree(){return this._tree}resolve(t,e=0){return La(this,t,e,!1)}resolveInner(t,e=0){return La(this,t,e,!0)}enterUnfinishedNodesBefore(t){return dN(this,t)}getChild(t,e=null,r=null){let n=Sd(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Sd(this,t,e,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(t){return xd(this,t)}}function Sd(i,t,e,r){let n=i.cursor(),s=[];if(!n.firstChild())return s;if(e!=null){for(;!n.type.is(e);)if(!n.nextSibling())return s}for(;;){if(r!=null&&n.type.is(r))return s;if(n.type.is(t)&&s.push(n.node),!n.nextSibling())return r==null?s:[]}}function xd(i,t,e=t.length-1){for(let r=i.parent;e>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[e]&&t[e]!=r.name)return!1;e--}}return!0}class mCe{constructor(t,e,r,n){this.parent=t,this.buffer=e,this.index=r,this.start=n}}class gi{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,r){this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,e,r){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.context.start,r);return s<0?null:new gi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Fe.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return s<0?null:new gi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new gi(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new gi(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}cursor(t=0){return new Ml(this,t)}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,n=this.index+4,s=r.buffer[this.index+3];if(s>n){let a=r.buffer[this.index+1];t.push(r.slice(n,s,a)),e.push(0)}return new Ee(this.type,t,e,this.to-this.from)}resolve(t,e=0){return La(this,t,e,!1)}resolveInner(t,e=0){return La(this,t,e,!0)}enterUnfinishedNodesBefore(t){return dN(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,r=null){let n=Sd(this,t,e,r);return n.length?n[0]:null}getChildren(t,e=null,r=null){return Sd(this,t,e,r)}get node(){return this}matchContext(t){return xd(this,t)}}class Ml{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Nr)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:r,buffer:n}=this.buffer;return this.type=e||n.set.types[n.buffer[t]],this.from=r+n.buffer[t+1],this.to=r+n.buffer[t+2],!0}yield(t){return t?t instanceof Nr?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],t,e-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?r&Fe.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Fe.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Fe.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let n=r<0?0:this.stack[r]+4;if(this.index!=n)return this.yieldBuf(e.findChild(n,this.index,-1,0,4))}else{let n=e.buffer[this.index+3];if(n<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(n)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:n}=this;if(n){if(t>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:e,parent:r}=n)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let s=e+t,a=t<0?-1:r._tree.children.length;s!=a;s+=t){let o=r._tree.children[s];if(this.mode&Fe.IncludeAnonymous||o instanceof Zs||!o.type.isAnonymous||h0(o))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let a=t;a;a=a._parent)if(a.index==n){if(n==this.index)return a;e=a,r=s+1;break e}n=this.stack[--s]}for(let n=r;n<this.stack.length;n++)e=new gi(this.buffer,e,this.stack[n]);return this.bufferNode=new gi(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let n=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&e&&e(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(t){if(!this.buffer)return xd(this.node,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let n=t.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return xd(this.node,t,n);let a=r[e.buffer[this.stack[s]]];if(!a.isAnonymous){if(t[n]&&t[n]!=a.name)return!1;n--}}return!0}}function h0(i){return i.children.some(t=>t instanceof Zs||!t.type.isAnonymous||h0(t))}function OCe(i){var t;let{buffer:e,nodeSet:r,maxBufferLength:n=hN,reused:s=[],minRepeatType:a=r.types.length}=i,o=Array.isArray(e)?new u0(e,e.length):e,l=r.types,u=0,h=0;function c(y,w,x,P,T){let{id:S,start:k,end:C,size:j}=o,z=h;for(;j<0;)if(o.next(),j==-1){let pe=s[S];x.push(pe),P.push(k-y);return}else if(j==-3){u=S;return}else if(j==-4){h=S;return}else throw new RangeError(`Unrecognized record size: ${j}`);let ee=l[S],oe,se,fe=k-y;if(C-k<=n&&(se=v(o.pos-w,T))){let pe=new Uint16Array(se.size-se.skip),ve=o.pos-se.size,lt=pe.length;for(;o.pos>ve;)lt=m(se.start,pe,lt);oe=new Zs(pe,C-se.start,r),fe=se.start-y}else{let pe=o.pos-j;o.next();let ve=[],lt=[],Xe=S>=a?S:-1,$e=0,Be=C;for(;o.pos>pe;)Xe>=0&&o.id==Xe&&o.size>=0?(o.end<=Be-n&&(f(ve,lt,k,$e,o.end,Be,Xe,z),$e=ve.length,Be=o.end),o.next()):c(k,pe,ve,lt,Xe);if(Xe>=0&&$e>0&&$e<ve.length&&f(ve,lt,k,$e,k,Be,Xe,z),ve.reverse(),lt.reverse(),Xe>-1&&$e>0){let A=d(ee);oe=c0(ee,ve,lt,0,ve.length,0,C-k,A,A)}else oe=p(ee,ve,lt,C-k,z-C)}x.push(oe),P.push(fe)}function d(y){return(w,x,P)=>{let T=0,S=w.length-1,k,C;if(S>=0&&(k=w[S])instanceof Ee){if(!S&&k.type==y&&k.length==P)return k;(C=k.prop(ue.lookAhead))&&(T=x[S]+k.length+C)}return p(y,w,x,P,T)}}function f(y,w,x,P,T,S,k,C){let j=[],z=[];for(;y.length>P;)j.push(y.pop()),z.push(w.pop()+x-T);y.push(p(r.types[k],j,z,S-T,C-S)),w.push(T-x)}function p(y,w,x,P,T=0,S){if(u){let k=[ue.contextHash,u];S=S?[k].concat(S):[k]}if(T>25){let k=[ue.lookAhead,T];S=S?[k].concat(S):[k]}return new Ee(y,w,x,P,S)}function v(y,w){let x=o.fork(),P=0,T=0,S=0,k=x.end-n,C={size:0,start:0,skip:0};e:for(let j=x.pos-y;x.pos>j;){let z=x.size;if(x.id==w&&z>=0){C.size=P,C.start=T,C.skip=S,S+=4,P+=4,x.next();continue}let ee=x.pos-z;if(z<0||ee<j||x.start<k)break;let oe=x.id>=a?4:0,se=x.start;for(x.next();x.pos>ee;){if(x.size<0)if(x.size==-3)oe+=4;else break e;else x.id>=a&&(oe+=4);x.next()}T=se,P+=z,S+=oe}return(w<0||P==y)&&(C.size=P,C.start=T,C.skip=S),C.size>4?C:void 0}function m(y,w,x){let{id:P,start:T,end:S,size:k}=o;if(o.next(),k>=0&&P<a){let C=x;if(k>4){let j=o.pos-(k-4);for(;o.pos>j;)x=m(y,w,x)}w[--x]=C,w[--x]=S-y,w[--x]=T-y,w[--x]=P}else k==-3?u=P:k==-4&&(h=P);return x}let g=[],O=[];for(;o.pos>0;)c(i.start||0,i.bufferStart||0,g,O,-1);let b=(t=i.length)!==null&&t!==void 0?t:g.length?O[0]+g[0].length:0;return new Ee(l[i.topID],g.reverse(),O.reverse(),b)}const oE=new WeakMap;function Cc(i,t){if(!i.isAnonymous||t instanceof Zs||t.type!=i)return 1;let e=oE.get(t);if(e==null){e=1;for(let r of t.children){if(r.type!=i||!(r instanceof Ee)){e=1;break}e+=Cc(i,r)}oE.set(t,e)}return e}function c0(i,t,e,r,n,s,a,o,l){let u=0;for(let p=r;p<n;p++)u+=Cc(i,t[p]);let h=Math.ceil(u*1.5/8),c=[],d=[];function f(p,v,m,g,O){for(let b=m;b<g;){let y=b,w=v[b],x=Cc(i,p[b]);for(b++;b<g;b++){let P=Cc(i,p[b]);if(x+P>=h)break;x+=P}if(b==y+1){if(x>h){let P=p[y];f(P.children,P.positions,0,P.children.length,v[y]+O);continue}c.push(p[y])}else{let P=v[b-1]+p[b-1].length-w;c.push(c0(i,p,v,y,b,w,P,null,l))}d.push(w+O-s)}}return f(t,e,r,n,0),(o||l)(c,d,a)}class fN{constructor(){this.map=new WeakMap}setBuffer(t,e,r){let n=this.map.get(t);n||this.map.set(t,n=new Map),n.set(e,r)}getBuffer(t,e){let r=this.map.get(t);return r&&r.get(e)}set(t,e){t instanceof gi?this.setBuffer(t.context.buffer,t.index,e):t instanceof Nr&&this.map.set(t.tree,e)}get(t){return t instanceof gi?this.getBuffer(t.context.buffer,t.index):t instanceof Nr?this.map.get(t.tree):void 0}cursorSet(t,e){t.buffer?this.setBuffer(t.buffer.buffer,t.index,e):this.map.set(t.tree,e)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class Li{constructor(t,e,r,n,s=!1,a=!1){this.from=t,this.to=e,this.tree=r,this.offset=n,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],r=!1){let n=[new Li(0,t.length,t,0,!1,r)];for(let s of e)s.to>t.length&&n.push(s);return n}static applyChanges(t,e,r=128){if(!e.length)return t;let n=[],s=1,a=t.length?t[0]:null;for(let o=0,l=0,u=0;;o++){let h=o<e.length?e[o]:null,c=h?h.fromA:1e9;if(c-l>=r)for(;a&&a.from<c;){let d=a;if(l>=d.from||c<=d.to||u){let f=Math.max(d.from,l)-u,p=Math.min(d.to,c)-u;d=f>=p?null:new Li(f,p,d.tree,d.offset+u,o>0,!!h)}if(d&&n.push(d),a.to>c)break;a=s<t.length?t[s++]:null}if(!h)break;l=h.toA,u=h.toA-h.toB}return n}}class d0{startParse(t,e,r){return typeof t=="string"&&(t=new yCe(t)),r=r?r.length?r.map(n=>new Qr(n.from,n.to)):[new Qr(0,0)]:[new Qr(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let n=this.startParse(t,e,r);for(;;){let s=n.advance();if(s)return s}}}class yCe{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}function pN(i){return(t,e,r,n)=>new $Ce(t,i,e,r,n)}class lE{constructor(t,e,r,n,s){if(this.parser=t,this.parse=e,this.overlay=r,this.target=n,this.ranges=s,!s.length||s.some(a=>a.from>=a.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(s))}}class bCe{constructor(t,e,r,n,s,a,o){this.parser=t,this.predicate=e,this.mounts=r,this.index=n,this.start=s,this.target=a,this.prev=o,this.depth=0,this.ranges=[]}}const o$=new ue({perNode:!0});class $Ce{constructor(t,e,r,n,s){this.nest=e,this.input=r,this.fragments=n,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let n of this.inner)n.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Ee(r.type,r.children,r.positions,r.length,r.propValues.concat([[o$,this.stoppedAt]]))),r}let t=this.inner[this.innerDone],e=t.parse.advance();if(e){this.innerDone++;let r=Object.assign(Object.create(null),t.target.props);r[ue.mounted.id]=new vCe(e,t.overlay,t.parser),t.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].ranges[0].from<t&&(t=Math.min(t,this.inner[e].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let e=this.innerDone;e<this.inner.length;e++)this.inner[e].parse.stopAt(t)}startInner(){let t=new xCe(this.fragments),e=null,r=null,n=new Ml(new Nr(this.baseTree,this.ranges[0].from,0,null),Fe.IncludeAnonymous|Fe.IgnoreMounts);e:for(let s,a;this.stoppedAt==null||n.from<this.stoppedAt;){let o=!0,l;if(t.hasNode(n)){if(e){let u=e.mounts.find(h=>h.frag.from<=n.from&&h.frag.to>=n.to&&h.mount.overlay);if(u)for(let h of u.mount.overlay){let c=h.from+u.pos,d=h.to+u.pos;c>=n.from&&d<=n.to&&!e.ranges.some(f=>f.from<d&&f.to>c)&&e.ranges.push({from:c,to:d})}}o=!1}else if(r&&(a=wCe(r.ranges,n.from,n.to)))o=a!=2;else if(!n.type.isAnonymous&&n.from<n.to&&(s=this.nest(n,this.input))){n.tree||SCe(n);let u=t.findMounts(n.from,s.parser);if(typeof s.overlay=="function")e=new bCe(s.parser,s.overlay,u,this.inner.length,n.from,n.tree,e);else{let h=cE(this.ranges,s.overlay||[new Qr(n.from,n.to)]);h.length&&this.inner.push(new lE(s.parser,s.parser.startParse(this.input,dE(u,h),h),s.overlay?s.overlay.map(c=>new Qr(c.from-n.from,c.to-n.from)):null,n.tree,h)),s.overlay?h.length&&(r={ranges:h,depth:0,prev:r}):o=!1}}else e&&(l=e.predicate(n))&&(l===!0&&(l=new Qr(n.from,n.to)),l.from<l.to&&e.ranges.push(l));if(o&&n.firstChild())e&&e.depth++,r&&r.depth++;else for(;!n.nextSibling();){if(!n.parent())break e;if(e&&!--e.depth){let u=cE(this.ranges,e.ranges);u.length&&this.inner.splice(e.index,0,new lE(e.parser,e.parser.startParse(this.input,dE(e.mounts,u),u),e.ranges.map(h=>new Qr(h.from-e.start,h.to-e.start)),e.target,u)),e=e.prev}r&&!--r.depth&&(r=r.prev)}}}}function wCe(i,t,e){for(let r of i){if(r.from>=e)break;if(r.to>t)return r.from<=t&&r.to>=e?2:1}return 0}function uE(i,t,e,r,n,s){if(t<e){let a=i.buffer[t+1];r.push(i.slice(t,e,a)),n.push(a-s)}}function SCe(i){let{node:t}=i,e=0;do i.parent(),e++;while(!i.tree);let r=0,n=i.tree,s=0;for(;s=n.positions[r]+i.from,!(s<=t.from&&s+n.children[r].length>=t.to);r++);let a=n.children[r],o=a.buffer;function l(u,h,c,d,f){let p=u;for(;o[p+2]+s<=t.from;)p=o[p+3];let v=[],m=[];uE(a,u,p,v,m,d);let g=o[p+1],O=o[p+2],b=g+s==t.from&&O+s==t.to&&o[p]==t.type.id;return v.push(b?t.toTree():l(p+4,o[p+3],a.set.types[o[p]],g,O-g)),m.push(g-d),uE(a,o[p+3],h,v,m,d),new Ee(c,v,m,f)}n.children[r]=l(0,o.length,mt.none,0,a.length);for(let u=0;u<=e;u++)i.childAfter(t.from)}class hE{constructor(t,e){this.offset=e,this.done=!1,this.cursor=t.cursor(Fe.IncludeAnonymous|Fe.IgnoreMounts)}moveTo(t){let{cursor:e}=this,r=t-this.offset;for(;!this.done&&e.from<r;)e.to>=t&&e.enter(r,1,Fe.IgnoreOverlays|Fe.ExcludeBuffers)||e.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let e=this.cursor.tree;;){if(e==t.tree)return!0;if(e.children.length&&e.positions[0]==0&&e.children[0]instanceof Ee)e=e.children[0];else break}return!1}}let xCe=class{constructor(t){var e;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let r=this.curFrag=t[0];this.curTo=(e=r.tree.prop(o$))!==null&&e!==void 0?e:r.to,this.inner=new hE(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let e=this.curFrag=this.fragments[this.fragI];this.curTo=(t=e.tree.prop(o$))!==null&&t!==void 0?t:e.to,this.inner=new hE(e.tree,-e.offset)}}findMounts(t,e){var r;let n=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let s=this.inner.cursor.node;s;s=s.parent){let a=(r=s.tree)===null||r===void 0?void 0:r.prop(ue.mounted);if(a&&a.parser==e)for(let o=this.fragI;o<this.fragments.length;o++){let l=this.fragments[o];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&n.push({frag:l,pos:s.from-l.offset,mount:a})}}}return n}};function cE(i,t){let e=null,r=t;for(let n=1,s=0;n<i.length;n++){let a=i[n-1].to,o=i[n].from;for(;s<r.length;s++){let l=r[s];if(l.from>=o)break;l.to<=a||(e||(r=e=t.slice()),l.from<a?(e[s]=new Qr(l.from,a),l.to>o&&e.splice(s+1,0,new Qr(o,l.to))):l.to>o?e[s--]=new Qr(o,l.to):e.splice(s--,1))}}return r}function kCe(i,t,e,r){let n=0,s=0,a=!1,o=!1,l=-1e9,u=[];for(;;){let h=n==i.length?1e9:a?i[n].to:i[n].from,c=s==t.length?1e9:o?t[s].to:t[s].from;if(a!=o){let d=Math.max(l,e),f=Math.min(h,c,r);d<f&&u.push(new Qr(d,f))}if(l=Math.min(h,c),l==1e9)break;h==l&&(a?(a=!1,n++):a=!0),c==l&&(o?(o=!1,s++):o=!0)}return u}function dE(i,t){let e=[];for(let{pos:r,mount:n,frag:s}of i){let a=r+(n.overlay?n.overlay[0].from:0),o=a+n.tree.length,l=Math.max(s.from,a),u=Math.min(s.to,o);if(n.overlay){let h=n.overlay.map(d=>new Qr(d.from+r,d.to+r)),c=kCe(t,h,l,u);for(let d=0,f=l;;d++){let p=d==c.length,v=p?u:c[d].from;if(v>f&&e.push(new Li(f,v,n.tree,-a,s.from>=f||s.openStart,s.to<=v||s.openEnd)),p)break;f=c[d].to}}else e.push(new Li(l,u,n.tree,-a,s.from>=a||s.openStart,s.to<=o||s.openEnd))}return e}let PCe=0;class Vr{constructor(t,e,r){this.set=t,this.base=e,this.modified=r,this.id=PCe++}static define(t){if(t!=null&&t.base)throw new Error("Can not derive from a modified tag");let e=new Vr([],null,[]);if(e.set.push(e),t)for(let r of t.set)e.set.push(r);return e}static defineModifier(){let t=new kd;return e=>e.modified.indexOf(t)>-1?e:kd.get(e.base||e,e.modified.concat(t).sort((r,n)=>r.id-n.id))}}let TCe=0;class kd{constructor(){this.instances=[],this.id=TCe++}static get(t,e){if(!e.length)return t;let r=e[0].instances.find(o=>o.base==t&&_Ce(e,o.modified));if(r)return r;let n=[],s=new Vr(n,t,e);for(let o of e)o.instances.push(s);let a=ECe(e);for(let o of t.set)if(!o.modified.length)for(let l of a)n.push(kd.get(o,l));return s}}function _Ce(i,t){return i.length==t.length&&i.every((e,r)=>e==t[r])}function ECe(i){let t=[[]];for(let e=0;e<i.length;e++)for(let r=0,n=t.length;r<n;r++)t.push(t[r].concat(i[e]));return t.sort((e,r)=>r.length-e.length)}function yo(i){let t=Object.create(null);for(let e in i){let r=i[e];Array.isArray(r)||(r=[r]);for(let n of e.split(" "))if(n){let s=[],a=2,o=n;for(let c=0;;){if(o=="..."&&c>0&&c+3==n.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!d)throw new RangeError("Invalid path: "+n);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),c+=d[0].length,c==n.length)break;let f=n[c++];if(c==n.length&&f=="!"){a=0;break}if(f!="/")throw new RangeError("Invalid path: "+n);o=n.slice(c)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+n);let h=new Pd(r,a,l>0?s.slice(0,l):null);t[u]=h.sort(t[u])}}return vN.add(t)}const vN=new ue;class Pd{constructor(t,e,r,n){this.tags=t,this.mode=e,this.context=r,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Pd.empty=new Pd([],2,null);function gN(i,t){let e=Object.create(null);for(let s of i)if(!Array.isArray(s.tag))e[s.tag.id]=s.class;else for(let a of s.tag)e[a.id]=s.class;let{scope:r,all:n=null}=t||{};return{style:s=>{let a=n;for(let o of s)for(let l of o.set){let u=e[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function CCe(i,t){let e=null;for(let r of i){let n=r.style(t);n&&(e=e?e+" "+n:n)}return e}function ICe(i,t,e,r=0,n=i.length){let s=new QCe(r,Array.isArray(t)?t:[t],e);s.highlightRange(i.cursor(),r,n,"",s.highlighters),s.flush(n)}class QCe{constructor(t,e,r){this.at=t,this.highlighters=e,this.span=r,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,r,n,s){let{type:a,from:o,to:l}=t;if(o>=r||l<=e)return;a.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(a)));let u=n,h=ACe(t)||Pd.empty,c=CCe(s,h.tags);if(c&&(u&&(u+=" "),u+=c,h.mode==1&&(n+=(n?" ":"")+c)),this.startSpan(Math.max(e,o),u),h.opaque)return;let d=t.tree&&t.tree.prop(ue.mounted);if(d&&d.overlay){let f=t.node.enter(d.overlay[0].from+o,1),p=this.highlighters.filter(m=>!m.scope||m.scope(d.tree.type)),v=t.firstChild();for(let m=0,g=o;;m++){let O=m<d.overlay.length?d.overlay[m]:null,b=O?O.from+o:l,y=Math.max(e,g),w=Math.min(r,b);if(y<w&&v)for(;t.from<w&&(this.highlightRange(t,y,w,n,s),this.startSpan(Math.min(w,t.to),u),!(t.to>=b||!t.nextSibling())););if(!O||b>r)break;g=O.to+o,g>e&&(this.highlightRange(f.cursor(),Math.max(e,O.from+o),Math.min(r,g),"",p),this.startSpan(Math.min(r,g),u))}v&&t.parent()}else if(t.firstChild()){d&&(n="");do if(!(t.to<=e)){if(t.from>=r)break;this.highlightRange(t,e,r,n,s),this.startSpan(Math.min(r,t.to),u)}while(t.nextSibling());t.parent()}}}function ACe(i){let t=i.type.prop(vN);for(;t&&t.context&&!i.matchContext(t.context);)t=t.next;return t||null}const F=Vr.define,Hh=F(),ln=F(),fE=F(ln),pE=F(ln),un=F(),Kh=F(un),Og=F(un),ui=F(),Xn=F(ui),oi=F(),li=F(),l$=F(),Co=F(l$),Jh=F(),$={comment:Hh,lineComment:F(Hh),blockComment:F(Hh),docComment:F(Hh),name:ln,variableName:F(ln),typeName:fE,tagName:F(fE),propertyName:pE,attributeName:F(pE),className:F(ln),labelName:F(ln),namespace:F(ln),macroName:F(ln),literal:un,string:Kh,docString:F(Kh),character:F(Kh),attributeValue:F(Kh),number:Og,integer:F(Og),float:F(Og),bool:F(un),regexp:F(un),escape:F(un),color:F(un),url:F(un),keyword:oi,self:F(oi),null:F(oi),atom:F(oi),unit:F(oi),modifier:F(oi),operatorKeyword:F(oi),controlKeyword:F(oi),definitionKeyword:F(oi),moduleKeyword:F(oi),operator:li,derefOperator:F(li),arithmeticOperator:F(li),logicOperator:F(li),bitwiseOperator:F(li),compareOperator:F(li),updateOperator:F(li),definitionOperator:F(li),typeOperator:F(li),controlOperator:F(li),punctuation:l$,separator:F(l$),bracket:Co,angleBracket:F(Co),squareBracket:F(Co),paren:F(Co),brace:F(Co),content:ui,heading:Xn,heading1:F(Xn),heading2:F(Xn),heading3:F(Xn),heading4:F(Xn),heading5:F(Xn),heading6:F(Xn),contentSeparator:F(ui),list:F(ui),quote:F(ui),emphasis:F(ui),strong:F(ui),link:F(ui),monospace:F(ui),strikethrough:F(ui),inserted:F(),deleted:F(),changed:F(),invalid:F(),meta:Jh,documentMeta:F(Jh),annotation:F(Jh),processingInstruction:F(Jh),definition:Vr.defineModifier(),constant:Vr.defineModifier(),function:Vr.defineModifier(),standard:Vr.defineModifier(),local:Vr.defineModifier(),special:Vr.defineModifier()};gN([{tag:$.link,class:"tok-link"},{tag:$.heading,class:"tok-heading"},{tag:$.emphasis,class:"tok-emphasis"},{tag:$.strong,class:"tok-strong"},{tag:$.keyword,class:"tok-keyword"},{tag:$.atom,class:"tok-atom"},{tag:$.bool,class:"tok-bool"},{tag:$.url,class:"tok-url"},{tag:$.labelName,class:"tok-labelName"},{tag:$.inserted,class:"tok-inserted"},{tag:$.deleted,class:"tok-deleted"},{tag:$.literal,class:"tok-literal"},{tag:$.string,class:"tok-string"},{tag:$.number,class:"tok-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"tok-string2"},{tag:$.variableName,class:"tok-variableName"},{tag:$.local($.variableName),class:"tok-variableName tok-local"},{tag:$.definition($.variableName),class:"tok-variableName tok-definition"},{tag:$.special($.variableName),class:"tok-variableName2"},{tag:$.definition($.propertyName),class:"tok-propertyName tok-definition"},{tag:$.typeName,class:"tok-typeName"},{tag:$.namespace,class:"tok-namespace"},{tag:$.className,class:"tok-className"},{tag:$.macroName,class:"tok-macroName"},{tag:$.propertyName,class:"tok-propertyName"},{tag:$.operator,class:"tok-operator"},{tag:$.comment,class:"tok-comment"},{tag:$.meta,class:"tok-meta"},{tag:$.invalid,class:"tok-invalid"},{tag:$.punctuation,class:"tok-punctuation"}]);var yg;const is=new ue;function f0(i){return le.define({combine:i?t=>t.concat(i):void 0})}const p0=new ue;class Ar{constructor(t,e,r=[],n=""){this.data=t,this.name=n,Pe.prototype.hasOwnProperty("tree")||Object.defineProperty(Pe.prototype,"tree",{get(){return zt(this)}}),this.parser=e,this.extension=[ja.of(this),Pe.languageData.of((s,a,o)=>{let l=vE(s,a,o),u=l.type.prop(is);if(!u)return[];let h=s.facet(u),c=l.type.prop(p0);if(c){let d=l.resolve(a-l.from,o);for(let f of c)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(h)}}return h})].concat(r)}isActiveAt(t,e,r=-1){return vE(t,e,r).type.prop(is)==this.data}findRegions(t){let e=t.facet(ja);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let r=[],n=(s,a)=>{if(s.prop(is)==this.data){r.push({from:a,to:a+s.length});return}let o=s.prop(ue.mounted);if(o){if(o.tree.prop(is)==this.data){if(o.overlay)for(let l of o.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+s.length});return}else if(o.overlay){let l=r.length;if(n(o.tree,o.overlay[0].from+a),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Ee&&n(u,s.positions[l]+a)}};return n(zt(t),0),r}get allowsNesting(){return!0}}Ar.setState=nt.define();function vE(i,t,e){let r=i.facet(ja),n=zt(i).topNode;if(!r||r.allowsNesting)for(let s=n;s;s=s.enter(t,e,Fe.ExcludeBuffers))s.type.isTop&&(n=s);return n}class za extends Ar{constructor(t,e,r){super(t,e,[],r),this.parser=e}static define(t){let e=f0(t.languageData);return new za(e,t.parser.configure({props:[is.add(r=>r.isTop?e:void 0)]}),t.name)}configure(t,e){return new za(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function zt(i){let t=i.field(Ar.state,!1);return t?t.tree:Ee.empty}class RCe{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let r=this.cursorPos-this.string.length;return t<r||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-r,e-r)}}let Io=null;class Dl{constructor(t,e,r=[],n,s,a,o,l){this.parser=t,this.state=e,this.fragments=r,this.tree=n,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,r){return new Dl(t,e,[],Ee.empty,0,r,[],null)}startParse(){return this.parser.startParse(new RCe(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=Ee.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let n=Date.now()+t;t=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(Li.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(Li.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Io;Io=this;try{return t()}finally{Io=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=gE(t,e.from,e.to);return t}changes(t,e){let{fragments:r,tree:n,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!t.empty){let l=[];if(t.iterChangedRanges((u,h,c,d)=>l.push({fromA:u,toA:h,fromB:c,toB:d})),r=Li.applyChanges(r,l),n=Ee.empty,s=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let h=t.mapPos(u.from,1),c=t.mapPos(u.to,-1);h<c&&o.push({from:h,to:c})}}}return new Dl(this.parser,e,r,n,s,a,o,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:n,to:s}=this.skipped[r];n<t.to&&s>t.from&&(this.fragments=gE(this.fragments,n,s),this.skipped.splice(r--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends d0{createParse(e,r,n){let s=n[0].from,a=n[n.length-1].to;return{parsedPos:s,advance(){let l=Io;if(l){for(let u of n)l.tempSkipped.push(u);t&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,t]):t)}return this.parsedPos=a,new Ee(mt.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Io}}function gE(i,t,e){return Li.applyChanges(i,[{fromA:t,toA:e,fromB:t,toB:e}])}class Fa{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,r)||e.takeTree(),new Fa(e)}static init(t){let e=Math.min(3e3,t.doc.length),r=Dl.create(t.facet(ja).parser,t,{from:0,to:e});return r.work(20,e)||r.takeTree(),new Fa(r)}}Ar.state=Ln.define({create:Fa.init,update(i,t){for(let e of t.effects)if(e.is(Ar.setState))return e.value;return t.startState.facet(ja)!=t.state.facet(ja)?Fa.init(t.state):i.apply(t)}});let mN=i=>{let t=setTimeout(()=>i(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(mN=i=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(i,{timeout:500-100})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const bg=typeof navigator<"u"&&(!((yg=navigator.scheduling)===null||yg===void 0)&&yg.isInputPending)?()=>navigator.scheduling.isInputPending():null,MCe=xs.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Ar.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Ar.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=mN(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,s=r.field(Ar.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!bg?Math.max(25,t.timeRemaining()-5):1e9),o=s.context.treeLen<n&&r.doc.length>n+1e3,l=s.context.work(()=>bg&&bg()||Date.now()>a,n+(o?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ar.setState.of(new Fa(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>wn(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ja=le.define({combine(i){return i.length?i[0]:null},enables:i=>[Ar.state,MCe,de.contentAttributes.compute([i],t=>{let e=t.facet(i);return e&&e.name?{"data-language":e.name}:{}})]});class Nl{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}class Td{constructor(t,e,r,n,s,a=void 0){this.name=t,this.alias=e,this.extensions=r,this.filename=n,this.loadFunc=s,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(t=>this.support=t,t=>{throw this.loading=null,t}))}static of(t){let{load:e,support:r}=t;if(!e){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");e=()=>Promise.resolve(r)}return new Td(t.name,(t.alias||[]).concat(t.name).map(n=>n.toLowerCase()),t.extensions||[],t.filename,e,r)}static matchFilename(t,e){for(let n of t)if(n.filename&&n.filename.test(e))return n;let r=/\.([^.]+)$/.exec(e);if(r){for(let n of t)if(n.extensions.indexOf(r[1])>-1)return n}return null}static matchLanguageName(t,e,r=!0){e=e.toLowerCase();for(let n of t)if(n.alias.some(s=>s==e))return n;if(r)for(let n of t)for(let s of n.alias){let a=e.indexOf(s);if(a>-1&&(s.length>2||!/\w/.test(e[a-1])&&!/\w/.test(e[a+s.length])))return n}return null}}const DCe=le.define({combine:i=>{if(!i.length)return"  ";let t=i[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return t}}),Lf=new ue;function NCe(i){let t=i.node,e=t.childAfter(t.from),r=t.lastChild;if(!e)return null;let n=i.options.simulateBreak,s=i.state.doc.lineAt(e.from),a=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=e.to;;){let l=t.childAfter(o);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?e:null;o=l.to}}function BCe({closing:i,align:t=!0,units:e=1}){return r=>ZCe(r,t,e,i)}function ZCe(i,t,e,r,n){let s=i.textAfter,a=s.match(/^\s*/)[0].length,o=r&&s.slice(a,a+r.length)==r||n==i.pos+a,l=t?NCe(i):null;return l?o?i.column(l.from):i.column(l.to):i.baseIndent+(o?0:i.unit*e)}const LCe=i=>i.baseIndent;function Ic({except:i,units:t=1}={}){return e=>{let r=i&&i.test(e.textAfter);return e.baseIndent+(r?0:t*e.unit)}}const zCe=le.define(),zf=new ue;function ON(i){let t=i.firstChild,e=i.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?i.to:e.from}:null}class Hu{constructor(t,e){this.specs=t;let r;function n(o){let l=En.newName();return(r||(r=Object.create(null)))["."+l]=o,l}const s=typeof e.all=="string"?e.all:e.all?n(e.all):void 0,a=e.scope;this.scope=a instanceof Ar?o=>o.prop(is)==a.data:a?o=>o==a:void 0,this.style=gN(t.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=r?new En(r):null,this.themeType=e.themeType}static define(t,e){return new Hu(t,e||{})}}const u$=le.define(),yN=le.define({combine(i){return i.length?[i[0]]:null}});function $g(i){let t=i.facet(u$);return t.length?t:i.facet(yN)}function FCe(i,t){let e=[XCe],r;return i instanceof Hu&&(i.module&&e.push(de.styleModule.of(i.module)),r=i.themeType),t!=null&&t.fallback?e.push(yN.of(i)):r?e.push(u$.computeN([de.darkTheme],n=>n.facet(de.darkTheme)==(r=="dark")?[i]:[])):e.push(u$.of(i)),e}class jCe{constructor(t){this.markCache=Object.create(null),this.tree=zt(t.state),this.decorations=this.buildDeco(t,$g(t.state))}update(t){let e=zt(t.state),r=$g(t.state),n=r!=$g(t.startState);e.length<t.view.viewport.to&&!n&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||n)&&(this.tree=e,this.decorations=this.buildDeco(t.view,r))}buildDeco(t,e){if(!e||!this.tree.length)return ut.none;let r=new Cl;for(let{from:n,to:s}of t.visibleRanges)ICe(this.tree,e,(a,o,l)=>{r.add(a,o,this.markCache[l]||(this.markCache[l]=ut.mark({class:l})))},n,s);return r.finish()}}const XCe=Wu.high(xs.fromClass(jCe,{decorations:i=>i.decorations}));$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const YCe=new ue,WCe=Object.create(null),mE=[mt.none],OE=[],VCe=Object.create(null);for(let[i,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])VCe[i]=UCe(WCe,t);function wg(i,t){OE.indexOf(i)>-1||(OE.push(i),console.warn(t))}function UCe(i,t){let e=null;for(let s of t.split(".")){let a=i[s]||$[s];a?typeof a=="function"?e?e=a(e):wg(s,`Modifier ${s} used at start of tag`):e?wg(s,`Tag ${s} used as modifier`):e=a:wg(s,`Unknown highlighting tag ${s}`)}if(!e)return 0;let r=t.replace(/ /g,"_"),n=mt.define({id:mE.length,name:r,props:[yo({[r]:e})]});return mE.push(n),n.id}class qCe{constructor(t,e,r){this.state=t,this.pos=e,this.explicit=r,this.abortListeners=[]}tokenBefore(t){let e=zt(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),r=Math.max(e.from,this.pos-250),n=e.text.slice(r-e.from,this.pos-e.from),s=n.search(JCe(t,!1));return s<0?null:{from:r+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(t,e){t=="abort"&&this.abortListeners&&this.abortListeners.push(e)}}function yE(i){let t=Object.keys(i).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function GCe(i){let t=Object.create(null),e=Object.create(null);for(let{label:n}of i){t[n[0]]=!0;for(let s=1;s<n.length;s++)e[n[s]]=!0}let r=yE(t)+yE(e)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function HCe(i){let t=i.map(n=>typeof n=="string"?{label:n}:n),[e,r]=t.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:GCe(t);return n=>{let s=n.matchBefore(r);return s||n.explicit?{from:s?s.from:n.pos,options:t,validFor:e}:null}}function KCe(i,t){return e=>{for(let r=zt(e.state).resolveInner(e.pos,-1);r;r=r.parent){if(i.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return t(e)}}function JCe(i,t){var e;let{source:r}=i,n=t&&r[0]!="^",s=r[r.length-1]!="$";return!n&&!s?i:new RegExp(`${n?"^":""}(?:${r})${s?"$":""}`,(e=i.flags)!==null&&e!==void 0?e:i.ignoreCase?"i":"")}const eIe=Bs.define(),tIe=de.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class rIe{constructor(t,e,r,n){this.field=t,this.line=e,this.from=r,this.to=n}}class v0{constructor(t,e,r){this.field=t,this.from=e,this.to=r}map(t){let e=t.mapPos(this.from,-1,Ut.TrackDel),r=t.mapPos(this.to,1,Ut.TrackDel);return e==null||r==null?null:new v0(this.field,e,r)}}class g0{constructor(t,e){this.lines=t,this.fieldPositions=e}instantiate(t,e){let r=[],n=[e],s=t.doc.lineAt(e),a=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=a,h=/^\t*/.exec(l)[0].length;for(let c=0;c<h;c++)u+=t.facet(DCe);n.push(e+u.length-h),l=u+l.slice(h)}r.push(l),e+=l.length+1}let o=this.fieldPositions.map(l=>new v0(l.field,n[l.line]+l.from,n[l.line]+l.to));return{text:r,ranges:o}}static parse(t){let e=[],r=[],n=[],s;for(let a of t.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(a);){let o=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1;for(let h=0;h<e.length;h++)(o!=null?e[h].seq==o:l&&e[h].name==l)&&(u=h);if(u<0){let h=0;for(;h<e.length&&(o==null||e[h].seq!=null&&e[h].seq<o);)h++;e.splice(h,0,{seq:o,name:l}),u=h;for(let c of n)c.field>=u&&c.field++}n.push(new rIe(u,r.length,s.index,s.index+l.length)),a=a.slice(0,s.index)+l+a.slice(s.index+s[0].length)}for(let o;o=/\\([{}])/.exec(a);){a=a.slice(0,o.index)+o[1]+a.slice(o.index+o[0].length);for(let l of n)l.line==r.length&&l.from>o.index&&(l.from--,l.to--)}r.push(a)}return new g0(r,n)}}let iIe=ut.widget({widget:new class extends Vu{toDOM(){let i=document.createElement("span");return i.className="cm-snippetFieldPosition",i}ignoreEvent(){return!1}}}),nIe=ut.mark({class:"cm-snippetField"});class bo{constructor(t,e){this.ranges=t,this.active=e,this.deco=ut.set(t.map(r=>(r.from==r.to?iIe:nIe).range(r.from,r.to)))}map(t){let e=[];for(let r of this.ranges){let n=r.map(t);if(!n)return null;e.push(n)}return new bo(e,this.active)}selectionInsideField(t){return t.ranges.every(e=>this.ranges.some(r=>r.field==this.active&&r.from<=e.from&&r.to>=e.to))}}const Ku=nt.define({map(i,t){return i&&i.map(t)}}),sIe=nt.define(),Bl=Ln.define({create(){return null},update(i,t){for(let e of t.effects){if(e.is(Ku))return e.value;if(e.is(sIe)&&i)return new bo(i.ranges,e.value)}return i&&t.docChanged&&(i=i.map(t.changes)),i&&t.selection&&!i.selectionInsideField(t.selection)&&(i=null),i},provide:i=>de.decorations.from(i,t=>t?t.deco:ut.none)});function m0(i,t){return Y.create(i.filter(e=>e.field==t).map(e=>Y.range(e.from,e.to)))}function aIe(i){let t=g0.parse(i);return(e,r,n,s)=>{let{text:a,ranges:o}=t.instantiate(e.state,n),l={changes:{from:n,to:s,insert:Te.of(a)},scrollIntoView:!0,annotations:r?eIe.of(r):void 0};if(o.length&&(l.selection=m0(o,0)),o.length>1){let u=new bo(o,0),h=l.effects=[Ku.of(u)];e.state.field(Bl,!1)===void 0&&h.push(nt.appendConfig.of([Bl,cIe,dIe,tIe]))}e.dispatch(e.state.update(l))}}function bN(i){return({state:t,dispatch:e})=>{let r=t.field(Bl,!1);if(!r||i<0&&r.active==0)return!1;let n=r.active+i,s=i>0&&!r.ranges.some(a=>a.field==n+i);return e(t.update({selection:m0(r.ranges,n),effects:Ku.of(s?null:new bo(r.ranges,n))})),!0}}const oIe=({state:i,dispatch:t})=>i.field(Bl,!1)?(t(i.update({effects:Ku.of(null)})),!0):!1,lIe=bN(1),uIe=bN(-1),hIe=[{key:"Tab",run:lIe,shift:uIe},{key:"Escape",run:oIe}],bE=le.define({combine(i){return i.length?i[0]:hIe}}),cIe=Wu.highest(l0.compute([bE],i=>i.facet(bE)));function nr(i,t){return Object.assign(Object.assign({},t),{apply:aIe(i)})}const dIe=de.domEventHandlers({mousedown(i,t){let e=t.state.field(Bl,!1),r;if(!e||(r=t.posAtCoords({x:i.clientX,y:i.clientY}))==null)return!1;let n=e.ranges.find(s=>s.from<=r&&s.to>=r);return!n||n.field==e.active?!1:(t.dispatch({selection:m0(e.ranges,n.field),effects:Ku.of(e.ranges.some(s=>s.field>n.field)?new bo(e.ranges,n.field):null)}),!0)}}),$N=new class extends ws{};$N.startSide=1;$N.endSide=-1;class fIe{}class _d{static create(t,e,r,n,s){let a=n+(n<<8)+t+(e<<4)|0;return new _d(t,e,r,a,s,[],[])}constructor(t,e,r,n,s,a,o){this.type=t,this.value=e,this.from=r,this.hash=n,this.end=s,this.children=a,this.positions=o,this.hashProp=[[ue.contextHash,n]]}addChild(t,e){t.prop(ue.contextHash)!=this.hash&&(t=new Ee(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(e)}toTree(t,e=this.end){let r=this.children.length-1;return r>=0&&(e=Math.max(e,this.positions[r]+this.children[r].length+this.from)),new Ee(t.types[this.type],this.children,this.positions,e-this.from).balance({makeTree:(n,s,a)=>new Ee(mt.none,n,s,a,this.hashProp)})}}var B;(function(i){i[i.Document=1]="Document",i[i.CodeBlock=2]="CodeBlock",i[i.FencedCode=3]="FencedCode",i[i.Blockquote=4]="Blockquote",i[i.HorizontalRule=5]="HorizontalRule",i[i.BulletList=6]="BulletList",i[i.OrderedList=7]="OrderedList",i[i.ListItem=8]="ListItem",i[i.ATXHeading1=9]="ATXHeading1",i[i.ATXHeading2=10]="ATXHeading2",i[i.ATXHeading3=11]="ATXHeading3",i[i.ATXHeading4=12]="ATXHeading4",i[i.ATXHeading5=13]="ATXHeading5",i[i.ATXHeading6=14]="ATXHeading6",i[i.SetextHeading1=15]="SetextHeading1",i[i.SetextHeading2=16]="SetextHeading2",i[i.HTMLBlock=17]="HTMLBlock",i[i.LinkReference=18]="LinkReference",i[i.Paragraph=19]="Paragraph",i[i.CommentBlock=20]="CommentBlock",i[i.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",i[i.Escape=22]="Escape",i[i.Entity=23]="Entity",i[i.HardBreak=24]="HardBreak",i[i.Emphasis=25]="Emphasis",i[i.StrongEmphasis=26]="StrongEmphasis",i[i.Link=27]="Link",i[i.Image=28]="Image",i[i.InlineCode=29]="InlineCode",i[i.HTMLTag=30]="HTMLTag",i[i.Comment=31]="Comment",i[i.ProcessingInstruction=32]="ProcessingInstruction",i[i.URL=33]="URL",i[i.HeaderMark=34]="HeaderMark",i[i.QuoteMark=35]="QuoteMark",i[i.ListMark=36]="ListMark",i[i.LinkMark=37]="LinkMark",i[i.EmphasisMark=38]="EmphasisMark",i[i.CodeMark=39]="CodeMark",i[i.CodeText=40]="CodeText",i[i.CodeInfo=41]="CodeInfo",i[i.LinkTitle=42]="LinkTitle",i[i.LinkLabel=43]="LinkLabel"})(B||(B={}));class pIe{constructor(t,e){this.start=t,this.content=e,this.marks=[],this.parsers=[]}}class vIe{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return al(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,e=0,r=0){for(let n=e;n<t;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return r}findColumn(t){let e=0;for(let r=0;e<this.text.length&&r<t;e++)r+=this.text.charCodeAt(e)==9?4-r%4:1;return e}scrub(){if(!this.baseIndent)return this.text;let t="";for(let e=0;e<this.basePos;e++)t+=" ";return t+this.text.slice(this.basePos)}}function $E(i,t,e){if(e.pos==e.text.length||i!=t.block&&e.indent>=t.stack[e.depth+1].value+e.baseIndent)return!0;if(e.indent>=e.baseIndent+4)return!1;let r=(i.type==B.OrderedList?b0:y0)(e,t,!1);return r>0&&(i.type!=B.BulletList||O0(e,t,!1)<0)&&e.text.charCodeAt(e.pos+r-1)==i.value}const wN={[B.Blockquote](i,t,e){return e.next!=62?!1:(e.markers.push(we(B.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1)),e.moveBase(e.pos+(Fr(e.text.charCodeAt(e.pos+1))?2:1)),i.end=t.lineStart+e.text.length,!0)},[B.ListItem](i,t,e){return e.indent<e.baseIndent+i.value&&e.next>-1?!1:(e.moveBaseColumn(e.baseIndent+i.value),!0)},[B.OrderedList]:$E,[B.BulletList]:$E,[B.Document](){return!0}};function Fr(i){return i==32||i==9||i==10||i==13}function al(i,t=0){for(;t<i.length&&Fr(i.charCodeAt(t));)t++;return t}function wE(i,t,e){for(;t>e&&Fr(i.charCodeAt(t-1));)t--;return t}function SN(i){if(i.next!=96&&i.next!=126)return-1;let t=i.pos+1;for(;t<i.text.length&&i.text.charCodeAt(t)==i.next;)t++;if(t<i.pos+3)return-1;if(i.next==96){for(let e=t;e<i.text.length;e++)if(i.text.charCodeAt(e)==96)return-1}return t}function xN(i){return i.next!=62?-1:i.text.charCodeAt(i.pos+1)==32?2:1}function O0(i,t,e){if(i.next!=42&&i.next!=45&&i.next!=95)return-1;let r=1;for(let n=i.pos+1;n<i.text.length;n++){let s=i.text.charCodeAt(n);if(s==i.next)r++;else if(!Fr(s))return-1}return e&&i.next==45&&TN(i)>-1&&i.depth==t.stack.length||r<3?-1:1}function kN(i,t){for(let e=i.stack.length-1;e>=0;e--)if(i.stack[e].type==t)return!0;return!1}function y0(i,t,e){return(i.next==45||i.next==43||i.next==42)&&(i.pos==i.text.length-1||Fr(i.text.charCodeAt(i.pos+1)))&&(!e||kN(t,B.BulletList)||i.skipSpace(i.pos+2)<i.text.length)?1:-1}function b0(i,t,e){let r=i.pos,n=i.next;for(;n>=48&&n<=57;){r++;if(r==i.text.length)return-1;n=i.text.charCodeAt(r)}return r==i.pos||r>i.pos+9||n!=46&&n!=41||r<i.text.length-1&&!Fr(i.text.charCodeAt(r+1))||e&&!kN(t,B.OrderedList)&&(i.skipSpace(r+1)==i.text.length||r>i.pos+1||i.next!=49)?-1:r+1-i.pos}function PN(i){if(i.next!=35)return-1;let t=i.pos+1;for(;t<i.text.length&&i.text.charCodeAt(t)==35;)t++;if(t<i.text.length&&i.text.charCodeAt(t)!=32)return-1;let e=t-i.pos;return e>6?-1:e}function TN(i){if(i.next!=45&&i.next!=61||i.indent>=i.baseIndent+4)return-1;let t=i.pos+1;for(;t<i.text.length&&i.text.charCodeAt(t)==i.next;)t++;let e=t;for(;t<i.text.length&&Fr(i.text.charCodeAt(t));)t++;return t==i.text.length?e:-1}const h$=/^[ \t]*$/,_N=/-->/,EN=/\?>/,c$=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,_N],[/^\s*<\?/,EN],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,h$],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,h$]];function CN(i,t,e){if(i.next!=60)return-1;let r=i.text.slice(i.pos);for(let n=0,s=c$.length-(e?1:0);n<s;n++)if(c$[n][0].test(r))return n;return-1}function SE(i,t){let e=i.countIndent(t,i.pos,i.indent),r=i.countIndent(i.skipSpace(t),t,e);return r>=e+5?e+1:r}function Yn(i,t,e){let r=i.length-1;r>=0&&i[r].to==t&&i[r].type==B.CodeText?i[r].to=e:i.push(we(B.CodeText,t,e))}const ec={LinkReference:void 0,IndentedCode(i,t){let e=t.baseIndent+4;if(t.indent<e)return!1;let r=t.findColumn(e),n=i.lineStart+r,s=i.lineStart+t.text.length,a=[],o=[];for(Yn(a,n,s);i.nextLine()&&t.depth>=i.stack.length;)if(t.pos==t.text.length){Yn(o,i.lineStart-1,i.lineStart);for(let l of t.markers)o.push(l)}else{if(t.indent<e)break;{if(o.length){for(let u of o)u.type==B.CodeText?Yn(a,u.from,u.to):a.push(u);o=[]}Yn(a,i.lineStart-1,i.lineStart);for(let u of t.markers)a.push(u);s=i.lineStart+t.text.length;let l=i.lineStart+t.findColumn(t.baseIndent+4);l<s&&Yn(a,l,s)}}return o.length&&(o=o.filter(l=>l.type!=B.CodeText),o.length&&(t.markers=o.concat(t.markers))),i.addNode(i.buffer.writeElements(a,-n).finish(B.CodeBlock,s-n),n),!0},FencedCode(i,t){let e=SN(t);if(e<0)return!1;let r=i.lineStart+t.pos,n=t.next,s=e-t.pos,a=t.skipSpace(e),o=wE(t.text,t.text.length,a),l=[we(B.CodeMark,r,r+s)];a<o&&l.push(we(B.CodeInfo,i.lineStart+a,i.lineStart+o));for(let u=!0;i.nextLine()&&t.depth>=i.stack.length;u=!1){let h=t.pos;if(t.indent-t.baseIndent<4)for(;h<t.text.length&&t.text.charCodeAt(h)==n;)h++;if(h-t.pos>=s&&t.skipSpace(h)==t.text.length){for(let c of t.markers)l.push(c);l.push(we(B.CodeMark,i.lineStart+t.pos,i.lineStart+h)),i.nextLine();break}else{u||Yn(l,i.lineStart-1,i.lineStart);for(let f of t.markers)l.push(f);let c=i.lineStart+t.basePos,d=i.lineStart+t.text.length;c<d&&Yn(l,c,d)}}return i.addNode(i.buffer.writeElements(l,-r).finish(B.FencedCode,i.prevLineEnd()-r),r),!0},Blockquote(i,t){let e=xN(t);return e<0?!1:(i.startContext(B.Blockquote,t.pos),i.addNode(B.QuoteMark,i.lineStart+t.pos,i.lineStart+t.pos+1),t.moveBase(t.pos+e),null)},HorizontalRule(i,t){if(O0(t,i,!1)<0)return!1;let e=i.lineStart+t.pos;return i.nextLine(),i.addNode(B.HorizontalRule,e),!0},BulletList(i,t){let e=y0(t,i,!1);if(e<0)return!1;i.block.type!=B.BulletList&&i.startContext(B.BulletList,t.basePos,t.next);let r=SE(t,t.pos+1);return i.startContext(B.ListItem,t.basePos,r-t.baseIndent),i.addNode(B.ListMark,i.lineStart+t.pos,i.lineStart+t.pos+e),t.moveBaseColumn(r),null},OrderedList(i,t){let e=b0(t,i,!1);if(e<0)return!1;i.block.type!=B.OrderedList&&i.startContext(B.OrderedList,t.basePos,t.text.charCodeAt(t.pos+e-1));let r=SE(t,t.pos+e);return i.startContext(B.ListItem,t.basePos,r-t.baseIndent),i.addNode(B.ListMark,i.lineStart+t.pos,i.lineStart+t.pos+e),t.moveBaseColumn(r),null},ATXHeading(i,t){let e=PN(t);if(e<0)return!1;let r=t.pos,n=i.lineStart+r,s=wE(t.text,t.text.length,r),a=s;for(;a>r&&t.text.charCodeAt(a-1)==t.next;)a--;(a==s||a==r||!Fr(t.text.charCodeAt(a-1)))&&(a=t.text.length);let o=i.buffer.write(B.HeaderMark,0,e).writeElements(i.parser.parseInline(t.text.slice(r+e+1,a),n+e+1),-n);a<t.text.length&&o.write(B.HeaderMark,a-r,s-r);let l=o.finish(B.ATXHeading1-1+e,t.text.length-r);return i.nextLine(),i.addNode(l,n),!0},HTMLBlock(i,t){let e=CN(t,i,!1);if(e<0)return!1;let r=i.lineStart+t.pos,n=c$[e][1],s=[],a=n!=h$;for(;!n.test(t.text)&&i.nextLine();){if(t.depth<i.stack.length){a=!1;break}for(let u of t.markers)s.push(u)}a&&i.nextLine();let o=n==_N?B.CommentBlock:n==EN?B.ProcessingInstructionBlock:B.HTMLBlock,l=i.prevLineEnd();return i.addNode(i.buffer.writeElements(s,-r).finish(o,l-r),r),!0},SetextHeading:void 0};class gIe{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,e,r){if(this.stage==-1)return!1;let n=r.content+`
`+e.scrub(),s=this.advance(n);return s>-1&&s<n.length?this.complete(t,r,s):!1}finish(t,e){return(this.stage==2||this.stage==3)&&al(e.content,this.pos)==e.content.length?this.complete(t,e,e.content.length):!1}complete(t,e,r){return t.addLeafElement(e,we(B.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(ZN(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(we(B.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(NN(t,al(t,this.pos),this.start)))return-1}else if(this.stage==2){let e=al(t,this.pos),r=0;if(e>this.pos){let n=BN(t,e,this.start);if(n){let s=Sg(t,n.to-this.start);s>0&&(this.nextStage(n),r=s)}}return r||(r=Sg(t,this.pos)),r>0&&r<t.length?r:-1}else return Sg(t,this.pos)}}}function Sg(i,t){for(;t<i.length;t++){let e=i.charCodeAt(t);if(e==10)break;if(!Fr(e))return-1}return t}class mIe{nextLine(t,e,r){let n=e.depth<t.stack.length?-1:TN(e),s=e.next;if(n<0)return!1;let a=we(B.HeaderMark,t.lineStart+e.pos,t.lineStart+n);return t.nextLine(),t.addLeafElement(r,we(s==61?B.SetextHeading1:B.SetextHeading2,r.start,t.prevLineEnd(),[...t.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const OIe={LinkReference(i,t){return t.content.charCodeAt(0)==91?new gIe(t):null},SetextHeading(){return new mIe}},yIe=[(i,t)=>PN(t)>=0,(i,t)=>SN(t)>=0,(i,t)=>xN(t)>=0,(i,t)=>y0(t,i,!0)>=0,(i,t)=>b0(t,i,!0)>=0,(i,t)=>O0(t,i,!0)>=0,(i,t)=>CN(t,i,!0)>=0],bIe={text:"",end:0};class $Ie{constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.line=new vIe,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=n[n.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=n[0].from,this.block=_d.create(B.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new kIe(r,e):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(;t.depth<this.stack.length;)this.finishContext();for(let r of t.markers)this.addNode(r.type,r.from,r.to);if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let n=r(this,t);if(n!=!1){if(n==!0)return null;t.forward();continue e}}break}let e=new pIe(this.lineStart+t.pos,t.text.slice(t.pos));for(let r of this.parser.leafBlockParsers)if(r){let n=r(this,e);n&&e.parsers.push(n)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,t,e))break e}for(let r of e.parsers)if(r.nextLine(this,t,e))return null;e.content+=`
`+t.scrub();for(let r of t.markers)e.marks.push(r)}return this.finishLeaf(e),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let e=this.fragments.takeNodes(this);return e?(this.absoluteLineStart+=e,this.lineStart=LN(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let e=bIe;if(e.end=t,t>=this.to)e.text="";else if(e.text=this.lineChunkAt(t),e.end+=e.text.length,this.ranges.length>1){let r=this.absoluteLineStart,n=this.rangeI;for(;this.ranges[n].to<e.end;){n++;let s=this.ranges[n].from,a=this.lineChunkAt(s);e.end=s+a.length,e.text=e.text.slice(0,this.ranges[n-1].to-r)+a,r=e.end-e.text.length}}return e}readLine(){let{line:t}=this,{text:e,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,t.reset(e);t.depth<this.stack.length;t.depth++){let n=this.stack[t.depth],s=this.parser.skipContextMarkup[n.type];if(!s)throw new Error("Unhandled block context "+B[n.type]);if(!s(n,this,t))break;t.forward()}}lineChunkAt(t){let e=this.input.chunk(t),r;if(this.input.lineChunks)r=e==`
`?"":e;else{let n=e.indexOf(`
`);r=n<0?e:e.slice(0,n)}return t+r.length>this.to?r.slice(0,this.to-t):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,e,r=0){this.block=_d.create(t,r,this.lineStart+e,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,e,r=0){this.startContext(this.parser.getNodeType(t),e,r)}addNode(t,e,r){typeof t=="number"&&(t=new Ee(this.parser.nodeSet.types[t],Xa,Xa,(r??this.prevLineEnd())-e)),this.block.addChild(t,e-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,e){this.addNode(this.buffer.writeElements(f$(e.children,t.marks),-e.from).finish(e.type,e.to-e.from),e.from)}finishContext(){let t=this.stack.pop(),e=this.stack[this.stack.length-1];e.addChild(t.toTree(this.parser.nodeSet),t.from-e.from),this.block=e}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?IN(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let r of t.parsers)if(r.finish(this,t))return;let e=f$(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(e,-t.start).finish(B.Paragraph,t.content.length),t.start)}elt(t,e,r,n){return typeof t=="string"?we(this.parser.getNodeType(t),e,r,n):new RN(t,e)}get buffer(){return new AN(this.parser.nodeSet)}}function IN(i,t,e,r,n){let s=i[t].to,a=[],o=[],l=e.from+r;function u(h,c){for(;c?h>=s:h>s;){let d=i[t+1].from-s;r+=d,h+=d,t++,s=i[t].to}}for(let h=e.firstChild;h;h=h.nextSibling){u(h.from+r,!0);let c=h.from+r,d,f=n.get(h.tree);f?d=f:h.to+r>s?(d=IN(i,t,h,r,n),u(h.to+r,!1)):d=h.toTree(),a.push(d),o.push(c-l)}return u(e.to+r,!1),new Ee(e.type,a,o,e.to+r-l,e.tree?e.tree.propValues:void 0)}class Ff extends d0{constructor(t,e,r,n,s,a,o,l,u){super(),this.nodeSet=t,this.blockParsers=e,this.leafBlockParsers=r,this.blockNames=n,this.endLeafBlock=s,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let h of t.types)this.nodeTypes[h.name]=h.id}createParse(t,e,r){let n=new $Ie(this,t,e,r);for(let s of this.wrappers)n=s(n,t,e,r);return n}configure(t){let e=d$(t);if(!e)return this;let{nodeSet:r,skipContextMarkup:n}=this,s=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),h=this.endLeafBlock.slice(),c=this.wrappers;if(Qo(e.defineNodes)){n=Object.assign({},n);let d=r.types.slice(),f;for(let p of e.defineNodes){let{name:v,block:m,composite:g,style:O}=typeof p=="string"?{name:p}:p;if(d.some(w=>w.name==v))continue;g&&(n[d.length]=(w,x,P)=>g(x,P,w.value));let b=d.length,y=g?["Block","BlockContext"]:m?b>=B.ATXHeading1&&b<=B.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;d.push(mt.define({id:b,name:v,props:y&&[[ue.group,y]]})),O&&(f||(f={}),Array.isArray(O)||O instanceof Vr?f[v]=O:Object.assign(f,O))}r=new Gu(d),f&&(r=r.extend(yo(f)))}if(Qo(e.props)&&(r=r.extend(...e.props)),Qo(e.remove))for(let d of e.remove){let f=this.blockNames.indexOf(d),p=this.inlineNames.indexOf(d);f>-1&&(s[f]=a[f]=void 0),p>-1&&(l[p]=void 0)}if(Qo(e.parseBlock))for(let d of e.parseBlock){let f=o.indexOf(d.name);if(f>-1)s[f]=d.parse,a[f]=d.leaf;else{let p=d.before?tc(o,d.before):d.after?tc(o,d.after)+1:o.length-1;s.splice(p,0,d.parse),a.splice(p,0,d.leaf),o.splice(p,0,d.name)}d.endLeaf&&h.push(d.endLeaf)}if(Qo(e.parseInline))for(let d of e.parseInline){let f=u.indexOf(d.name);if(f>-1)l[f]=d.parse;else{let p=d.before?tc(u,d.before):d.after?tc(u,d.after)+1:u.length-1;l.splice(p,0,d.parse),u.splice(p,0,d.name)}}return e.wrap&&(c=c.concat(e.wrap)),new Ff(r,s,a,o,h,n,l,u,c)}getNodeType(t){let e=this.nodeTypes[t];if(e==null)throw new RangeError(`Unknown node type '${t}'`);return e}parseInline(t,e){let r=new SIe(this,t,e);e:for(let n=e;n<r.end;){let s=r.char(n);for(let a of this.inlineParsers)if(a){let o=a(r,s,n);if(o>=0){n=o;continue e}}n++}return r.resolveMarkers(0)}}function Qo(i){return i!=null&&i.length>0}function d$(i){if(!Array.isArray(i))return i;if(i.length==0)return null;let t=d$(i[0]);if(i.length==1)return t;let e=d$(i.slice(1));if(!e||!t)return t||e;let r=(a,o)=>(a||Xa).concat(o||Xa),n=t.wrap,s=e.wrap;return{props:r(t.props,e.props),defineNodes:r(t.defineNodes,e.defineNodes),parseBlock:r(t.parseBlock,e.parseBlock),parseInline:r(t.parseInline,e.parseInline),remove:r(t.remove,e.remove),wrap:n?s?(a,o,l,u)=>n(s(a,o,l,u),o,l,u):n:s}}function tc(i,t){let e=i.indexOf(t);if(e<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return e}let QN=[mt.none];for(let i=1,t;t=B[i];i++)QN[i]=mt.define({id:i,name:t,props:i>=B.Escape?[]:[[ue.group,i in wN?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});const Xa=[];class AN{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,e,r,n=0){return this.content.push(t,e,r,4+n*4),this}writeElements(t,e=0){for(let r of t)r.writeTo(this,e);return this}finish(t,e){return Ee.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:e})}}let Zl=class{constructor(t,e,r,n=Xa){this.type=t,this.from=e,this.to=r,this.children=n}writeTo(t,e){let r=t.content.length;t.writeElements(this.children,e),t.content.push(this.type,this.from+e,this.to+e,t.content.length+4-r)}toTree(t){return new AN(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class RN{constructor(t,e){this.tree=t,this.from=e}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Xa}writeTo(t,e){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+e,this.to+e,-1)}toTree(){return this.tree}}function we(i,t,e,r){return new Zl(i,t,e,r)}const MN={resolve:"Emphasis",mark:"EmphasisMark"},DN={resolve:"Emphasis",mark:"EmphasisMark"},Ao={},xE={};class Ur{constructor(t,e,r,n){this.type=t,this.from=e,this.to=r,this.side=n}}const kE="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Ll=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Ll=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const xg={Escape(i,t,e){if(t!=92||e==i.end-1)return-1;let r=i.char(e+1);for(let n=0;n<kE.length;n++)if(kE.charCodeAt(n)==r)return i.append(we(B.Escape,e,e+2));return-1},Entity(i,t,e){if(t!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(i.slice(e+1,e+31));return r?i.append(we(B.Entity,e,e+1+r[0].length)):-1},InlineCode(i,t,e){if(t!=96||e&&i.char(e-1)==96)return-1;let r=e+1;for(;r<i.end&&i.char(r)==96;)r++;let n=r-e,s=0;for(;r<i.end;r++)if(i.char(r)==96){if(s++,s==n&&i.char(r+1)!=96)return i.append(we(B.InlineCode,e,r+1,[we(B.CodeMark,e,e+n),we(B.CodeMark,r+1-n,r+1)]))}else s=0;return-1},HTMLTag(i,t,e){if(t!=60||e==i.end-1)return-1;let r=i.slice(e+1,i.end),n=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(n)return i.append(we(B.URL,e,e+1+n[0].length));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return i.append(we(B.Comment,e,e+1+s[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return i.append(we(B.ProcessingInstruction,e,e+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return o?i.append(we(B.HTMLTag,e,e+1+o[0].length)):-1},Emphasis(i,t,e){if(t!=95&&t!=42)return-1;let r=e+1;for(;i.char(r)==t;)r++;let n=i.slice(e-1,e),s=i.slice(r,r+1),a=Ll.test(n),o=Ll.test(s),l=/\s|^$/.test(n),u=/\s|^$/.test(s),h=!u&&(!o||l||a),c=!l&&(!a||u||o),d=h&&(t==42||!c||a),f=c&&(t==42||!h||o);return i.append(new Ur(t==95?MN:DN,e,r,(d?1:0)|(f?2:0)))},HardBreak(i,t,e){if(t==92&&i.char(e+1)==10)return i.append(we(B.HardBreak,e,e+2));if(t==32){let r=e+1;for(;i.char(r)==32;)r++;if(i.char(r)==10&&r>=e+2)return i.append(we(B.HardBreak,e,r+1))}return-1},Link(i,t,e){return t==91?i.append(new Ur(Ao,e,e+1,1)):-1},Image(i,t,e){return t==33&&i.char(e+1)==91?i.append(new Ur(xE,e,e+2,1)):-1},LinkEnd(i,t,e){if(t!=93)return-1;for(let r=i.parts.length-1;r>=0;r--){let n=i.parts[r];if(n instanceof Ur&&(n.type==Ao||n.type==xE)){if(!n.side||i.skipSpace(n.to)==e&&!/[(\[]/.test(i.slice(e+1,e+2)))return i.parts[r]=null,-1;let s=i.takeContent(r),a=i.parts[r]=wIe(i,s,n.type==Ao?B.Link:B.Image,n.from,e+1);if(n.type==Ao)for(let o=0;o<r;o++){let l=i.parts[o];l instanceof Ur&&l.type==Ao&&(l.side=0)}return a.to}}return-1}};function wIe(i,t,e,r,n){let{text:s}=i,a=i.char(n),o=n;if(t.unshift(we(B.LinkMark,r,r+(e==B.Image?2:1))),t.push(we(B.LinkMark,n-1,n)),a==40){let l=i.skipSpace(n+1),u=NN(s,l-i.offset,i.offset),h;u&&(l=i.skipSpace(u.to),h=BN(s,l-i.offset,i.offset),h&&(l=i.skipSpace(h.to))),i.char(l)==41&&(t.push(we(B.LinkMark,n,n+1)),o=l+1,u&&t.push(u),h&&t.push(h),t.push(we(B.LinkMark,l,o)))}else if(a==91){let l=ZN(s,n-i.offset,i.offset,!1);l&&(t.push(l),o=l.to)}return we(e,r,o,t)}function NN(i,t,e){if(i.charCodeAt(t)==60){for(let n=t+1;n<i.length;n++){let s=i.charCodeAt(n);if(s==62)return we(B.URL,t+e,n+1+e);if(s==60||s==10)return!1}return null}else{let n=0,s=t;for(let a=!1;s<i.length;s++){let o=i.charCodeAt(s);if(Fr(o))break;if(a)a=!1;else if(o==40)n++;else if(o==41){if(!n)break;n--}else o==92&&(a=!0)}return s>t?we(B.URL,t+e,s+e):s==i.length?null:!1}}function BN(i,t,e){let r=i.charCodeAt(t);if(r!=39&&r!=34&&r!=40)return!1;let n=r==40?41:r;for(let s=t+1,a=!1;s<i.length;s++){let o=i.charCodeAt(s);if(a)a=!1;else{if(o==n)return we(B.LinkTitle,t+e,s+1+e);o==92&&(a=!0)}}return null}function ZN(i,t,e,r){for(let n=!1,s=t+1,a=Math.min(i.length,s+999);s<a;s++){let o=i.charCodeAt(s);if(n)n=!1;else{if(o==93)return r?!1:we(B.LinkLabel,t+e,s+1+e);if(r&&!Fr(o)&&(r=!1),o==91)return!1;o==92&&(n=!0)}}return null}class SIe{constructor(t,e,r){this.parser=t,this.text=e,this.offset=r,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,e){return this.text.slice(t-this.offset,e-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,e,r,n,s){return this.append(new Ur(t,e,r,(n?1:0)|(s?2:0)))}addElement(t){return this.append(t)}resolveMarkers(t){for(let r=t;r<this.parts.length;r++){let n=this.parts[r];if(!(n instanceof Ur&&n.type.resolve&&n.side&2))continue;let s=n.type==MN||n.type==DN,a=n.to-n.from,o,l=r-1;for(;l>=t;l--){let v=this.parts[l];if(v instanceof Ur&&v.side&1&&v.type==n.type&&!(s&&(n.side&1||v.side&2)&&(v.to-v.from+a)%3==0&&((v.to-v.from)%3||a%3))){o=v;break}}if(!o)continue;let u=n.type.resolve,h=[],c=o.from,d=n.to;if(s){let v=Math.min(2,o.to-o.from,a);c=o.to-v,d=n.from+v,u=v==1?"Emphasis":"StrongEmphasis"}o.type.mark&&h.push(this.elt(o.type.mark,c,o.to));for(let v=l+1;v<r;v++)this.parts[v]instanceof Zl&&h.push(this.parts[v]),this.parts[v]=null;n.type.mark&&h.push(this.elt(n.type.mark,n.from,d));let f=this.elt(u,c,d,h);this.parts[l]=s&&o.from!=c?new Ur(o.type,o.from,c,o.side):null,(this.parts[r]=s&&n.to!=d?new Ur(n.type,d,n.to,n.side):null)?this.parts.splice(r,0,f):this.parts[r]=f}let e=[];for(let r=t;r<this.parts.length;r++){let n=this.parts[r];n instanceof Zl&&e.push(n)}return e}findOpeningDelimiter(t){for(let e=this.parts.length-1;e>=0;e--){let r=this.parts[e];if(r instanceof Ur&&r.type==t)return e}return null}takeContent(t){let e=this.resolveMarkers(t);return this.parts.length=t,e}skipSpace(t){return al(this.text,t-this.offset)+this.offset}elt(t,e,r,n){return typeof t=="string"?we(this.parser.getNodeType(t),e,r,n):new RN(t,e)}}function f$(i,t){if(!t.length)return i;if(!i.length)return t;let e=i.slice(),r=0;for(let n of t){for(;r<e.length&&e[r].to<n.to;)r++;if(r<e.length&&e[r].from<n.from){let s=e[r];s instanceof Zl&&(e[r]=new Zl(s.type,s.from,s.to,f$(s.children,[n])))}else e.splice(r++,0,n)}return e}const xIe=[B.CodeBlock,B.ListItem,B.OrderedList,B.BulletList];let kIe=class{constructor(t,e){this.fragments=t,this.input=e,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,e){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let n=t+this.fragment.offset;for(;r.to<=n;)if(!r.parent())return!1;for(;;){if(r.from>=n)return this.fragment.from<=e;if(!r.childAfter(n))return!1}}matches(t){let e=this.cursor.tree;return e&&e.prop(ue.contextHash)==t}takeNodes(t){let e=this.cursor,r=this.fragment.offset,n=this.fragmentEnd-(this.fragment.openEnd?1:0),s=t.absoluteLineStart,a=s,o=t.block.children.length,l=a,u=o;for(;;){if(e.to-r>n){if(e.type.isAnonymous&&e.firstChild())continue;break}let h=LN(e.from-r,t.ranges);if(e.to-r<=t.ranges[t.rangeI].to)t.addNode(e.tree,h);else{let c=new Ee(t.parser.nodeSet.types[B.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(c,e.tree),t.addNode(c,h)}if(e.type.is("Block")&&(xIe.indexOf(e.type.id)<0?(a=e.to-r,o=t.block.children.length):(a=l,o=u,l=e.to-r,u=t.block.children.length)),!e.nextSibling())break}for(;t.block.children.length>o;)t.block.children.pop(),t.block.positions.pop();return a-s}};function LN(i,t){let e=i;for(let r=1;r<t.length;r++){let n=t[r-1].to,s=t[r].from;n<i&&(e-=s-n)}return e}const PIe=yo({"Blockquote/...":$.quote,HorizontalRule:$.contentSeparator,"ATXHeading1/... SetextHeading1/...":$.heading1,"ATXHeading2/... SetextHeading2/...":$.heading2,"ATXHeading3/...":$.heading3,"ATXHeading4/...":$.heading4,"ATXHeading5/...":$.heading5,"ATXHeading6/...":$.heading6,"Comment CommentBlock":$.comment,Escape:$.escape,Entity:$.character,"Emphasis/...":$.emphasis,"StrongEmphasis/...":$.strong,"Link/... Image/...":$.link,"OrderedList/... BulletList/...":$.list,"BlockQuote/...":$.quote,"InlineCode CodeText":$.monospace,URL:$.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":$.processingInstruction,"CodeInfo LinkLabel":$.labelName,LinkTitle:$.string,Paragraph:$.content}),TIe=new Ff(new Gu(QN).extend(PIe),Object.keys(ec).map(i=>ec[i]),Object.keys(ec).map(i=>OIe[i]),Object.keys(ec),yIe,wN,Object.keys(xg).map(i=>xg[i]),Object.keys(xg),[]);function _Ie(i,t,e){let r=[];for(let n=i.firstChild,s=t;;n=n.nextSibling){let a=n?n.from:e;if(a>s&&r.push({from:s,to:a}),!n)break;s=n.to}return r}function EIe(i){let{codeParser:t,htmlParser:e}=i;return{wrap:pN((n,s)=>{let a=n.type.id;if(t&&(a==B.CodeBlock||a==B.FencedCode)){let o="";if(a==B.FencedCode){let u=n.node.getChild(B.CodeInfo);u&&(o=s.read(u.from,u.to))}let l=t(o);if(l)return{parser:l,overlay:u=>u.type.id==B.CodeText}}else if(e&&(a==B.HTMLBlock||a==B.HTMLTag))return{parser:e,overlay:_Ie(n.node,n.from,n.to)};return null})}}const CIe={resolve:"Strikethrough",mark:"StrikethroughMark"},IIe={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":$.strikethrough}},{name:"StrikethroughMark",style:$.processingInstruction}],parseInline:[{name:"Strikethrough",parse(i,t,e){if(t!=126||i.char(e+1)!=126||i.char(e+2)==126)return-1;let r=i.slice(e-1,e),n=i.slice(e+2,e+3),s=/\s|^$/.test(r),a=/\s|^$/.test(n),o=Ll.test(r),l=Ll.test(n);return i.addDelimiter(CIe,e,e+2,!a&&(!l||s||o),!s&&(!o||a||l))},after:"Emphasis"}]};function ol(i,t,e=0,r,n=0){let s=0,a=!0,o=-1,l=-1,u=!1,h=()=>{r.push(i.elt("TableCell",n+o,n+l,i.parser.parseInline(t.slice(o,l),n+o)))};for(let c=e;c<t.length;c++){let d=t.charCodeAt(c);d==124&&!u?((!a||o>-1)&&s++,a=!1,r&&(o>-1&&h(),r.push(i.elt("TableDelimiter",c+n,c+n+1))),o=l=-1):(u||d!=32&&d!=9)&&(o<0&&(o=c),l=c+1),u=!u&&d==92}return o>-1&&(s++,r&&h()),s}function PE(i,t){for(let e=t;e<i.length;e++){let r=i.charCodeAt(e);if(r==124)return!0;r==92&&e++}return!1}const zN=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TE{constructor(){this.rows=null}nextLine(t,e,r){if(this.rows==null){this.rows=!1;let n;if((e.next==45||e.next==58||e.next==124)&&zN.test(n=e.text.slice(e.pos))){let s=[];ol(t,r.content,0,s,r.start)==ol(t,n,e.pos)&&(this.rows=[t.elt("TableHeader",r.start,r.start+r.content.length,s),t.elt("TableDelimiter",t.lineStart+e.pos,t.lineStart+e.text.length)])}}else if(this.rows){let n=[];ol(t,e.text,e.pos,n,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+e.pos,t.lineStart+e.text.length,n))}return!1}finish(t,e){return this.rows?(t.addLeafElement(e,t.elt("Table",e.start,e.start+e.content.length,this.rows)),!0):!1}}const QIe={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":$.heading}},"TableRow",{name:"TableCell",style:$.content},{name:"TableDelimiter",style:$.processingInstruction}],parseBlock:[{name:"Table",leaf(i,t){return PE(t.content,0)?new TE:null},endLeaf(i,t,e){if(e.parsers.some(n=>n instanceof TE)||!PE(t.text,t.basePos))return!1;let r=i.scanLine(i.absoluteLineEnd+1).text;return zN.test(r)&&ol(i,t.text,t.basePos)==ol(i,r,t.basePos)},before:"SetextHeading"}]};class AIe{nextLine(){return!1}finish(t,e){return t.addLeafElement(e,t.elt("Task",e.start,e.start+e.content.length,[t.elt("TaskMarker",e.start,e.start+3),...t.parser.parseInline(e.content.slice(3),e.start+3)])),!0}}const RIe={defineNodes:[{name:"Task",block:!0,style:$.list},{name:"TaskMarker",style:$.atom}],parseBlock:[{name:"TaskList",leaf(i,t){return/^\[[ xX]\][ \t]/.test(t.content)&&i.parentType().name=="ListItem"?new AIe:null},after:"SetextHeading"}]},_E=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,EE=/[\w-]+(\.\w+(\.\w+)?)(\/[^\s<]*)?/gy,CE=/[\w.+-]+@[\w-]+\.[\w.-]+/gy,IE=/\/[a-zA-Z\d@.]+/gy;function QE(i,t,e,r){let n=0;for(let s=t;s<e;s++)i[s]==r&&n++;return n}function MIe(i,t){EE.lastIndex=t;let e=EE.exec(i);if(!e)return-1;let r=t+e[0].length;for(;;){let n=i[r-1],s;if(/[?!.,:*_~]/.test(n)||n==")"&&QE(i,t,r,")")>QE(i,t,r,"("))r--;else if(n==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(i.slice(t,r))))r=t+s.index;else break}return r}function AE(i,t){CE.lastIndex=t;let e=CE.exec(i);if(!e)return-1;let r=e[0][e[0].length-1];return r=="_"||r=="-"?-1:t+e[0].length-(r=="."?1:0)}const DIe={parseInline:[{name:"Autolink",parse(i,t,e){let r=e-i.offset;_E.lastIndex=r;let n=_E.exec(i.text),s=-1;return!n||(n[1]||n[2]?s=MIe(i.text,r+n[0].length):n[3]?s=AE(i.text,r):(s=AE(i.text,r+n[0].length),s>-1&&n[0]=="xmpp:"&&(IE.lastIndex=s,n=IE.exec(i.text),n&&(s=n.index+n[0].length))),s<0)?-1:(i.addElement(i.elt("URL",e,s+i.offset)),s+i.offset)}}]},NIe=[QIe,RIe,IIe,DIe];function FN(i,t,e){return(r,n,s)=>{if(n!=i||r.char(s+1)==i)return-1;let a=[r.elt(e,s,s+1)];for(let o=s+1;o<r.end;o++){let l=r.char(o);if(l==i)return r.addElement(r.elt(t,s,o+1,a.concat(r.elt(e,o,o+1))));if(l==92&&a.push(r.elt("Escape",o,o+++2)),Fr(l))break}return-1}}const BIe={defineNodes:[{name:"Superscript",style:$.special($.content)},{name:"SuperscriptMark",style:$.processingInstruction}],parseInline:[{name:"Superscript",parse:FN(94,"Superscript","SuperscriptMark")}]},ZIe={defineNodes:[{name:"Subscript",style:$.special($.content)},{name:"SubscriptMark",style:$.processingInstruction}],parseInline:[{name:"Subscript",parse:FN(126,"Subscript","SubscriptMark")}]},LIe={defineNodes:[{name:"Emoji",style:$.character}],parseInline:[{name:"Emoji",parse(i,t,e){let r;return t!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(i.slice(e+1,i.end)))?-1:i.addElement(i.elt("Emoji",e,e+1+r[0].length))}}]};class Ed{constructor(t,e,r,n,s,a,o,l,u,h=0,c){this.p=t,this.stack=e,this.state=r,this.reducePos=n,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,r=0){let n=t.parser.context;return new Ed(t,[],e,r,r,0,[],0,n?new RE(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let r=t>>19,n=t&65535,{parser:s}=this.p,a=s.dynamicPrecedence(n);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let o=this.stack.length-(r-1)*3-(t&262144?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((e=this.p.parser.nodeSet.types[n])===null||e===void 0)&&e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let h=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-h;if(n<s.minRepeatTerm||t&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,d,c+4,!0)}if(t&262144)this.state=this.stack[o];else{let d=this.stack[o-3];this.state=s.getGoto(d,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,l)}storeNode(t,e,r,n=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(e==r)return;if(a.buffer[o-2]>=e){a.buffer[o-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(t,e,r,n);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,n>4&&(n-=4);this.buffer[a]=t,this.buffer[a+1]=e,this.buffer[a+2]=r,this.buffer[a+3]=n}}shift(t,e,r){let n=this.pos;if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4);else{let s=t,{parser:a}=this.p;(r>this.pos||e<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,n),this.shiftContext(e,n),e<=a.maxNode&&this.buffer.push(e,n,r,4)}}apply(t,e,r){t&65536?this.reduce(t):this.shift(t,e,r)}useNode(t,e){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let n=this.pos;this.reducePos=this.pos=n+t.length,this.pushState(e,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let r=t.buffer.slice(e),n=t.bufferBase+e;for(;t&&n==t.bufferBase;)t=t.parent;return new Ed(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,r?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new zIe(this);;){let r=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(r==0)return!1;if(!(r&65536))return!0;e.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let n=[];for(let s=0,a;s<e.length;s+=2)(a=e[s+1])!=this.state&&this.p.parser.hasAction(a,t)&&n.push(e[s],a);if(this.stack.length<120)for(let s=0;n.length<8&&s<e.length;s+=2){let a=e[s+1];n.some((o,l)=>l&1&&o==a)||n.push(e[s],a)}e=n}let r=[];for(let n=0;n<e.length&&r.length<4;n+=2){let s=e[n+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(e[n],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(e&65536))return!1;if(!t.validAction(this.state,e)){let r=e>>19,n=e&65535,s=this.stack.length-r*3;if(s<0||t.getGoto(this.stack[s],n,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;e=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],r=(n,s)=>{if(!e.includes(n))return e.push(n),t.allActions(n,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-s;if(o>1){let l=a&65535,u=this.stack.length-o*3;if(u>=0&&t.getGoto(this.stack[u],l,!1)>=0)return o<<19|65536|l}}else{let o=r(a,s+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new RE(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class RE{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class zIe{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=n}}class Cd{constructor(t,e,r){this.stack=t,this.pos=e,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new Cd(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Cd(this.stack,this.pos,this.index)}}function Xo(i,t=Uint16Array){if(typeof i!="string")return i;let e=null;for(let r=0,n=0;r<i.length;){let s=0;for(;;){let a=i.charCodeAt(r++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),s+=l,o)break;s*=46}e?e[n++]=s:e=new t(s)}return e}class Qc{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ME=new Qc;class FIe{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ME,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let r=this.range,n=this.rangeIndex,s=this.pos+t;for(;s<r.from;){if(!n)return null;let a=this.ranges[--n];s-=r.from-a.to,r=a}for(;e<0?s>r.to:s>=r.to;){if(n==this.ranges.length-1)return null;let a=this.ranges[++n];s+=a.from-r.to,r=a}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,r,n;if(e>=0&&e<this.chunk.length)r=this.pos+t,n=this.chunk.charCodeAt(e);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),n=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),n}acceptToken(t,e=0){let r=e?this.resolveOffset(e,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=ME,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let r="";for(let n of this.ranges){if(n.from>=e)break;n.to>t&&(r+=this.input.read(Math.max(n.from,t),Math.min(n.to,e)))}return r}}class ya{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:r}=e.p;jN(this.data,t,e,this.id,r.data,r.tokenPrecTable)}}ya.prototype.contextual=ya.prototype.fallback=ya.prototype.extend=!1;class Id{constructor(t,e,r){this.precTable=e,this.elseToken=r,this.data=typeof t=="string"?Xo(t):t}token(t,e){let r=t.pos,n=0;for(;;){let s=t.next<0,a=t.resolveOffset(1,1);if(jN(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(s||n++,a==null)break;t.reset(a,t.token)}n&&(t.reset(r,t.token),t.acceptToken(this.elseToken,n))}}Id.prototype.contextual=ya.prototype.fallback=ya.prototype.extend=!1;class ki{constructor(t,e={}){this.token=t,this.contextual=!!e.contextual,this.fallback=!!e.fallback,this.extend=!!e.extend}}function jN(i,t,e,r,n,s){let a=0,o=1<<r,{dialect:l}=e.p.parser;e:for(;o&i[a];){let u=i[a+1];for(let f=a+3;f<u;f+=2)if((i[f+1]&o)>0){let p=i[f];if(l.allows(p)&&(t.token.value==-1||t.token.value==p||jIe(p,t.token.value,n,s))){t.acceptToken(p);break}}let h=t.next,c=0,d=i[a+2];if(t.next<0&&d>c&&i[u+d*3-3]==65535&&i[u+d*3-3]==65535){a=i[u+d*3-1];continue e}for(;c<d;){let f=c+d>>1,p=u+f+(f<<1),v=i[p],m=i[p+1]||65536;if(h<v)d=f;else if(h>=m)c=f+1;else{a=i[p+2],t.advance();continue e}}break}}function DE(i,t,e){for(let r=t,n;(n=i[r])!=65535;r++)if(n==e)return r-t;return-1}function jIe(i,t,e,r){let n=DE(e,r,t);return n<0||DE(e,r,i)<n}const vr=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let kg=null;function NE(i,t,e){let r=i.cursor(Fe.IncludeAnonymous);for(r.moveTo(t);;)if(!(e<0?r.childBefore(t):r.childAfter(t)))for(;;){if((e<0?r.to<t:r.from>t)&&!r.type.isError)return e<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(i.length,Math.max(r.from+1,t+25));if(e<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return e<0?0:i.length}}class XIe{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?NE(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?NE(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let r=this.trees[e],n=this.index[e];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[n],a=this.start[e]+r.positions[n];if(a>t)return this.nextStart=a,null;if(s instanceof Ee){if(a==t){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let l=s.prop(ue.lookAhead);if(!l||o+l<this.fragment.to)return s}}this.index[e]++,a+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[e]++,this.nextStart=a+s.length}}}class YIe{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new Qc)}getActions(t){let e=0,r=null,{parser:n}=t.p,{tokenizers:s}=n,a=n.stateSlot(t.state,3),o=t.curContext?t.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&a))continue;let h=s[u],c=this.tokens[u];if(!(r&&!h.fallback)&&((h.contextual||c.start!=t.pos||c.mask!=a||c.context!=o)&&(this.updateCachedToken(c,h,t),c.mask=a,c.context=o),c.lookAhead>c.end+25&&(l=Math.max(c.lookAhead,l)),c.value!=0)){let d=e;if(c.extended>-1&&(e=this.addActions(t,c.extended,c.end,e)),e=this.addActions(t,c.value,c.end,e),!h.extend&&(r=c,e>d))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),!r&&t.pos==this.stream.end&&(r=new Qc,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,e=this.addActions(t,r.value,r.end,e)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Qc,{pos:r,p:n}=t;return e.start=r,e.end=Math.min(r+1,n.stream.end),e.value=r==n.stream.end?n.parser.eofTerm:0,e}updateCachedToken(t,e,r){let n=this.stream.clipPos(r.pos);if(e.token(this.stream.reset(n,t),r),t.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==t.value){let o=s.specializers[a](this.stream.read(t.start,t.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){o&1?t.extended=o>>1:t.value=o>>1;break}}}else t.value=0,t.end=this.stream.clipPos(n+1)}putAction(t,e,r,n){for(let s=0;s<n;s+=3)if(this.actions[s]==t)return n;return this.actions[n++]=t,this.actions[n++]=e,this.actions[n++]=r,n}addActions(t,e,r,n){let{state:s}=t,{parser:a}=t.p,{data:o}=a;for(let l=0;l<2;l++)for(let u=a.stateSlot(s,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=Pi(o,u+2);else{n==0&&o[u+1]==2&&(n=this.putAction(Pi(o,u+2),e,r,n));break}o[u]==e&&(n=this.putAction(Pi(o,u+1),e,r,n))}return n}}class WIe{constructor(t,e,r,n){this.parser=t,this.input=e,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new FIe(e,n),this.tokens=new YIe(t,this.stream),this.topTerm=t.top[1];let{from:s}=n[0];this.stacks=[Ed.start(this,t.top[0],s)],this.fragments=r.length&&this.stream.end-s>t.bufferLength*4?new XIe(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,r=this.stacks=[],n,s;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let o=t[a];for(;;){if(this.tokens.mainToken=null,o.pos>e)r.push(o);else{if(this.advanceStack(o,r,t))continue;{n||(n=[],s=[]),n.push(o);let l=this.tokens.getMainToken(o);s.push(l.value,l.end)}}break}}if(!r.length){let a=n&&UIe(n);if(a)return vr&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw vr&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&n){let a=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,r);if(a)return vr&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((o,l)=>l.score-o.score);r.length>a;)r.pop();r.some(o=>o.reducePos>e)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let o=r[a];for(let l=a+1;l<r.length;l++){let u=r[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,r){let n=t.pos,{parser:s}=this,a=vr?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let u=t.curContext&&t.curContext.tracker.strict,h=u?t.curContext.hash:0;for(let c=this.fragments.nodeAt(n);c;){let d=this.parser.nodeSet.types[c.type.id]==c.type?s.getGoto(t.state,c.type.id):-1;if(d>-1&&c.length&&(!u||(c.prop(ue.contextHash)||0)==h))return t.useNode(c,d),vr&&console.log(a+this.stackID(t)+` (via reuse of ${s.getName(c.type.id)})`),!0;if(!(c instanceof Ee)||c.children.length==0||c.positions[0]>0)break;let f=c.children[0];if(f instanceof Ee&&c.positions[0]==0)c=f;else break}}let o=s.stateSlot(t.state,4);if(o>0)return t.reduce(o),vr&&console.log(a+this.stackID(t)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(t.stack.length>=15e3)for(;t.stack.length>9e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let u=0;u<l.length;){let h=l[u++],c=l[u++],d=l[u++],f=u==l.length||!r,p=f?t:t.split();if(p.apply(h,c,d),vr&&console.log(a+this.stackID(p)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(c)} @ ${n}${p==t?"":", split"})`),f)return!0;p.pos>n?e.push(p):r.push(p)}return!1}advanceFully(t,e){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return BE(t,e),!0}}runRecovery(t,e,r){let n=null,s=!1;for(let a=0;a<t.length;a++){let o=t[a],l=e[a<<1],u=e[(a<<1)+1],h=vr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),vr&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let c=o.split(),d=h;for(let f=0;c.forceReduce()&&f<10&&(vr&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,r));f++)vr&&(d=this.stackID(c)+" -> ");for(let f of o.recoverByInsert(l))vr&&console.log(h+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,r);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),vr&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),BE(o,r)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(t){return t.close(),Ee.build({buffer:Cd.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(kg||(kg=new WeakMap)).get(t);return e||kg.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function BE(i,t){for(let e=0;e<t.length;e++){let r=t[e];if(r.pos==i.pos&&r.sameState(i)){t[e].score<i.score&&(t[e]=i);return}}t.push(i)}class VIe{constructor(t,e,r){this.source=t,this.flags=e,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}}const Pg=i=>i;class XN{constructor(t){this.start=t.start,this.shift=t.shift||Pg,this.reduce=t.reduce||Pg,this.reuse=t.reuse||Pg,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class Ya extends d0{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let o=0;o<t.repeatNodeCount;o++)e.push("");let r=Object.keys(t.topRules).map(o=>t.topRules[o][1]),n=[];for(let o=0;o<e.length;o++)n.push([]);function s(o,l,u){n[o].push([l,l.deserialize(String(u))])}if(t.nodeProps)for(let o of t.nodeProps){let l=o[0];typeof l=="string"&&(l=ue[l]);for(let u=1;u<o.length;){let h=o[u++];if(h>=0)s(h,l,o[u++]);else{let c=o[u+-h];for(let d=-h;d>0;d--)s(o[u++],l,c);u++}}}this.nodeSet=new Gu(e.map((o,l)=>mt.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:n[l],top:r.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=hN;let a=Xo(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(ZE),this.states=Xo(t.states,Uint32Array),this.data=Xo(t.stateData),this.goto=Xo(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(o=>typeof o=="number"?new ya(a,o):o),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,r){let n=new WIe(this,t,e,r);for(let s of this.wrappers)n=s(n,t,e,r);return n}getGoto(t,e,r=!1){let n=this.goto;if(e>=n[0])return-1;for(let s=n[e+1];;){let a=n[s++],o=a&1,l=n[s++];if(o&&r)return l;for(let u=s+(a>>1);s<u;s++)if(n[s]==t)return l;if(o)return-1}}hasAction(t,e){let r=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(t,n?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=Pi(r,s+2)];else{if(r[s+1]==2)return Pi(r,s+2);break}if(a==e||a==0)return Pi(r,s+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,r=>r==e?!0:null)}allActions(t,e){let r=this.stateSlot(t,4),n=r?e(r):void 0;for(let s=this.stateSlot(t,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Pi(this.data,s+2);else break;n=e(Pi(this.data,s+1))}return n}nextStates(t){let e=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Pi(this.data,r+2);else break;if(!(this.data[r+2]&1)){let n=this.data[r+1];e.some((s,a)=>a&1&&s==n)||e.push(this.data[r],n)}}return e}configure(t){let e=Object.assign(Object.create(Ya.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=r}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(r=>{let n=t.tokenizers.find(s=>s.from==r);return n?n.to:r})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((r,n)=>{let s=t.specializers.find(o=>o.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return e.specializers[n]=ZE(a),a})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),r=e.map(()=>!1);if(t)for(let s of t.split(" ")){let a=e.indexOf(s);a>=0&&(r[a]=!0)}let n=null;for(let s=0;s<e.length;s++)if(!r[s])for(let a=this.dialects[e[s]],o;(o=this.data[a++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new VIe(t,r,n)}static deserialize(t){return new Ya(t)}}function Pi(i,t){return i[t]|i[t+1]<<16}function UIe(i){let t=null;for(let e of i){let r=e.p.stoppedAt;(e.pos==e.p.stream.end||r!=null&&e.pos>r)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function ZE(i){if(i.external){let t=i.extend?1:0;return(e,r)=>i.external(e,r)<<1|t}return i.get}const qIe=54,GIe=1,HIe=55,KIe=2,JIe=56,eQe=3,LE=4,tQe=5,Qd=6,YN=7,WN=8,VN=9,UN=10,rQe=11,iQe=12,nQe=13,Tg=57,sQe=14,zE=58,qN=20,aQe=22,GN=23,oQe=24,p$=26,HN=27,lQe=28,uQe=31,hQe=34,cQe=36,dQe=37,fQe=0,pQe=1,vQe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},gQe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},FE={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function mQe(i){return i==45||i==46||i==58||i>=65&&i<=90||i==95||i>=97&&i<=122||i>=161}function KN(i){return i==9||i==10||i==13||i==32}let jE=null,XE=null,YE=0;function v$(i,t){let e=i.pos+t;if(YE==e&&XE==i)return jE;let r=i.peek(t);for(;KN(r);)r=i.peek(++t);let n="";for(;mQe(r);)n+=String.fromCharCode(r),r=i.peek(++t);return XE=i,YE=e,jE=n?n.toLowerCase():r==OQe||r==yQe?void 0:null}const JN=60,Ad=62,$0=47,OQe=63,yQe=33,bQe=45;function WE(i,t){this.name=i,this.parent=t,this.hash=t?t.hash:0;for(let e=0;e<i.length;e++)this.hash+=(this.hash<<4)+i.charCodeAt(e)+(i.charCodeAt(e)<<8)}const $Qe=[Qd,UN,YN,WN,VN],wQe=new XN({start:null,shift(i,t,e,r){return $Qe.indexOf(t)>-1?new WE(v$(r,1)||"",i):i},reduce(i,t){return t==qN&&i?i.parent:i},reuse(i,t,e,r){let n=t.type.id;return n==Qd||n==cQe?new WE(v$(r,1)||"",i):i},hash(i){return i?i.hash:0},strict:!1}),SQe=new ki((i,t)=>{if(i.next!=JN){i.next<0&&t.context&&i.acceptToken(Tg);return}i.advance();let e=i.next==$0;e&&i.advance();let r=v$(i,0);if(r===void 0)return;if(!r)return i.acceptToken(e?sQe:Qd);let n=t.context?t.context.name:null;if(e){if(r==n)return i.acceptToken(rQe);if(n&&gQe[n])return i.acceptToken(Tg,-2);if(t.dialectEnabled(fQe))return i.acceptToken(iQe);for(let s=t.context;s;s=s.parent)if(s.name==r)return;i.acceptToken(nQe)}else{if(r=="script")return i.acceptToken(YN);if(r=="style")return i.acceptToken(WN);if(r=="textarea")return i.acceptToken(VN);if(vQe.hasOwnProperty(r))return i.acceptToken(UN);n&&FE[n]&&FE[n][r]?i.acceptToken(Tg,-1):i.acceptToken(Qd)}},{contextual:!0}),xQe=new ki(i=>{for(let t=0,e=0;;e++){if(i.next<0){e&&i.acceptToken(zE);break}if(i.next==bQe)t++;else if(i.next==Ad&&t>=2){e>3&&i.acceptToken(zE,-2);break}else t=0;i.advance()}});function kQe(i){for(;i;i=i.parent)if(i.name=="svg"||i.name=="math")return!0;return!1}const PQe=new ki((i,t)=>{if(i.next==$0&&i.peek(1)==Ad){let e=t.dialectEnabled(pQe)||kQe(t.context);i.acceptToken(e?tQe:LE,2)}else i.next==Ad&&i.acceptToken(LE,1)});function w0(i,t,e){let r=2+i.length;return new ki(n=>{for(let s=0,a=0,o=0;;o++){if(n.next<0){o&&n.acceptToken(t);break}if(s==0&&n.next==JN||s==1&&n.next==$0||s>=2&&s<r&&n.next==i.charCodeAt(s-2))s++,a++;else if((s==2||s==r)&&KN(n.next))a++;else if(s==r&&n.next==Ad){o>a?n.acceptToken(t,-a):n.acceptToken(e,-(a-2));break}else if((n.next==10||n.next==13)&&o){n.acceptToken(t,1);break}else s=a=0;n.advance()}})}const TQe=w0("script",qIe,GIe),_Qe=w0("style",HIe,KIe),EQe=w0("textarea",JIe,eQe),CQe=yo({"Text RawText":$.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":$.angleBracket,TagName:$.tagName,"MismatchedCloseTag/TagName":[$.tagName,$.invalid],AttributeName:$.attributeName,"AttributeValue UnquotedAttributeValue":$.attributeValue,Is:$.definitionOperator,"EntityReference CharacterReference":$.character,Comment:$.blockComment,ProcessingInst:$.processingInstruction,DoctypeDecl:$.documentMeta}),IQe=Ya.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:wQe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[CQe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[TQe,_Qe,EQe,PQe,SQe,xQe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function e5(i,t){let e=Object.create(null);for(let r of i.getChildren(GN)){let n=r.getChild(oQe),s=r.getChild(p$)||r.getChild(HN);n&&(e[t.read(n.from,n.to)]=s?s.type.id==p$?t.read(s.from+1,s.to-1):t.read(s.from,s.to):"")}return e}function VE(i,t){let e=i.getChild(aQe);return e?t.read(e.from,e.to):" "}function _g(i,t,e){let r;for(let n of e)if(!n.attrs||n.attrs(r||(r=e5(i.node.parent.firstChild,t))))return{parser:n.parser};return null}function t5(i=[],t=[]){let e=[],r=[],n=[],s=[];for(let o of i)(o.tag=="script"?e:o.tag=="style"?r:o.tag=="textarea"?n:s).push(o);let a=t.length?Object.create(null):null;for(let o of t)(a[o.name]||(a[o.name]=[])).push(o);return pN((o,l)=>{let u=o.type.id;if(u==lQe)return _g(o,l,e);if(u==uQe)return _g(o,l,r);if(u==hQe)return _g(o,l,n);if(u==qN&&s.length){let h=o.node,c=h.firstChild,d=c&&VE(c,l),f;if(d){for(let p of s)if(p.tag==d&&(!p.attrs||p.attrs(f||(f=e5(h,l))))){let v=h.lastChild;return{parser:p.parser,overlay:[{from:c.to,to:v.type.id==dQe?v.from:h.to}]}}}}if(a&&u==GN){let h=o.node,c;if(c=h.firstChild){let d=a[l.read(c.from,c.to)];if(d)for(let f of d){if(f.tagName&&f.tagName!=VE(h.parent,l))continue;let p=h.lastChild;if(p.type.id==p$){let v=p.from+1,m=p.lastChild,g=p.to-(m&&m.isError?0:1);if(g>v)return{parser:f.parser,overlay:[{from:v,to:g}]}}else if(p.type.id==HN)return{parser:f.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}const QQe=96,UE=1,AQe=97,RQe=98,qE=2,r5=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],MQe=58,DQe=40,i5=95,NQe=91,Ac=45,BQe=46,ZQe=35,LQe=37;function Rd(i){return i>=65&&i<=90||i>=97&&i<=122||i>=161}function zQe(i){return i>=48&&i<=57}const FQe=new ki((i,t)=>{for(let e=!1,r=0,n=0;;n++){let{next:s}=i;if(Rd(s)||s==Ac||s==i5||e&&zQe(s))!e&&(s!=Ac||n>0)&&(e=!0),r===n&&s==Ac&&r++,i.advance();else{e&&i.acceptToken(s==DQe?AQe:r==2&&t.canShift(qE)?qE:RQe);break}}}),jQe=new ki(i=>{if(r5.includes(i.peek(-1))){let{next:t}=i;(Rd(t)||t==i5||t==ZQe||t==BQe||t==NQe||t==MQe||t==Ac)&&i.acceptToken(QQe)}}),XQe=new ki(i=>{if(!r5.includes(i.peek(-1))){let{next:t}=i;if(t==LQe&&(i.advance(),i.acceptToken(UE)),Rd(t)){do i.advance();while(Rd(i.next));i.acceptToken(UE)}}}),YQe=yo({"AtKeyword import charset namespace keyframes media supports":$.definitionKeyword,"from to selector":$.keyword,NamespaceName:$.namespace,KeyframeName:$.labelName,KeyframeRangeName:$.operatorKeyword,TagName:$.tagName,ClassName:$.className,PseudoClassName:$.constant($.className),IdName:$.labelName,"FeatureName PropertyName":$.propertyName,AttributeName:$.attributeName,NumberLiteral:$.number,KeywordQuery:$.keyword,UnaryQueryOp:$.operatorKeyword,"CallTag ValueName":$.atom,VariableName:$.variableName,Callee:$.operatorKeyword,Unit:$.unit,"UniversalSelector NestingSelector":$.definitionOperator,MatchOp:$.compareOperator,"ChildOp SiblingOp, LogicOp":$.logicOperator,BinOp:$.arithmeticOperator,Important:$.modifier,Comment:$.blockComment,ColorLiteral:$.color,"ParenthesizedContent StringLiteral":$.string,":":$.punctuation,"PseudoOp #":$.derefOperator,"; ,":$.separator,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace}),WQe={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},VQe={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},UQe={__proto__:null,not:128,only:128},qQe=Ya.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[YQe],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[jQe,XQe,FQe,1,2,3,4,new Id("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:i=>WQe[i]||-1},{term:56,get:i=>VQe[i]||-1},{term:98,get:i=>UQe[i]||-1}],tokenPrec:1169});let Eg=null;function Cg(){if(!Eg&&typeof document=="object"&&document.body){let{style:i}=document.body,t=[],e=new Set;for(let r in i)r!="cssText"&&r!="cssFloat"&&typeof i[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())),e.has(r)||(t.push(r),e.add(r)));Eg=t.sort().map(r=>({type:"property",label:r}))}return Eg||[]}const GE=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(i=>({type:"class",label:i})),HE=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(i=>({type:"keyword",label:i})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(i=>({type:"constant",label:i}))),GQe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(i=>({type:"type",label:i})),rn=/^(\w[\w-]*|-\w[\w-]*|)$/,HQe=/^-(-[\w-]*)?$/;function KQe(i,t){var e;if((i.name=="("||i.type.isError)&&(i=i.parent||i),i.name!="ArgList")return!1;let r=(e=i.parent)===null||e===void 0?void 0:e.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:t.sliceString(r.from,r.to)=="var"}const KE=new fN,JQe=["Declaration"];function e2e(i){for(let t=i;;){if(t.type.isTop)return t;if(!(t=t.parent))return i}}function n5(i,t,e){if(t.to-t.from>4096){let r=KE.get(t);if(r)return r;let n=[],s=new Set,a=t.cursor(Fe.IncludeAnonymous);if(a.firstChild())do for(let o of n5(i,a.node,e))s.has(o.label)||(s.add(o.label),n.push(o));while(a.nextSibling());return KE.set(t,n),n}else{let r=[],n=new Set;return t.cursor().iterate(s=>{var a;if(e(s)&&s.matchContext(JQe)&&((a=s.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let o=i.sliceString(s.from,s.to);n.has(o)||(n.add(o),r.push({label:o,type:"variable"}))}}),r}}const t2e=i=>t=>{let{state:e,pos:r}=t,n=zt(e).resolveInner(r,-1),s=n.type.isError&&n.from==n.to-1&&e.doc.sliceString(n.from,n.to)=="-";if(n.name=="PropertyName"||(s||n.name=="TagName")&&/^(Block|Styles)$/.test(n.resolve(n.to).name))return{from:n.from,options:Cg(),validFor:rn};if(n.name=="ValueName")return{from:n.from,options:HE,validFor:rn};if(n.name=="PseudoClassName")return{from:n.from,options:GE,validFor:rn};if(i(n)||(t.explicit||s)&&KQe(n,e.doc))return{from:i(n)||s?n.from:r,options:n5(e.doc,e2e(n),i),validFor:HQe};if(n.name=="TagName"){for(let{parent:l}=n;l;l=l.parent)if(l.name=="Block")return{from:n.from,options:Cg(),validFor:rn};return{from:n.from,options:GQe,validFor:rn}}if(!t.explicit)return null;let a=n.resolve(r),o=a.childBefore(r);return o&&o.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:GE,validFor:rn}:o&&o.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:HE,validFor:rn}:a.name=="Block"||a.name=="Styles"?{from:r,options:Cg(),validFor:rn}:null},r2e=t2e(i=>i.name=="VariableName"),Md=za.define({name:"css",parser:qQe.configure({props:[Lf.add({Declaration:Ic()}),zf.add({"Block KeyframeList":ON})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function i2e(){return new Nl(Md,Md.data.of({autocomplete:r2e}))}const n2e=304,JE=1,s2e=2,a2e=305,o2e=307,l2e=308,u2e=3,h2e=4,c2e=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],s5=125,d2e=59,eC=47,f2e=42,p2e=43,v2e=45,g2e=new XN({start:!1,shift(i,t){return t==u2e||t==h2e||t==o2e?i:t==l2e},strict:!1}),m2e=new ki((i,t)=>{let{next:e}=i;(e==s5||e==-1||t.context)&&i.acceptToken(a2e)},{contextual:!0,fallback:!0}),O2e=new ki((i,t)=>{let{next:e}=i,r;c2e.indexOf(e)>-1||e==eC&&((r=i.peek(1))==eC||r==f2e)||e!=s5&&e!=d2e&&e!=-1&&!t.context&&i.acceptToken(n2e)},{contextual:!0}),y2e=new ki((i,t)=>{let{next:e}=i;if((e==p2e||e==v2e)&&(i.advance(),e==i.next)){i.advance();let r=!t.context&&t.canShift(JE);i.acceptToken(r?JE:s2e)}},{contextual:!0}),b2e=yo({"get set async static":$.modifier,"for while do if else switch try catch finally return throw break continue default case":$.controlKeyword,"in of await yield void typeof delete instanceof":$.operatorKeyword,"let var const function class extends":$.definitionKeyword,"import export from":$.moduleKeyword,"with debugger as new":$.keyword,TemplateString:$.special($.string),super:$.atom,BooleanLiteral:$.bool,this:$.self,null:$.null,Star:$.modifier,VariableName:$.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":$.function($.variableName),VariableDefinition:$.definition($.variableName),Label:$.labelName,PropertyName:$.propertyName,PrivatePropertyName:$.special($.propertyName),"CallExpression/MemberExpression/PropertyName":$.function($.propertyName),"FunctionDeclaration/VariableDefinition":$.function($.definition($.variableName)),"ClassDeclaration/VariableDefinition":$.definition($.className),PropertyDefinition:$.definition($.propertyName),PrivatePropertyDefinition:$.definition($.special($.propertyName)),UpdateOp:$.updateOperator,"LineComment Hashbang":$.lineComment,BlockComment:$.blockComment,Number:$.number,String:$.string,Escape:$.escape,ArithOp:$.arithmeticOperator,LogicOp:$.logicOperator,BitOp:$.bitwiseOperator,CompareOp:$.compareOperator,RegExp:$.regexp,Equals:$.definitionOperator,Arrow:$.function($.punctuation),": Spread":$.punctuation,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace,"InterpolationStart InterpolationEnd":$.special($.brace),".":$.derefOperator,", ;":$.separator,"@":$.meta,TypeName:$.typeName,TypeDefinition:$.definition($.typeName),"type enum interface implements namespace module declare":$.definitionKeyword,"abstract global Privacy readonly override":$.modifier,"is keyof unique infer":$.operatorKeyword,JSXAttributeValue:$.attributeValue,JSXText:$.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":$.angleBracket,"JSXIdentifier JSXNameSpacedName":$.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":$.attributeName,"JSXBuiltin/JSXIdentifier":$.standard($.tagName)}),$2e={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},w2e={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},S2e={__proto__:null,"<":139},x2e=Ya.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AcQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AkQSO,5=sO!ApQSO,5=sO!AuQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BTQWO,5=`O!B]Q,UO,5=aO!BhQSO,5=cO!BmQ`O,5=fO!BuQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!BzQSO'#HRO9{Q,UO'#HTO!CPQSO'#HTOOQQ,5=i,5=iO!CUQSO'#HUO!C^QSO'#CmO!CcQSO,58}O!CmQSO,58}O!ErQUO,58}OOQQ,58},58}O!FSQ(C[O,58}O%[QUO,58}O!H_QUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!HuQSO,5=uO`QUO,5={O`QUO,5=}O!HzQSO,5>PO`QUO,5>RO!IPQSO,5>UO!IUQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!M`QSO,5>fOOQQ,5>h,5>hO!M`QSO,5>hOOQQ,5>j,5>jO!MeQWO'#DYO%[QUO'#JiO!NSQWO'#JiO!NqQWO'#DhO# SQWO'#DhO##eQUO'#DhO##lQSO'#JhO##tQSO,5:RO##yQSO'#EnO#$XQSO'#JvO#$aQSO,5;XO#$fQWO'#DhO#$sQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#$zQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%SQSO,5@TO#%XQ!LQO,5:pOOQO-E<_-E<_O#&_Q(C`O,5:{OChQWO,5:oO#&iQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#&vQ(C[O,5:{O#'RQ(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'aQ(C[O,5:{POOO'#IU'#IUP#'uO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(QQ`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(VQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(aQUO'#I[OOQO-E<Y-E<YO#(nQSO,5@RO#(vQbO,5@RO#(}QSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)VQSO'#IbOOQO-E<`-E<`O#(}QSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)kQ(C[O,5@^O#)|Q(C[O,5@^O#*TQSO,5@]O9TQSO,5@]O#*]QSO,5@]O#*kQSO'#IeO#*TQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+]QSO,5:tO#+eQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#+sQ(CjO1G0oO#,xQ(ChO,5;POOQ(CY'#GQ'#GQO#-fQ(CjO'#J`O!$ZQUO1G0oO#/nQ,UO'#JjO#/xQSO,5:]O#/}QbO'#JkO%[QUO'#JkO#0XQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0^QSO1G0xO#2uQ(CjO1G0yO#2|Q(CjO1G0yO#5gQ(CjO1G0yO#5nQ(CjO1G0yO#7xQ(CjO1G0yO#8`Q(CjO1G0yO#;YQ(CjO1G0yO#;aQ(CjO1G0yO#=zQ(CjO1G0yO#>RQ(CjO1G0yO#?yQ(CjO1G0yO#ByQ$IUO'#CgO#DwQ$IUO1G1[O#EOQ$IUO'#JfO!,YQSO1G1bO#E`Q(CjO,5?SOOQ(CW-E<f-E<fO#FSQ(CjO1G0yOOQ(CY1G0y1G0yO#H_Q(CjO1G1_O#IRQ#tO,5<SO#IZQ#tO,5<TO#IcQ#tO'#FkO#IzQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#JPQ#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JbQ$IUO'#JeO#JlQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#JqQWO'#JyOOQ(CY,5<`,5<`O#JyQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#KOO07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KZQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KbQ`O'#CpO#KuQ`O,5<mO#K|QSO'#J}O9ZQSO'#J}O#L[QSO,5<oO!'vQ,UO,5<nO#LaQSO'#GTO#LlQSO,5<nO#LqQ`O'#GQO#MOQ`O'#KOO#MYQSO'#KOO!&^Q,UO'#KOO#M_QSO,5<rO#MdQWO'#G]O!3{QWO'#G]O#MuQSO'#G_O#MzQSO'#GaO!2|QSO'#GdO#NPQ(C[O'#IlO#N[QWO,5<vOOQ(CY,5<v,5<vO#NcQWO'#G]O#NqQWO'#G^O#NyQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ OQSO'#ImO$ ZQSO,5?xO$ cQSO,59^O$!SQ,UO,59oOOQ(CY,59o,59oO$!uQ,UO,5<eO$#hQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$#rQSO,5<pO$#wQ,UO,5<uO$$XQSO'#JqO!$ZQUO1G1|O$$^QSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$cQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&hQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'XQSO1G2rO$'dQ,UO'#EeOOQ(CW,5?v,5?vO$'nQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(PQSO1G0oO$(UQSO'#CgO$(aQSO'#KWO$(iQSO,5=tO$(nQSO'#KWO$(sQSO'#KWO$)OQSO'#IuO$)^QSO,5@qO$)fQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)mQSO1G3_O$)rQSO1G3_OOQQ1G3_1G3_O!BhQSO1G2}O!&^Q,UO1G2zO$)wQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$)|QSO1G2{O$*UQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BmQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*^Q,UO,5=mO9ZQSO,5=mO#MzQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*lQSO'#KUO$*wQSO,5=pOOQQ1G.i1G.iO$*|Q(C[O1G.iO@[QSO1G.iO$+XQSO1G.iO9eQ(C[O1G.iO$-^QbO,5@sO$-nQSO,5@sO9TQSO,5@sO$-yQUO,5=wO$.QQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.VQUO1G3mO$2ZQUO'#HlOOQQ1G3p1G3pO$2hQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$2pQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$6wQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$6|Q$IUO,5:SOOQO,5;Y,5;YO$7WQWO'#I]O$7nQSO,5@SOOQ(CY1G/m1G/mO$7vQWO'#IcO$8QQSO,5@bOOQ(CW1G0s1G0sO# SQWO,5:SOOQO'#I`'#I`O$8YQWO,5:nOOQ(CY,5:n,5:nO#$}QSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8aQ(C[O1G0gO$8lQ(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$8zQ(C[O1G0gOOQO1G0Z1G0ZO$9`Q(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9jQ`O,5<dO$9rQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$9|QSO1G5mO$:UQSO1G5zO$:^QbO1G5{O9TQSO,5>|O$:hQ(CjO1G5xO%[QUO1G5xO$:xQ(C[O1G5xO$;ZQSO1G5wO$;ZQSO1G5wO9TQSO1G5wO$;cQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$;wQSO,5?PO$$XQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<VQSO7+(^O$<bQ,UO7+(^O$<pQ(CjO,59oO$>xQ(CjO,5<eO$ATQ(CjO,5<gO$C`Q(CjO,5<uOOQ(CY7+&Z7+&ZO$EqQ(CjO7+&ZO$FeQ,UO'#I^O$FoQSO,5@UOOQ(CY1G/w1G/wO$FwQUO'#I_O$GUQSO,5@VO$G^QbO,5@VOOQ(CY1G/|1G/|O$GhQSO7+&dOOQ(CY7+&d7+&dO$GmQ$IUO,5:cO%[QUO7+&vO$GwQ$IUO,5:ZO$HUQ$IUO,5:gO$H`Q$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HjQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$HuQSO1G1xOOQ(CY1G1z1G1zO$HzQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IRQ(CjO7+'gOOQ(CY,5?U,5?UO$IuQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JeQ,UO1G2lO$KWQ,UO1G2nO$KbQ`O1G2pOOQ(CY1G2X1G2XO$KiQSO'#IiO$KwQSO,5@iO$KwQSO,5@iO$LPQSO,5@iO$L[QSO,5@iOOQO1G2Z1G2ZO$LjQ,UO1G2YO!'vQ,UO1G2YO$LzQMhO'#IkO$M[QSO,5@jO!&^Q,UO,5@jO$MdQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$XQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$MnQSO,5<yOOQ(CW,5<{,5<{O$$XQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$MvQSO,5<xO#MuQSO,5<yO!3{QWO,5<xO$NRQ,UO1G5eO$N]Q,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NjQSO1G2TO!'vQ,UO1G2[O$NoQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% cQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% hQ`O'#KPO#$}QSO7+(^O% rQbO7+(^O$<YQSO7+(^O% yQ(ChO'#CgO%!^Q(ChO,5<|O%#OQSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#TQSO'#ItO%#iQSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#iQSO,5@rO%#qQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%#vQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%#{Q(ChO7+(fO!&^Q,UO7+(fO%$VQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$^QSO'#KTO%$iQSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%%xQWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&PQSO1G3XO%&[Q,UO1G3XO9eQ(C[O1G3ZO#MzQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&jQSO'#IsO%&uQSO,5@pO%&}QWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'YQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'_Q(C[O1G6_O%'iQUO1G3cO%'pQSO1G3cO%'uQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%'|QUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(ZQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%(`QWO1G5oO%(tQ$IUO1G0tO%)OQSO1G0tOOQO1G/n1G/nO%)ZQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#$}QSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9`Q(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%)eQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%)pQ(C[O7+&RO%*OQ(CjO7++dO%[QUO7++dO%*`QSO7++cO%*`QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%*hQSO1G4kOOQO7+%z7+%zO#$}QSO<<KxO% rQbO<<KxO%*vQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+OQSO<<KxO%+ZQ(CjO1G2lO%-fQ(CjO1G2nO%/qQ(CjO1G2YO%2SQ,UO,5>xOOQO-E<[-E<[O%2^QbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%2hQSO1G5qOOQ(CY<<JO<<JOO%2pQ$IUO1G0oO%4zQ$IUO1G0yO%5RQ$IUO1G0yO%7VQ$IUO1G0yO%7^Q$IUO1G0yO%9RQ$IUO1G0yO%9iQ$IUO1G0yO%;|Q$IUO1G0yO%<TQ$IUO1G0yO%>XQ$IUO1G0yO%>`Q$IUO1G0yO%@WQ$IUO1G0yO%@kQ(CjO<<JbO%ApQ$IUO1G0yO%CfQ$IUO'#J`O%EiQ$IUO1G1_O%EvQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FQQSO1G1pO%FVQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%FaQSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%FoQSO1G6TO%FoQSO1G6TO%FwQSO1G6TO%GSQ,UO7+'tO%GdQ`O,5?VO%GnQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%GsQ`O1G6UO%G}QSO1G6UOOQ(CW1G2d1G2dO$$XQSO1G2dOOQ(CW1G2c1G2cO%HVQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%H[QSO1G2eO%HdQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%HoQSO1G/]OOQ(CY7+'o7+'oO%HtQ,UO7+'vO%IUQ(CjO<<KSOOQ(CY<<KS<<KSO%IxQSO1G0tO!&^Q,UO'#InO%I}QSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JVQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%JyQSO,5?`O$(sQSO,5?`OOQO-E<r-E<rO%KOQSO1G6^O%KOQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%KWQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%#{Q(ChO<<LQOOQQ<<LR<<LRO%$VQ`O<<LRO%K]QWO'#IpO%KhQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%KpQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%KzQWO,5=nOOQQ,5=n,5=nO%LRQWO'#EaO%LgQSO7+(sO%LlQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%LtQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#MzQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MPQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%M[QSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%MdQSO7++yO%MiQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%MnQSO7+(}O%MsQUO7+(}O%MzQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NPQSO,5>XOOQQ,5>Z,5>ZO%NUQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO%NZQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9`Q(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO%NeQ(C[O<<ImO%NpQ(CjO<= OO& QQSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO& YQSOANAdO!&^Q,UOANAdO#$}QSOANAdO% rQbOANAdO%[QUOANAdO& bQ(CjO7+'tO&#sQ(CjO7+'vO&&UQbO1G4eO&&`Q$IUO7+&ZO&&mQ$IUO,59oO&(pQ$IUO,5<eO&*sQ$IUO,5<gO&,vQ$IUO,5<uO&.lQ$IUO7+'gO&.yQ$IUO7+'hO&/WQSO,5<XOOQO7+'[7+'[O&/]Q,UO<<KvOOQO1G4o1G4oO&/dQSO1G4oO&/oQSO1G4oO&/}QSO7++oO&/}QSO7++oO!&^Q,UO1G4qO&0VQ`O1G4qO&0aQSO7++pOOQ(CW7+(O7+(OO$$XQSO7+(PO&0iQ`O7+(POOQ(CW7+'}7+'}O$$XQSO7+(OO&0pQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&0uQ,UO<<NkOOQ(CY7+$w7+$wO&1PQ`O,5?YOOQO-E<l-E<lO&1ZQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&1kQSO1G4zO&1pQSO7++xO&1pQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&1xQSO,5?[OOQO-E<n-E<nO&2TQ$IUO1G6ZO&4eQbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%KpQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%LgQSO<<L_O&4oQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#MzQSO<<LaO9OQSO<<LaO&4wQWO1G4yO&5SQSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&5[QSO<= eO&5aQSO<= fOOQQ<<Li<<LiO&5fQSO<<LiO&5kQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&5rQSO<<IzO&5}Q$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9`Q(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#$}QSOG27OO&6XQSOG27OO% rQbOG27OO&6aQ$IUO<<JbO&6nQ$IUO1G2YO&8dQ$IUO1G2lO&:gQ$IUO1G2nO&<jQ$IUO<<KSO&<wQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&=UQSO7+*ZO&=aQSO<= ZO&=iQ`O7+*]OOQ(CW<<Kk<<KkO$$XQSO<<KkOOQ(CW<<Kj<<KjO&=sQ`O<<KkO$$XQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&=zQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>SQSO7++uO%LgQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&>[QSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#MzQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&>dQSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9`Q(CjOG24sO#$}QSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&>iQSOLD,jO&>qQ$IUO7+'tO&@gQ$IUO7+'vO&B]Q,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$XQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&BmQ$IUO7+*bOOQQG27eG27eO%LgQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&BwQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#$}QSO!$(!UO!&^Q,UO!$(!UO&CRQ(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%LgQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#$}QSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&EdQ$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&GYQbO'#JeO!*SQUO'#DoO&GaQUO'#D{O&GhQbO'#CgO&JOQbO'#CgO!*SQUO'#D}O&J`QUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&LcQSO,5<dO&LkQ,UO,5;_O&NOQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&LkQ,UO'#FyO!&^Q,UO'#F{O&LkQ,UO'#F{O!&^Q,UO'#GZO&LkQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&J`QUO1G0oO&NVQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&LkQ,UO,5=QO!&^Q,UO,5=SO&LkQ,UO,5=SO!&^Q,UO,5<nO&LkQ,UO,5<nO&J`QUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&LkQ,UO1G2YO!&^Q,UO1G2[O&LkQ,UO1G2[O&J`QUO7+'hO&J`QUO7+&ZO!&^Q,UOANAbO&LkQ,UOANAbO&NaQSO'#EiO&NfQSO'#EiO&NnQSO'#FXO&NsQSO'#EsO&NxQSO'#JuO' TQSO'#JsO' `QSO,5;TO' eQ,UO,5<aO' lQSO'#GSO' qQSO'#GSO' vQSO,5<bO'!OQSO,5;TO'!WQ$IUO1G1[O'!_QSO,5<nO'!dQSO,5<nO'!iQSO,5<pO'!nQSO,5<pO'!sQSO1G1|O'!xQSO1G0oO'!}Q,UO<<KvO'#UQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KbQ`O1G2pO$KbQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'$_~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O'v#mO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!CuO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!F_O!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# eO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# SO!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)kO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,gO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0cO#h$OO~P#0cOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3TOl$QO~P#3TOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#5uOY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#5uOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#8vO(k#|O~P#8vOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;hO(l#}O~P#;hOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>YOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#@sOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#CQO#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,gO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#CQO!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,gO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,gO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ hOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!^Oz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#PO#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$nOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+dO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#CQOm!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ hO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!^O#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#PO#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,gO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#CQO#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,gO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,gOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$I|Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$JoO(d$ZO~P#,gO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,gO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,gO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,gO!Y$|O~P#,gO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%$nOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O'v#mO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#CQO#Y5lO!W#bi!X#bi~O!W![i!X![i~P#CQO_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$I|O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$JoO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,gOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#CQOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%2}O#h9zO~P%2}OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5YOl9|O~P%5YOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%7eOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%7eOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:PO(k#|O~P%:POP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<[O(l#}O~P%<[OP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%>gO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%A_O!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#CQO#z!oi!X!oi~P$$nO!X6`O~O!W'[a!X'[a~P#CQO!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,gO!b6gO~O!W/_O!T(ri~P#,gO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%$nOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#CQO_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,gO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,gO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#CQOz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%A_O#z$iq!W$iq!X$iq~P#CQO#z$jq!W$jq!X$jq~P#CQO!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,gO!W/_O!T(rq~O!T8_O~P#,gO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,gO_%Uq!Y%Uq'm%Uq!W%Uq~P#,gOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#CQOPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&2_O!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#CQO!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#CQOP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%A_Oz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#CQO#z#]y!W#]y!X#]y~P#CQO!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,gO!T9VO~P#,gO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%A_OP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%A_Oe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#CQO!W#b!Z!X#b!Z~P#CQO#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,gOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%A_Op(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&2_OPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&GuOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&LkO!XZX!XdX~P&GuO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#CQO#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'R)OPPPP)PPP)SP)eP*t.xPPPP5YPP5pP;l>sP?WP?WPPP?WP@xP?WP?WP?WP@|PPARPAlPFdPPPFhPPPPFhIiPPPIoJjPFhPLxPPPP! WFhPPPFhPFhP!#fFhP!&z!'|!(VP!(y!(}!(yPPPPP!,Y!'|PP!,v!-pP!0dFhFh!0i!3s!8Y!8Y!<OPPP!<VFhPPPPPPPPPPP!?dP!@uPPFh!BSPFhPFhFhFhFhPFh!CfPP!FnP!IrP!Iv!JQ!JU!JUP!FkP!JY!JYP!M^P!MbFhFh!Mh#!k?WP?WP?W?WP##v?W?W#%r?W#(R?W#)w?W?W#*f#,d#,d#,h#,p#,d#,xP#,dP?W#-b?W#.k?W?W5YPPP#/wPPP#0b#0bP#0bP#0x#0bPP#1OP#0uP#0u#1c#0u#1}#2T5V)S#2W)SP#2_#2_#2_P)SP)SP)SP)SPP)SP#2e#2hP#2h)SP#2lP#2oP)SP)SP)SP)SP)SP)S)SPP#2u#2{#3W#3^#3d#3j#3p#4O#4U#4[#4f#4l#4v#5V#5]#5}#6a#6g#6m#6{#7b#8s#9R#9X#9_#9e#9k#9u#9{#:R#:]#:o#:uPPPPPPPPPP#:{PPPPPPP#;p#>wP#@W#@_#@gPPPP#Du#Gl#NT#NW#NZ$ S$ V$ Y$ a$ iPP$ o$ s$!k$#j$#n$$SPP$$W$$^$$bP$$e$$i$$l$%b$%y$&b$&f$&i$&l$&r$&u$&y$&}R!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:g2e,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[b2e],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[O2e,y2e,2,3,4,5,6,7,8,9,10,11,12,13,m2e,new Id("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new Id("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12801,ts:12803},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:i=>$2e[i]||-1},{term:330,get:i=>w2e[i]||-1},{term:68,get:i=>S2e[i]||-1}],tokenPrec:12827}),a5=[nr("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),nr("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),nr("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),nr("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),nr("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),nr(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),nr("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),nr(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),nr(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),nr('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),nr('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],k2e=a5.concat([nr("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),nr("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),nr("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),tC=new fN,o5=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ro(i){return(t,e)=>{let r=t.node.getChild("VariableDefinition");return r&&e(r,i),!0}}const P2e=["FunctionDeclaration"],T2e={FunctionDeclaration:Ro("function"),ClassDeclaration:Ro("class"),ClassExpression:()=>!0,EnumDeclaration:Ro("constant"),TypeAliasDeclaration:Ro("type"),NamespaceDeclaration:Ro("namespace"),VariableDefinition(i,t){i.matchContext(P2e)||t(i,"variable")},TypeDefinition(i,t){t(i,"type")},__proto__:null};function l5(i,t){let e=tC.get(t);if(e)return e;let r=[],n=!0;function s(a,o){let l=i.sliceString(a.from,a.to);r.push({label:l,type:o})}return t.cursor(Fe.IncludeAnonymous).iterate(a=>{if(n)n=!1;else if(a.name){let o=T2e[a.name];if(o&&o(a,s)||o5.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of l5(i,a.node))r.push(o);return!1}}),tC.set(t,r),r}const rC=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,u5=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function _2e(i){let t=zt(i.state).resolveInner(i.pos,-1);if(u5.indexOf(t.name)>-1)return null;let e=t.name=="VariableName"||t.to-t.from<20&&rC.test(i.state.sliceDoc(t.from,t.to));if(!e&&!i.explicit)return null;let r=[];for(let n=t;n;n=n.parent)o5.has(n.name)&&(r=r.concat(l5(i.state.doc,n)));return{options:r,from:e?t.from:i.pos,validFor:rC}}const $i=za.define({name:"javascript",parser:x2e.configure({props:[Lf.add({IfStatement:Ic({except:/^\s*({|else\b)/}),TryStatement:Ic({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:LCe,SwitchBody:i=>{let t=i.textAfter,e=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return i.baseIndent+(e?0:r?1:2)*i.unit},Block:BCe({closing:"}"}),ArrowFunction:i=>i.baseIndent+i.unit,"TemplateString BlockComment":()=>null,"Statement Property":Ic({except:/^{/}),JSXElement(i){let t=/^\s*<\//.test(i.textAfter);return i.lineIndent(i.node.from)+(t?0:i.unit)},JSXEscape(i){let t=/\s*\}/.test(i.textAfter);return i.lineIndent(i.node.from)+(t?0:i.unit)},"JSXOpenTag JSXSelfClosingTag"(i){return i.column(i.node.from)+i.unit}}),zf.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":ON,BlockComment(i){return{from:i.from+2,to:i.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),h5={test:i=>/^JSX/.test(i.name),facet:f0({commentTokens:{block:{open:"{/*",close:"*/}"}}})},c5=$i.configure({dialect:"ts"},"typescript"),d5=$i.configure({dialect:"jsx",props:[p0.add(i=>i.isTop?[h5]:void 0)]}),f5=$i.configure({dialect:"jsx ts",props:[p0.add(i=>i.isTop?[h5]:void 0)]},"typescript");let p5=i=>({label:i,type:"keyword"});const v5="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(p5),E2e=v5.concat(["declare","implements","private","protected","public"].map(p5));function C2e(i={}){let t=i.jsx?i.typescript?f5:d5:i.typescript?c5:$i,e=i.typescript?k2e.concat(E2e):a5.concat(v5);return new Nl(t,[$i.data.of({autocomplete:KCe(u5,HCe(e))}),$i.data.of({autocomplete:_2e}),i.jsx?A2e:[]])}function I2e(i){for(;;){if(i.name=="JSXOpenTag"||i.name=="JSXSelfClosingTag"||i.name=="JSXFragmentTag")return i;if(i.name=="JSXEscape"||!i.parent)return null;i=i.parent}}function iC(i,t,e=i.length){for(let r=t==null?void 0:t.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return i.sliceString(r.from,Math.min(r.to,e));return""}const Q2e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),A2e=de.inputHandler.of((i,t,e,r,n)=>{if((Q2e?i.composing:i.compositionStarted)||i.state.readOnly||t!=e||r!=">"&&r!="/"||!$i.isActiveAt(i.state,t,-1))return!1;let s=n(),{state:a}=s,o=a.changeByRange(l=>{var u;let{head:h}=l,c=zt(a).resolveInner(h-1,-1),d;if(c.name=="JSXStartTag"&&(c=c.parent),!(a.doc.sliceString(h-1,h)!=r||c.name=="JSXAttributeValue"&&c.to>h)){if(r==">"&&c.name=="JSXFragmentTag")return{range:l,changes:{from:h,insert:"</>"}};if(r=="/"&&c.name=="JSXStartCloseTag"){let f=c.parent,p=f.parent;if(p&&f.from==h-2&&((d=iC(a.doc,p.firstChild,h))||((u=p.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let v=`${d}>`;return{range:Y.cursor(h+v.length,-1),changes:{from:h,insert:v}}}}else if(r==">"){let f=I2e(c);if(f&&!/^\/?>|^<\//.test(a.doc.sliceString(h,h+2))&&(d=iC(a.doc,f,h)))return{range:l,changes:{from:h,insert:`</${d}>`}}}}return{range:l}});return o.changes.empty?!1:(i.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Mo=["_blank","_self","_top","_parent"],Ig=["ascii","utf-8","utf-16","latin1","latin1"],Qg=["get","post","put","delete"],Ag=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],gr=["true","false"],q={},R2e={a:{attrs:{href:null,ping:null,type:null,media:null,target:Mo,hreflang:null}},abbr:q,address:q,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:q,aside:q,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:q,base:{attrs:{href:null,target:Mo}},bdi:q,bdo:q,blockquote:{attrs:{cite:null}},body:q,br:q,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Ag,formmethod:Qg,formnovalidate:["novalidate"],formtarget:Mo,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:q,center:q,cite:q,code:q,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:q,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:q,div:q,dl:q,dt:q,em:q,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:q,figure:q,footer:q,form:{attrs:{action:null,name:null,"accept-charset":Ig,autocomplete:["on","off"],enctype:Ag,method:Qg,novalidate:["novalidate"],target:Mo}},h1:q,h2:q,h3:q,h4:q,h5:q,h6:q,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:q,hgroup:q,hr:q,html:{attrs:{manifest:null}},i:q,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Ag,formmethod:Qg,formnovalidate:["novalidate"],formtarget:Mo,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:q,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:q,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:q,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Ig,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:q,noscript:q,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:q,param:{attrs:{name:null,value:null}},pre:q,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:q,rt:q,ruby:q,samp:q,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Ig}},section:q,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:q,source:{attrs:{src:null,type:null,media:null}},span:q,strong:q,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:q,summary:q,sup:q,table:q,tbody:q,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:q,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:q,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:q,time:{attrs:{datetime:null}},title:q,tr:q,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:q,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:q},g5={accesskey:null,class:null,contenteditable:gr,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:gr,autocorrect:gr,autocapitalize:gr,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":gr,"aria-autocomplete":["inline","list","both","none"],"aria-busy":gr,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":gr,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":gr,"aria-hidden":gr,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":gr,"aria-multiselectable":gr,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":gr,"aria-relevant":null,"aria-required":gr,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},m5="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(i=>"on"+i);for(let i of m5)g5[i]=null;class zl{constructor(t,e){this.tags=Object.assign(Object.assign({},R2e),t),this.globalAttrs=Object.assign(Object.assign({},g5),e),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}zl.default=new zl;function Wa(i,t,e=i.length){if(!t)return"";let r=t.firstChild,n=r&&r.getChild("TagName");return n?i.sliceString(n.from,Math.min(n.to,e)):""}function Va(i,t=!1){for(;i;i=i.parent)if(i.name=="Element")if(t)t=!1;else return i;return null}function O5(i,t,e){let r=e.tags[Wa(i,Va(t))];return(r==null?void 0:r.children)||e.allTags}function S0(i,t){let e=[];for(let r=Va(t);r&&!r.type.isTop;r=Va(r.parent)){let n=Wa(i,r);if(n&&r.lastChild.name=="CloseTag")break;n&&e.indexOf(n)<0&&(t.name=="EndTag"||t.from>=r.firstChild.to)&&e.push(n)}return e}const y5=/^[:\-\.\w\u00b7-\uffff]*$/;function nC(i,t,e,r,n){let s=/\s*>/.test(i.sliceDoc(n,n+5))?"":">",a=Va(e,!0);return{from:r,to:n,options:O5(i.doc,a,t).map(o=>({label:o,type:"type"})).concat(S0(i.doc,e).map((o,l)=>({label:"/"+o,apply:"/"+o+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function sC(i,t,e,r){let n=/\s*>/.test(i.sliceDoc(r,r+5))?"":">";return{from:e,to:r,options:S0(i.doc,t).map((s,a)=>({label:s,apply:s+n,type:"type",boost:99-a})),validFor:y5}}function M2e(i,t,e,r){let n=[],s=0;for(let a of O5(i.doc,e,t))n.push({label:"<"+a,type:"type"});for(let a of S0(i.doc,e))n.push({label:"</"+a+">",type:"type",boost:99-s++});return{from:r,to:r,options:n,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function D2e(i,t,e,r,n){let s=Va(e),a=s?t.tags[Wa(i.doc,s)]:null,o=a&&a.attrs?Object.keys(a.attrs):[],l=a&&a.globalAttrs===!1?o:o.length?o.concat(t.globalAttrNames):t.globalAttrNames;return{from:r,to:n,options:l.map(u=>({label:u,type:"property"})),validFor:y5}}function N2e(i,t,e,r,n){var s;let a=(s=e.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),o=[],l;if(a){let u=i.sliceDoc(a.from,a.to),h=t.globalAttrs[u];if(!h){let c=Va(e),d=c?t.tags[Wa(i.doc,c)]:null;h=(d==null?void 0:d.attrs)&&d.attrs[u]}if(h){let c=i.sliceDoc(r,n).toLowerCase(),d='"',f='"';/^['"]/.test(c)?(l=c[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",f=i.sliceDoc(n,n+1)==c[0]?"":c[0],c=c.slice(1),r++):l=/^[^\s<>='"]*$/;for(let p of h)o.push({label:p,apply:d+p+f,type:"constant"})}}return{from:r,to:n,options:o,validFor:l}}function b5(i,t){let{state:e,pos:r}=t,n=zt(e).resolveInner(r,-1),s=n.resolve(r);for(let a=r,o;s==n&&(o=n.childBefore(a));){let l=o.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=n=o,a=l.from}return n.name=="TagName"?n.parent&&/CloseTag$/.test(n.parent.name)?sC(e,n,n.from,r):nC(e,i,n,n.from,r):n.name=="StartTag"?nC(e,i,n,r,r):n.name=="StartCloseTag"||n.name=="IncompleteCloseTag"?sC(e,n,r,r):t.explicit&&(n.name=="OpenTag"||n.name=="SelfClosingTag")||n.name=="AttributeName"?D2e(e,i,n,n.name=="AttributeName"?n.from:r,r):n.name=="Is"||n.name=="AttributeValue"||n.name=="UnquotedAttributeValue"?N2e(e,i,n,n.name=="Is"?r:n.from,r):t.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?M2e(e,i,n,r):null}function B2e(i){return b5(zl.default,i)}function Z2e(i){let{extraTags:t,extraGlobalAttributes:e}=i,r=e||t?new zl(t,e):zl.default;return n=>b5(r,n)}const L2e=$i.parser.configure({top:"SingleExpression"}),$5=[{tag:"script",attrs:i=>i.type=="text/typescript"||i.lang=="ts",parser:c5.parser},{tag:"script",attrs:i=>i.type=="text/babel"||i.type=="text/jsx",parser:d5.parser},{tag:"script",attrs:i=>i.type=="text/typescript-jsx",parser:f5.parser},{tag:"script",attrs:i=>i.type=="importmap"||i.type=="speculationrules",parser:L2e},{tag:"script",attrs(i){return!i.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(i.type)},parser:$i.parser},{tag:"style",attrs(i){return(!i.lang||i.lang=="css")&&(!i.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(i.type))},parser:Md.parser}],w5=[{name:"style",parser:Md.parser.configure({top:"Styles"})}].concat(m5.map(i=>({name:i,parser:$i.parser}))),S5=za.define({name:"html",parser:IQe.configure({props:[Lf.add({Element(i){let t=/^(\s*)(<\/)?/.exec(i.textAfter);return i.node.to<=i.pos+t[0].length?i.continue():i.lineIndent(i.node.from)+(t[2]?0:i.unit)},"OpenTag CloseTag SelfClosingTag"(i){return i.column(i.node.from)+i.unit},Document(i){if(i.pos+/\s*/.exec(i.textAfter)[0].length<i.node.to)return i.continue();let t=null,e;for(let r=i.node;;){let n=r.lastChild;if(!n||n.name!="Element"||n.to!=r.to)break;t=r=n}return t&&!((e=t.lastChild)&&(e.name=="CloseTag"||e.name=="SelfClosingTag"))?i.lineIndent(t.from)+i.unit:null}}),zf.add({Element(i){let t=i.firstChild,e=i.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:e.name=="CloseTag"?e.from:i.to}}}),YCe.add({"OpenTag CloseTag":i=>i.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Rc=S5.configure({wrap:t5($5,w5)});function z2e(i={}){let t="",e;i.matchClosingTags===!1&&(t="noMatch"),i.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(i.nestedLanguages&&i.nestedLanguages.length||i.nestedAttributes&&i.nestedAttributes.length)&&(e=t5((i.nestedLanguages||[]).concat($5),(i.nestedAttributes||[]).concat(w5)));let r=e?S5.configure({wrap:e,dialect:t}):t?Rc.configure({dialect:t}):Rc;return new Nl(r,[Rc.data.of({autocomplete:Z2e(i)}),i.autoCloseTags!==!1?F2e:[],C2e().support,i2e().support])}const aC=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),F2e=de.inputHandler.of((i,t,e,r,n)=>{if(i.composing||i.state.readOnly||t!=e||r!=">"&&r!="/"||!Rc.isActiveAt(i.state,t,-1))return!1;let s=n(),{state:a}=s,o=a.changeByRange(l=>{var u,h,c;let d=a.doc.sliceString(l.from-1,l.to)==r,{head:f}=l,p=zt(a).resolveInner(f-1,-1),v;if((p.name=="TagName"||p.name=="StartTag")&&(p=p.parent),d&&r==">"&&p.name=="OpenTag"){if(((h=(u=p.parent)===null||u===void 0?void 0:u.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(v=Wa(a.doc,p.parent,f))&&!aC.has(v)){let m=f+(a.doc.sliceString(f,f+1)===">"?1:0),g=`</${v}>`;return{range:l,changes:{from:f,to:m,insert:g}}}}else if(d&&r=="/"&&p.name=="IncompleteCloseTag"){let m=p.parent;if(p.from==f-2&&((c=m.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(v=Wa(a.doc,m,f))&&!aC.has(v)){let g=f+(a.doc.sliceString(f,f+1)===">"?1:0),O=`${v}>`;return{range:Y.cursor(f+O.length,-1),changes:{from:f,to:g,insert:O}}}}return{range:l}});return o.changes.empty?!1:(i.dispatch([s,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),x5=f0({commentTokens:{block:{open:"<!--",close:"-->"}}}),k5=new ue,P5=TIe.configure({props:[zf.add(i=>!i.is("Block")||i.is("Document")||g$(i)!=null?void 0:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})),k5.add(g$),Lf.add({Document:()=>null}),is.add({Document:x5})]});function g$(i){let t=/^(?:ATX|Setext)Heading(\d)$/.exec(i.name);return t?+t[1]:void 0}function j2e(i,t){let e=i;for(;;){let r=e.nextSibling,n;if(!r||(n=g$(r.type))!=null&&n<=t)break;e=r}return e.to}const X2e=zCe.of((i,t,e)=>{for(let r=zt(i).resolveInner(e,-1);r&&!(r.from<t);r=r.parent){let n=r.type.prop(k5);if(n==null)continue;let s=j2e(r,n);if(s>e)return{from:e,to:s}}return null});function x0(i){return new Ar(x5,i,[X2e],"markdown")}const Y2e=x0(P5),W2e=P5.configure([NIe,ZIe,BIe,LIe]),k0=x0(W2e);function V2e(i,t){return e=>{if(e&&i){let r=null;if(e=/\S*/.exec(e)[0],typeof i=="function"?r=i(e):r=Td.matchLanguageName(i,e,!0),r instanceof Td)return r.support?r.support.language.parser:Dl.getSkippingParser(r.load());if(r)return r.parser}return t?t.parser:null}}class rc{constructor(t,e,r,n,s,a,o){this.node=t,this.from=e,this.to=r,this.spaceBefore=n,this.spaceAfter=s,this.type=a,this.item=o}blank(t,e=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(t!=null){for(;r.length<t;)r+=" ";return r}else{for(let n=this.to-this.from-r.length-this.spaceAfter.length;n>0;n--)r+=" ";return r+(e?this.spaceAfter:"")}}marker(t,e){let r=this.node.name=="OrderedList"?String(+_5(this.item,t)[2]+e):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function T5(i,t){let e=[];for(let n=i;n&&n.name!="Document";n=n.parent)(n.name=="ListItem"||n.name=="Blockquote"||n.name=="FencedCode")&&e.push(n);let r=[];for(let n=e.length-1;n>=0;n--){let s=e[n],a,o=t.lineAt(s.from),l=s.from-o.from;if(s.name=="FencedCode")r.push(new rc(s,l,l,"","","",null));else if(s.name=="Blockquote"&&(a=/^[ \t]*>( ?)/.exec(o.text.slice(l))))r.push(new rc(s,l,l+a[0].length,"",a[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(a=/^([ \t]*)\d+([.)])([ \t]*)/.exec(o.text.slice(l)))){let u=a[3],h=a[0].length;u.length>=4&&(u=u.slice(0,u.length-4),h-=4),r.push(new rc(s.parent,l,l+h,a[1],u,a[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(a=/^([ \t]*)([-+*])([ \t]{1,4}\[[ xX]\])?([ \t]+)/.exec(o.text.slice(l)))){let u=a[4],h=a[0].length;u.length>4&&(u=u.slice(0,u.length-4),h-=4);let c=a[2];a[3]&&(c+=a[3].replace(/[xX]/," ")),r.push(new rc(s.parent,l,l+h,a[1],u,c,s))}}return r}function _5(i,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(i.from,i.from+10))}function Rg(i,t,e,r=0){for(let n=-1,s=i;;){if(s.name=="ListItem"){let o=_5(s,t),l=+o[2];if(n>=0){if(l!=n+1)return;e.push({from:s.from+o[1].length,to:s.from+o[0].length,insert:String(n+2+r)})}n=l}let a=s.nextSibling;if(!a)break;s=a}}const U2e=({state:i,dispatch:t})=>{let e=zt(i),{doc:r}=i,n=null,s=i.changeByRange(a=>{if(!a.empty||!k0.isActiveAt(i,a.from))return n={range:a};let o=a.from,l=r.lineAt(o),u=T5(e.resolveInner(o,-1),r);for(;u.length&&u[u.length-1].from>o-l.from;)u.pop();if(!u.length)return n={range:a};let h=u[u.length-1];if(h.to-h.spaceAfter.length>o-l.from)return n={range:a};let c=o>=h.to-h.spaceAfter.length&&!/\S/.test(l.text.slice(h.to));if(h.item&&c)if(h.node.firstChild.to>=o||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let m=u.length>1?u[u.length-2]:null,g,O="";m&&m.item?(g=l.from+m.from,O=m.marker(r,1)):g=l.from+(m?m.to:0);let b=[{from:g,to:o,insert:O}];return h.node.name=="OrderedList"&&Rg(h.item,r,b,-2),m&&m.node.name=="OrderedList"&&Rg(m.item,r,b),{range:Y.cursor(g+O.length),changes:b}}else{let m="";for(let g=0,O=u.length-2;g<=O;g++)m+=u[g].blank(g<O?u[g+1].from-m.length:null,g<O);return m+=i.lineBreak,{range:Y.cursor(o+m.length),changes:{from:l.from,insert:m}}}if(h.node.name=="Blockquote"&&c&&l.from){let m=r.lineAt(l.from-1),g=/>\s*$/.exec(m.text);if(g&&g.index==h.from){let O=i.changes([{from:m.from+g.index,to:m.to},{from:l.from+h.from,to:l.to}]);return{range:a.map(O),changes:O}}}let d=[];h.node.name=="OrderedList"&&Rg(h.item,r,d);let f=h.item&&h.item.from<l.from,p="";if(!f||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=h.to)for(let m=0,g=u.length-1;m<=g;m++)p+=m==g&&!f?u[m].marker(r,1):u[m].blank(m<g?u[m+1].from-p.length:null);let v=o;for(;v>l.from&&/\s/.test(l.text.charAt(v-l.from-1));)v--;return p=i.lineBreak+p,d.push({from:v,to:o,insert:p}),{range:Y.cursor(v+p.length),changes:d}});return n?!1:(t(i.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function oC(i){return i.name=="QuoteMark"||i.name=="ListMark"}function q2e(i,t){let e=i.resolveInner(t,-1),r=t;oC(e)&&(r=e.from,e=e.parent);for(let n;n=e.childBefore(r);)if(oC(n))r=n.from;else if(n.name=="OrderedList"||n.name=="BulletList")e=n.lastChild,r=e.to;else break;return e}const G2e=({state:i,dispatch:t})=>{let e=zt(i),r=null,n=i.changeByRange(s=>{let a=s.from,{doc:o}=i;if(s.empty&&k0.isActiveAt(i,s.from)){let l=o.lineAt(a),u=T5(q2e(e,a),o);if(u.length){let h=u[u.length-1],c=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(a-l.from>c&&!/\S/.test(l.text.slice(c,a-l.from)))return{range:Y.cursor(l.from+c),changes:{from:l.from+c,to:a}};if(a-l.from==c&&(!h.item||l.from<=h.item.from||!/\S/.test(l.text.slice(0,h.to)))){let d=l.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(l.text.slice(h.from,h.to)))return{range:s,changes:{from:d,to:l.from+h.to,insert:h.blank(h.to-h.from)}};if(d<a)return{range:Y.cursor(d),changes:{from:d,to:a}}}}}return r={range:s}});return r?!1:(t(i.update(n,{scrollIntoView:!0,userEvent:"delete"})),!0)},H2e=[{key:"Enter",run:U2e},{key:"Backspace",run:G2e}],m$=z2e({matchClosingTags:!1});function K2e(i={}){let{codeLanguages:t,defaultCodeLanguage:e,addKeymap:r=!0,base:{parser:n}=Y2e,completeHTMLTags:s=!0}=i;if(!(n instanceof Ff))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let a=i.extensions?[i.extensions]:[],o=[m$.support],l;e instanceof Nl?(o.push(e.support),l=e.language):e&&(l=e);let u=t||l?V2e(t,l):void 0;a.push(EIe({codeParser:u,htmlParser:m$.language.parser})),r&&o.push(Wu.high(l0.of(H2e)));let h=x0(n.configure(a));return s&&o.push(h.data.of({autocomplete:J2e})),new Nl(h,o)}function J2e(i){let{state:t,pos:e}=i,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(t.sliceDoc(e-25,e));if(!r)return null;let n=zt(t).resolveInner(e,-1);for(;n&&!n.type.isTop;){if(n.name=="CodeBlock"||n.name=="FencedCode"||n.name=="ProcessingInstructionBlock"||n.name=="CommentBlock"||n.name=="Link"||n.name=="Image")return null;n=n.parent}return{from:e-r[0].length,to:e,options:eAe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Mg=null;function eAe(){if(Mg)return Mg;let i=B2e(new qCe(Pe.create({extensions:m$}),0,!0));return Mg=i?i.options:[]}class tAe extends fIe{constructor(e){super();Q(this,"model");this.model=e.model}async manipulate(e){const r=de.theme({"&.cm-editor.cm-focused":{outline:"none",fontFamily:"NotoSansKR"},"& .cm-content":{width:"100%",fontFamily:"NotoSansKR"},"& .cm-line":{wordWrap:"break-word",whiteSpace:"pre-wrap",wordBreak:"normal"}}),n=Hu.define([{tag:$.heading1,fontSize:"40px",fontWeight:"bold"},{tag:$.heading2,fontSize:"32px",fontWeight:"bold"},{tag:$.heading3,fontSize:"28px",fontWeight:"bold"},{tag:$.heading4,fontSize:"24px",fontWeight:"bold"},{tag:$.heading5,fontSize:"24px",fontWeight:"bold"},{tag:$.heading6,fontSize:"24px",fontWeight:"bold"},{tag:$.quote,fontSize:"20px",color:"gray",fontWeight:"bold"},{tag:$.content,fontSize:"18px"}]);e.setState(Pe.create({doc:this.model.getData(),extensions:[r,K2e({base:k0}),FCe(n),de.updateListener.of(async s=>{s.docChanged&&this.model.setData(s.state.doc.sliceString(0,s.state.doc.length))}),fCe("새로운 글을 작성...")]}))}}class ri{}class rAe extends ri{constructor(e){super();Q(this,"editor");this.editor=e.editor}async observe(e){e!==this.editor.state.doc.toString()&&this.editor.update([this.editor.state.update({changes:{from:0,to:this.editor.state.doc.length,insert:e}})])}}class iAe extends ri{constructor(e){super();Q(this,"viewerComponent");this.viewerComponent=e.viewerComponent}async observe(e){try{const r=this.viewerComponent.shadowRoot.getElementById("root");if(r===null)throw`no such id: root in ${this.viewerComponent.shadowRoot}`;r.innerHTML=(await Z5.process(e)).toString()}catch(r){throw console.log(r),"UpdateViewerObserver failed"}}}class nAe extends ri{constructor(e){super();Q(this,"editorBodyModel");this.editorBodyModel=e.editorBodyModel}async observe(e){await this.editorBodyModel.setData(e.body)}}class sAe extends ri{constructor(e){super();Q(this,"editorTitleModel");this.editorTitleModel=e.editorTitleModel}async observe(e){await this.editorTitleModel.setData(e.title)}}class aAe extends ri{constructor(e){super();Q(this,"notifier");this.notifier=e.notifier}async observe(e){const r=await L5(e);await this.notifier.notify(r)}}class oAe extends ri{constructor(e){super();Q(this,"component");this.component=e.component}async observe(e){try{const r=this.component.shadowRoot.getElementById("title-input");if(r===null)throw`no such id: "title-input" in ${this.component.shadowRoot}`;r.value=e}catch(r){console.log(r)}}}class lAe{register(){window.addEventListener(this.eventName,async t=>{await this.handle(t)})}}class uAe extends lAe{constructor(e){super();Q(this,"eventName","keydown");Q(this,"commandLinePopupModel");this.commandLinePopupModel=e.commandLinePopupModel}async handle(e){e.ctrlKey&&e.code==="Backquote"&&this.commandLinePopupModel.setData(!this.commandLinePopupModel.getData())}}class hAe extends ri{constructor(e){super();Q(this,"network");this.network=e.network}async observe(e){e?this.network.addEdgeMode():this.network.disableEditMode()}}const ca=class ca{static getInstance(){try{if(ca.instance===void 0)throw"no instance";return ca.instance}catch(t){throw console.log(t),"MyPageNetwork failed"}}static setInstance(t){ca.instance=t}};Q(ca,"instance");let Dd=ca;const cAe=async()=>{const i=new V(cC.shadowRoot.getElementById("root"),{nodes:yl,edges:dc},{manipulation:{addEdge:async function(e,r){const n=await n_e(e.from,e.to);dc.add({id:n.id,from:e.from,to:e.to}),EO.setData(!1),r(null)}},layout:{hierarchical:{enabled:!0,sortMethod:"directed"}},nodes:{shape:"text"},edges:{arrows:{to:!0},color:{color:"gray"}}});Dd.setInstance(i),await _a.operate(new a_e({nodes:yl})),await _a.operate(new l_e({edges:dc})),await new u_e({manipulators:[new h_e({editorIdModel:_O,editorPopupModel:hc}),new c_e({network:i,contextMenuModels:yh,nodeContextMenuModel:hf,contextedNodeModel:I2}),new d_e({contextMenuModels:yh,edgeContextMenuModel:cf,contextedEdgeModel:Q2}),new f_e({contextMenuModels:yh,backgroundContextMenuModel:uf}),new p_e({contextMenuModels:yh})]}).manipulate(i);const t=new de({parent:dC.shadowRoot.getElementById("root")});await new tAe({model:No}).manipulate(t),No.registerObserver(new rAe({editor:t})),No.registerObserver(new iAe({viewerComponent:fC})),[new nAe({editorBodyModel:No}),new sAe({editorTitleModel:Go})].forEach(e=>{Xx.registerObserver(e)}),_O.registerObserver(new aAe({notifier:Xx})),Go.registerObserver(new oAe({component:Dg})),new uAe({commandLinePopupModel:cc}).register(),EO.registerObserver(new hAe({network:i}))};async function dAe(i){return(await dr.get("/api/login",{params:{uuid:i}})).data}const lC=new re,fAe=new re,pAe=new re,vAe=new re,gAe=new re,mAe=new re,OAe=new re,yAe=new re,bAe=new re,E5=new re;new re;const $Ae=new re,wAe=new re,SAe=new re,xAe=new re,kAe=new re,PAe=new re,TAe=new re;new re;const O$=new re;class _Ae extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='nav'></div>
          <div id='main'></div>
        </div>
      `,t.shadowRoot)}}const EAe=`#root{font-family:NotoSansKR;font-weight:400;width:100%;height:100%}#root #nav{position:fixed;margin-top:60px;width:calc(100% - 160px);height:40px;margin-left:80px;z-index:100}#root #main{width:100%;height:100%}
`;class CAe extends xe{constructor(){super({styles:EAe})}}class IAe extends Wi{constructor(t){super({manipulators:[new _Ae,new CAe],idTreeNodes:t.idTreeNodes})}}class QAe extends Se{constructor(e){super();Q(this,"bodyComponent");Q(this,"body");this.bodyComponent=e.bodyComponent,this.body=e.body}async manipulate(e){Me(De`
        <div id='root' class='close'>
          ${this.bodyComponent}
        </div>
      `,e.shadowRoot),await this.body.manipulate(this.bodyComponent)}}const AAe=`.close{visibility:hidden}.open{visibility:visible}
`;class RAe extends xe{constructor(){super({styles:AAe})}}class C5 extends kt{constructor(t){super({manipulators:[new QAe({bodyComponent:t.bodyComponent,body:t.body}),new RAe,...t.additionalManipulators]})}}const MAe=`#root{position:fixed;width:100%;height:100%;left:0;top:0;background-color:#fff;z-index:200}
`;class DAe extends xe{constructor(){super({styles:MAe})}}class Fl extends C5{constructor(t){super({bodyComponent:t.bodyComponent,body:t.body,additionalManipulators:[new DAe,...t.additionalManipulators]})}}class NAe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'></div>
          <div id='editor-popup'></div>
          <div id='command-line-popup'></div>
        </div>
      `,t.shadowRoot)}}const BAe=`#root,#root #main{width:100%;height:100%}
`;class ZAe extends xe{constructor(){super({styles:BAe.toString()})}}class LAe extends Wi{constructor(t){super({manipulators:[new NAe,new ZAe],idTreeNodes:t.idTreeNodes})}}class zAe extends C5{constructor(t){super({...t})}}const FAe=`#root{position:fixed;width:200px;background-color:#fff}
`;class jAe extends xe{constructor(){super({styles:FAe})}}class XAe extends ri{constructor(e){super();Q(this,"component");this.component=e.component}async observe(e){try{const r=this.component.shadowRoot.getElementById("root");if(r===null)throw"no id root";r.style.left=e.x,r.style.top=e.y,e.mode?(r.classList.remove("close"),r.classList.add("open")):(r.classList.remove("open"),r.classList.add("close"))}catch(r){console.log(r)}}}class YAe extends Se{constructor(e){super();Q(this,"model");this.model=e.model}async manipulate(e){this.model.registerObserver(new XAe({component:e}))}}class Mc extends kt{constructor(t){super({manipulators:[new zAe({body:t.body,bodyComponent:t.bodyComponent,additionalManipulators:[]}),new jAe,new YAe({model:t.model})]})}}class WAe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='vis-network'></div>
        </div>
      `,t.shadowRoot)}}const VAe=`#root,#root #vis-network{width:100%;height:100%}
`;class UAe extends xe{constructor(){super({styles:VAe.toString()})}}class qAe extends Wi{constructor(t){super({manipulators:[new WAe,new UAe],idTreeNodes:t.idTreeNodes})}}class GAe extends Se{async manipulate(t){Me(De`
        <div id='root'></div>
      `,t.shadowRoot)}}const HAe=`#root{width:100%;height:100%}
`;class KAe extends xe{constructor(){super({styles:HAe})}}class JAe extends kt{constructor(){super({manipulators:[new GAe,new KAe]})}}class eRe extends Se{async manipulate(t){Me(De`
        <div id='root'></div>
      `,t.shadowRoot)}}const tRe=`#root{width:100%;box-shadow:0 3px 8px #0000000d}
`;class rRe extends xe{constructor(){super({styles:tRe})}}class iRe extends kt{constructor(e){super({manipulators:e.manipulators});Q(this,"layout");Q(this,"children");this.layout=e.layout,this.children=e.children}async manipulate(e){await super.manipulate(e),await this.layout.manipulate(e,this.children);for(let r of this.children)await r.manipulator.manipulate(r.component)}}class nRe extends Se{async manipulate(t){Me(De`
        <div id='root'></div>
      `,t.shadowRoot)}}class Ju extends iRe{constructor(t){super({layout:t.layout,children:t.children,manipulators:[new nRe,...t.manipulators]})}}class I5{}class sRe extends I5{async manipulate(t,e){for(let r=0;r<e.length;r++){const n=t.shadowRoot.getElementById("root");n.appendChild(e[r].component),r<e.length-1&&n.appendChild(document.createElement("hr"))}}}class Dc extends Ju{constructor(t){super({layout:new sRe,manipulators:[new eRe,new rRe],children:t.children})}}class aRe extends Se{constructor(e){super();Q(this,"label");this.label=e.label}async manipulate(e){Me(De`
        <div id='root'><div id='main'>${this.label}</div></div>
      `,e.shadowRoot)}}const oRe=`#root{font-weight:600;width:100%;height:40px;display:flex;justify-content:left;align-items:center}#root:hover{cursor:pointer}#root #main{margin-left:8px}
`;class lRe extends xe{constructor(){super({styles:oRe})}}class ll extends kt{constructor(t){super({manipulators:[new aRe({label:t.label}),new lRe,...t.additionalManipulators]})}}async function uRe(i){await dr.get("/api/post/delete",{params:{id:i}})}class hRe extends Oo{constructor(e){super();Q(this,"id");Q(this,"nodes");this.id=e.id,this.nodes=e.nodes}async operate(e){await uRe(this.id),this.nodes.remove(this.id),e.nodes.delete(this.id)}}class Ft extends Se{constructor(e){super();Q(this,"id");this.id=e.id}async manipulate(e){try{const r=e.shadowRoot.getElementById(this.id);if(r===null)throw"no such id";r.addEventListener(this.eventName,n=>{this.handle(n)})}catch(r){console.log(r)}}}class cRe extends Ft{constructor(e){super({id:"root"});Q(this,"eventName","click");Q(this,"contextedNodeModel");Q(this,"graphModel");Q(this,"nodes");this.contextedNodeModel=e.contextedNodeModel,this.graphModel=e.graphModel,this.nodes=e.nodes}async handle(e){try{const r=this.contextedNodeModel.getData();await this.graphModel.operate(new hRe({id:r,nodes:this.nodes})),hf.setData({mode:!1,x:"0",y:"0"})}catch(r){throw console.log(r),"RegisterClick failed"}}}async function dRe(i){await dr.get("/api/edge/delete",{params:{id:i}})}class fRe extends Oo{constructor(e){super();Q(this,"id");Q(this,"edges");this.id=e.id,this.edges=e.edges}async operate(e){await dRe(this.id),this.edges.remove(this.id),e.edges.delete(this.id)}}class pRe extends Ft{constructor(e){super({id:"root"});Q(this,"eventName","click");Q(this,"contextedEdgeModel");Q(this,"graphModel");Q(this,"edges");this.contextedEdgeModel=e.contextedEdgeModel,this.graphModel=e.graphModel,this.edges=e.edges}async handle(e){try{const r=this.contextedEdgeModel.getData();await this.graphModel.operate(new fRe({id:r,edges:this.edges})),cf.setData({mode:!1,x:"0",y:"0"})}catch(r){throw console.log(r),"RegisterClick failed"}}}class vRe extends Ft{constructor(e){super({id:"root"});Q(this,"eventName","click");Q(this,"editEdgeModeModel");this.editEdgeModeModel=e.editEdgeModeModel}async handle(e){try{this.editEdgeModeModel.setData(!this.editEdgeModeModel.getData()),uf.setData({mode:!1,x:"0",y:"0"})}catch(r){throw console.log(r),"RegisterToggleEditModeClick failed"}}}class gRe extends qAe{constructor(){super({idTreeNodes:[{id:"vis-network",component:cC,manipulator:new JAe},{id:"root",component:q5,manipulator:new Mc({model:hf,body:new Dc({children:[{component:new re,manipulator:new ll({label:"삭제",additionalManipulators:[new cRe({contextedNodeModel:I2,graphModel:_a,nodes:yl})]})}]}),bodyComponent:G5})},{id:"root",component:H5,manipulator:new Mc({model:cf,body:new Dc({children:[{component:new re,manipulator:new ll({label:"삭제",additionalManipulators:[new pRe({contextedEdgeModel:Q2,graphModel:_a,edges:dc})]})}]}),bodyComponent:K5})},{id:"root",component:V5,manipulator:new Mc({model:uf,body:new Dc({children:[{component:new re,manipulator:new ll({label:"엣지 모드",additionalManipulators:[new vRe({editEdgeModeModel:EO})]})}]}),bodyComponent:U5})}]})}}class mRe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'>
            <div id='label'>저장 할까요?</div>
            <div id='title-input-div'>
              <input id='title-input' placeholder='제목을 입력해주세요.'></input>
            </div>
            <div id='save-button-div'>
              <div id='save-button'>저장</div>
            </div>
          </div>
        </div>
      `,t.shadowRoot)}}const ORe=`#root{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:row;justify-content:center}#root #main{width:400px;margin-top:280px}#root #main #label{font-size:52px;font-weight:600}#root #main #title-input-div{margin-top:60px;width:calc(100% - 6px);height:60px}#root #main #title-input-div #title-input{width:100%;height:100%}#root #main #save-button-div{width:100%;height:60px;margin-top:20px}#root #main #save-button-div #save-button{border-style:solid;border-width:.5px;border-color:#00000040;display:flex;justify-content:center;align-items:center;width:100%;height:100%}#root #main #save-button-div #save-button:hover{cursor:pointer}
`;class yRe extends xe{constructor(){super({styles:ORe})}}class bRe extends kt{constructor(t){super({manipulators:[new mRe,new yRe,...t.additionalManipulators]})}}async function $Re(i,t){return(await dr.get("/api/post/create",{params:{title:i,body:t}})).data}class wRe extends $${}class SRe extends ri{constructor(e){super();Q(this,"nodes");this.nodes=e.nodes}async observe(e){this.nodes.add({id:e.id,label:e.title})}}class xRe extends ri{async observe(t){setTimeout(()=>{try{Dd.getInstance().redraw()}catch(e){throw console.log(e),"RedrawNetworkObserver failed"}},10)}}class kRe extends Oo{constructor(e){super();Q(this,"title");Q(this,"notifier");this.title=e.title,this.notifier=new wRe({observers:[new SRe({nodes:e.nodes}),new xRe]})}async operate(e){try{const r=await $Re(this.title,"");this.notifier.notify({id:r.id,title:this.title})}catch(r){console.log(r)}}registerObserver(e){this.notifier.registerObserver(e)}}class PRe extends Ft{constructor(e){super({id:"save-button"});Q(this,"eventName","click");Q(this,"graphModel");Q(this,"editorPopupModel");Q(this,"editorTitleModel");Q(this,"commandLinePopupModel");Q(this,"nodes");this.graphModel=e.graphModel,this.editorPopupModel=e.editorPopupModel,this.editorTitleModel=e.editorTitleModel,this.commandLinePopupModel=e.commandLinePopupModel,this.nodes=e.nodes}async handle(e){try{if(this.editorPopupModel.getData())return;await this.graphModel.operate(new kRe({title:this.editorTitleModel.getData(),nodes:this.nodes})),this.commandLinePopupModel.setData(!1)}catch(r){throw console.log(r),"RegisterCreateNodeClick failed"}}}class TRe extends Oo{constructor(e){super();Q(this,"id");Q(this,"title");Q(this,"nodes");this.id=e.id,this.title=e.title,this.nodes=e.nodes}async operate(e){try{this.nodes.updateOnly({id:this.id,label:this.title}),e.nodes.set(this.id,{label:this.title})}catch(r){console.log(r)}}}async function _Re(i,t,e){await dr.get("/api/post/update",{params:{id:i,title:t,body:e}})}class ERe extends Ft{constructor(e){super({id:"save-button"});Q(this,"eventName","click");Q(this,"graphModel");Q(this,"editorPopupModel");Q(this,"editorIdModel");Q(this,"editorTitleModel");Q(this,"editorBodyModel");Q(this,"commandLinePopupModel");Q(this,"nodes");this.graphModel=e.graphModel,this.editorPopupModel=e.editorPopupModel,this.editorIdModel=e.editorIdModel,this.editorTitleModel=e.editorTitleModel,this.editorBodyModel=e.editorBodyModel,this.commandLinePopupModel=e.commandLinePopupModel,this.nodes=e.nodes}async handle(e){try{if(!this.editorPopupModel.getData())return;await _Re(this.editorIdModel.getData(),this.editorTitleModel.getData(),this.editorBodyModel.getData()),await this.graphModel.operate(new TRe({id:this.editorIdModel.getData(),title:this.editorTitleModel.getData(),nodes:this.nodes})),this.commandLinePopupModel.setData(!1)}catch(r){throw console.log(r),"RegisterUpdateNodeClick failed"}}}class CRe extends Ft{constructor(e){super({id:"title-input"});Q(this,"eventName","input");Q(this,"component");Q(this,"editorTitleModel");this.component=e.component,this.editorTitleModel=e.editorTitleModel}async handle(e){try{const r=this.component.shadowRoot.getElementById("title-input");if(r===null)throw`no such id: "title-input" in ${this.component.shadowRoot}`;if(this.editorTitleModel.getData()===r.value)return;this.editorTitleModel.setData(r.value)}catch(r){console.log(r)}}}class IRe extends ri{constructor(e){super();Q(this,"component");this.component=e.component}async observe(e){try{const r=this.component.shadowRoot.getElementById("root");if(r===null)throw"no id root";e?(r.classList.remove("close"),r.classList.add("open")):(r.classList.remove("open"),r.classList.add("close"))}catch(r){console.log(r)}}}class jl extends Se{constructor(e){super();Q(this,"model");this.model=e.model}async manipulate(e){this.model.registerObserver(new IRe({component:e}))}}class QRe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='edit-box'></div>
          <div id='viewer'></div>
        </div>
      `,t.shadowRoot)}}const ARe=`#root{width:100%;height:100%;background-color:#fff}#root>#edit-box{position:absolute;left:0;top:0;width:50%;height:100%;overflow-y:hidden}#root>#viewer{position:absolute;left:50%;top:0;width:50%;height:100%;overflow-y:scroll}
`;class RRe extends xe{constructor(){super({styles:ARe})}}class MRe extends Wi{constructor(t){super({manipulators:[new QRe,new RRe],...t})}}class DRe extends Se{async manipulate(t){Me(De`
        <div id='root'></div>
      `,t.shadowRoot)}}class NRe extends kt{constructor(){super({manipulators:[new DRe]})}}class BRe extends Se{async manipulate(t){Me(De`
        <div id='root'></div>
      `,t.shadowRoot)}}const ZRe=`#root{width:100%;height:100%}
`;class LRe extends xe{constructor(){super({styles:ZRe})}}class zRe extends xe{constructor(){super({styles:z5})}}class FRe extends kt{constructor(){super({manipulators:[new BRe,new LRe,new zRe]})}}class jRe extends LAe{constructor(){super({idTreeNodes:[{id:"main",component:j5,manipulator:new gRe},{id:"command-line-popup",component:W5,manipulator:new Fl({bodyComponent:Dg,body:new bRe({additionalManipulators:[new PRe({graphModel:_a,editorPopupModel:hc,editorTitleModel:Go,commandLinePopupModel:cc,nodes:yl}),new ERe({graphModel:_a,editorIdModel:_O,editorPopupModel:hc,editorTitleModel:Go,editorBodyModel:No,commandLinePopupModel:cc,nodes:yl}),new CRe({component:Dg,editorTitleModel:Go})]}),additionalManipulators:[new jl({model:cc})]})},{id:"editor-popup",component:X5,manipulator:new Fl({bodyComponent:Y5,body:new MRe({idTreeNodes:[{id:"edit-box",component:dC,manipulator:new NRe},{id:"viewer",component:fC,manipulator:new FRe}]}),additionalManipulators:[new jl({model:hc})]})}]})}}const XRe=`#root{width:100%;height:100%;display:flex;justify-content:space-between;font-weight:600}
`;class YRe extends xe{constructor(){super({styles:XRe})}}class jf extends I5{constructor(){super()}async manipulate(t,e){try{const r=t.shadowRoot.getElementById("root");if(r===null)throw"no such id: root";for(let n of e)r.appendChild(n.component)}catch(r){throw console.log(r),"OwlDefaultLayout failed"}}}class WRe extends Ju{constructor(t){super({layout:new jf,children:t.children,manipulators:[new YRe]})}}const P0=new Ot({initialData:!1,observers:[]}),Q5=new Ot({initialData:!1,observers:[]}),uC=new Ot({initialData:"",observers:[]}),ba=new Ot({initialData:{id:-1,email:"",nickname:""},observers:[]}),y$=new Ot({initialData:{mode:!1,x:"0",y:"0"},observers:[]}),A5=new Ot({initialData:!1,observers:[]}),R5=new Ot({initialData:"",observers:[]}),M5=new Ot({initialData:"",observers:[]});class VRe extends Ju{constructor(t){super({layout:new jf,manipulators:[],children:t.children})}}const URe=`#root{width:120px;height:40px;display:flex;justify-content:center;align-items:center;background-color:#fff}#root:hover{cursor:pointer}
`;class qRe extends xe{constructor(){super({styles:URe})}}class GRe extends Se{async manipulate(t){Me(De`
        <div id='root'>시작하기</div>
      `,t.shadowRoot)}}class HRe extends kt{constructor(t){super({manipulators:[new GRe,new qRe,...t.manipulators]})}}class KRe extends Ft{constructor(e){super({id:"root"});Q(this,"eventName","click");Q(this,"loginEntryPopupModel");this.loginEntryPopupModel=e.loginEntryPopupModel}async handle(e){this.loginEntryPopupModel.setData(!0)}}class JRe extends Se{constructor(e){super();Q(this,"nickname");this.nickname=e.nickname}async manipulate(e){Me(De`
        <div id='root'>${this.nickname}</div>
      `,e.shadowRoot)}}const eMe=`#root{width:120px;height:40px;display:flex;justify-content:center;align-items:center;background-color:#fff}#root:hover{cursor:pointer}
`;class tMe extends xe{constructor(){super({styles:eMe})}}class rMe extends Ft{constructor(){super({id:"root"});Q(this,"eventName","click")}async handle(e){y$.setData({mode:!y$.getData().mode,x:"calc(100% - 280px)",y:"120px"})}}class iMe extends kt{constructor(t){super({manipulators:[new JRe({nickname:t.nickname}),new tMe,new rMe]})}async manipulate(t){await super.manipulate(t)}}class nMe extends iMe{constructor(){super({nickname:ba.getData().nickname})}}class sMe extends Ft{constructor(){super({id:"root"});Q(this,"eventName","click")}async handle(e){location.href=`${Cr}/my-page/`}}async function aMe(i){return(await dr.get("/api/logout",{params:{refreshToken:i}})).data}class oMe extends Ft{constructor(){super({id:"root"});Q(this,"eventName","click")}async handle(e){try{const r=localStorage.getItem("refreshToken");if(r===null)throw"no refreshToken";await aMe(r),localStorage.clear(),location.href=`${Cr}/`}catch(r){throw console.log(r),"RegisterLogoutClick failed"}}}let lMe=class extends Dc{constructor(){super({children:[{component:new re,manipulator:new ll({label:"마이페이지",additionalManipulators:[new sMe]})},{component:new re,manipulator:new ll({label:"로그아웃",additionalManipulators:[new oMe]})}]})}};class uMe extends Mc{constructor(){super({model:y$,body:new lMe,bodyComponent:new re})}}class hMe extends VRe{constructor(){super({children:[ba.getData().id<0?{component:mAe,manipulator:new HRe({manipulators:[new KRe({loginEntryPopupModel:P0})]})}:void 0,ba.getData().id>=0?{component:wAe,manipulator:new nMe}:void 0,ba.getData().id>=0?{component:new re,manipulator:new uMe}:void 0].filter(t=>t!==void 0)})}}const cMe=`#root{height:100%;display:flex;justify-content:left}
`;class dMe extends xe{constructor(){super({styles:cMe})}}class fMe extends Ju{constructor(t){super({layout:new jf,manipulators:[new dMe],children:t.children})}}class pMe extends Se{async manipulate(t){Me(De`
        <div id='root'>소개</div>
      `,t.shadowRoot)}}const vMe=`#root{margin-right:20px;display:flex;justify-content:center;align-items:center;height:100%}#root:hover{cursor:pointer}
`;class gMe extends xe{constructor(){super({styles:vMe})}}class mMe extends kt{constructor(){super({manipulators:[new pMe,new gMe]})}}class OMe extends Se{async manipulate(t){Me(De`
        <div id='root'>github</div>
      `,t.shadowRoot)}}const yMe=`#root{margin-right:20px;display:flex;justify-content:center;align-items:center;height:100%}#root:hover{cursor:pointer}
`;class bMe extends xe{constructor(){super({styles:yMe})}}class $Me extends kt{constructor(){super({manipulators:[new OMe,new bMe]})}}const D5="/logfield-client/assets/logfield-logo-96fdcfc0.svg";class wMe extends Se{async manipulate(t){Me(De`
        <div id='root'><img src=${D5} /></div>
      `,t.shadowRoot)}}const SMe=`#root{margin-right:20px;display:flex;justify-content:center;align-items:center;width:40px;height:40px}#root:hover{cursor:pointer}
`;class xMe extends xe{constructor(){super({styles:SMe})}}let kMe=class extends Ft{constructor(){super({id:"root"});Q(this,"eventName","click")}async handle(e){location.href=`${Cr}/`}};class Xf extends kt{constructor(){super({manipulators:[new wMe,new xMe,new kMe]})}}class PMe extends fMe{constructor(){super({children:[{component:xAe,manipulator:new Xf},{component:kAe,manipulator:new mMe},{component:PAe,manipulator:new $Me}]})}}class TMe extends WRe{constructor(){super({children:[{component:SAe,manipulator:new PMe},{component:TAe,manipulator:new hMe}]})}}const _Me=`#root,#root #main{width:100%;height:100%}
`;class EMe extends xe{constructor(){super({styles:_Me})}}class CMe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'></div>
          <div id='login-entry-popup'></div>
          <div id='email-login-popup'></div>
          <div id='email-signup-popup'></div>
        </div>
      `,t.shadowRoot)}}class IMe extends Wi{constructor(t){super({manipulators:[new CMe,new EMe],idTreeNodes:t.idTreeNodes})}}class QMe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'>
            <div id='label'>logfield</div>
            <div id='email-login-button'></div>
            <div id='social-login-button'></div>
            <div id='email-signup-button'></div>
          </div>
          <div id='logo'></div>
        </div>
      `,t.shadowRoot)}}const AMe=`#root{width:100%;height:100%;display:flex;justify-content:center;align-items:start}#root #main{width:400px;padding-top:280px;display:flex;flex-direction:column;justify-content:center;align-items:end}#root #main #label{width:100%;display:flex;justify-content:center;align-items:center;margin-bottom:60px;font-size:52px;font-weight:600}#root #logo{left:80px;top:60px;position:fixed;display:flex;justify-content:center;align-items:center;width:40px;height:40px}
`;class RMe extends xe{constructor(){super({styles:AMe})}}class MMe extends Wi{constructor(t){super({idTreeNodes:t.idTreeNodes,manipulators:[new QMe,new RMe]})}}class DMe extends Se{async manipulate(t){Me(De`
        <div id='root'>이메일 로그인</div>
      `,t.shadowRoot)}}const NMe=`#root{width:400px;height:60px;display:flex;justify-content:center;align-items:center;border-style:solid;border-width:.5px;border-color:#00000040;font-size:24px;margin-bottom:20px}#root:hover{cursor:pointer}
`;class BMe extends xe{constructor(){super({styles:NMe})}}class ZMe extends kt{constructor(t){super({manipulators:[new DMe,new BMe,...t.manipulators]})}}class LMe extends Ft{constructor(e){super({id:"root"});Q(this,"eventName","click");Q(this,"emailLoginPopupModel");this.emailLoginPopupModel=e.emailLoginPopupModel}async handle(e){this.emailLoginPopupModel.setData(!0)}}class zMe extends Se{async manipulate(t){Me(De` 
        <div id='root'>회원가입</div>
      `,t.shadowRoot)}}const FMe=`#root{width:100%;height:100%}#root:hover{cursor:pointer}
`;class jMe extends xe{constructor(){super({styles:FMe})}}class XMe extends Ft{constructor(){super({id:"root"});Q(this,"eventName","click")}async handle(e){await P0.setData(!1),await A5.setData(!0)}}class YMe extends kt{constructor(){super({manipulators:[new zMe,new jMe,new XMe]})}}class WMe extends MMe{constructor(){super({idTreeNodes:[{id:"email-login-button",component:$Ae,manipulator:new ZMe({manipulators:[new LMe({emailLoginPopupModel:Q5})]})},{id:"email-signup-button",component:new re,manipulator:new YMe},{id:"logo",component:new re,manipulator:new Xf}]})}}class VMe extends Fl{constructor(){super({body:new WMe,bodyComponent:yAe,additionalManipulators:[new jl({model:P0})]})}}class UMe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'>
            <div id='label'>로그인</div>
            <input id='email' placeholder='이메일'></input>
            <div id='login-button'>로그인</div>
          </div>
          <div id='logo'></div>
        </div>
      `,t.shadowRoot)}}const qMe=`#root{width:100%;height:100%;display:flex;justify-content:center;align-items:start}#root #main{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:280px;width:400px}#root #main #label{width:100%;display:flex;justify-content:left;align-items:center;font-size:52px;font-weight:600;margin-bottom:60px}#root #main #email{width:calc(100% - 6px);height:60px;margin-bottom:20px;border-width:.5px;border-style:solid;border-color:#00000040}#root #main #login-button{background-color:#ecf9ff;width:100%;height:60px;display:flex;justify-content:center;align-items:center}#root #main #login-button:hover{cursor:pointer}#root #logo{position:fixed;left:80px;top:60px}
`;class GMe extends xe{constructor(){super({styles:qMe})}}class b$ extends Ft{constructor(e){super({id:e.id});Q(this,"eventName","input");Q(this,"model");Q(this,"component");this.model=e.model,this.component=e.component,e.component.shadowRoot.getElementById(e.id)}async handle(e){try{const r=this.component.shadowRoot.getElementById(this.id);if(r===null)throw`no such id: ${this.id}`;this.model.getData()!==r.value&&await this.model.setData(r.value)}catch(r){throw console.log(r),"OwlRegisterInputModel failed"}}}async function HMe(i){await dr.get("/api/login/requestCertification",{params:{email:i}})}class KMe extends Ft{constructor(e){super({id:"login-button"});Q(this,"eventName","click");Q(this,"emailLoginEmailModel");this.emailLoginEmailModel=e.emailLoginEmailModel}async handle(e){await HMe(this.emailLoginEmailModel.getData()),location.href=`${Cr}/`}}class JMe extends Wi{constructor(t){super({manipulators:[new UMe,new GMe,new b$({id:"email",component:E5,model:uC}),new KMe({emailLoginEmailModel:uC})],idTreeNodes:t.idTreeNodes})}}class eDe extends JMe{constructor(){super({idTreeNodes:[{id:"logo",component:new re,manipulator:new Xf}]})}}class tDe extends Fl{constructor(){super({body:new eDe,bodyComponent:E5,additionalManipulators:[new jl({model:Q5})]})}}class rDe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='body'></div>
          <div id='footer'></div>
        </div>
      `,t.shadowRoot)}}const iDe=`#root{width:100%;height:100%}
`;class nDe extends xe{constructor(){super({styles:iDe})}}class sDe extends Wi{constructor(t){super({idTreeNodes:t.idTreeNodes,manipulators:[new rDe,new nDe]})}}const aDe="";class oDe extends xe{constructor(){super({styles:aDe})}}class lDe extends Ju{constructor(t){super({layout:new jf,children:t.children,manipulators:[new oDe]})}}class uDe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='first'>logfield 1.0</div>
          <div id='second'>출시</div>
          <div id='third'>재미로 한번 만들어 봤습니다.</div>
        </div>
      `,t.shadowRoot)}}const hDe=`#root{width:75%;padding-top:200px;padding-bottom:200px;padding-left:25%;background-color:#ecf9ff}#root #first{font-size:52px;font-weight:400}#root #second{font-size:52px;font-weight:600;margin-bottom:20px}#root #third{font-weight:400}
`;class cDe extends xe{constructor(){super({styles:hDe})}}class dDe extends kt{constructor(){super({manipulators:[new uDe,new cDe]})}}const fDe="/logfield-client/assets/graph-example-b745ab16.svg";class pDe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='left'>
            <div id='first'>
              배운 내용을
              <br>
              학습 <div id='impact'>순서대로</div>
              <br>
              정리해 보세요
            </div>
            <div id='second'>
              트리구조가 아닌 그래프 구조로
              <br>
              정리할 수 있습니다.
            </div>
          </div>
          <div id='right'>
            <img src=${fDe} />
          </div>
        </div>
      `,t.shadowRoot)}}const vDe=`#root{display:flex;flex-direction:row;justify-content:left;padding-top:200px;padding-bottom:200px;padding-left:25%;width:75%;align-items:center}#root #first{font-size:52px;font-weight:400;margin-bottom:20px}#root #first #impact{display:inline;font-weight:600}#root #second{font-weight:400}
`;class gDe extends xe{constructor(){super({styles:vDe})}}class mDe extends kt{constructor(){super({manipulators:[new pDe,new gDe]})}}class ODe extends lDe{constructor(){super({children:[{component:new re,manipulator:new dDe},{component:new re,manipulator:new mDe}]})}}class yDe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'>
            <div id='first'>
              <div>logfield</div>
              <div id='logo'>
                <img src=${D5} />
              </div>
            </div>
            <div id='second'>logfield는 오픈소스 입니다.</div>
          </div>
        </div>
      `,t.shadowRoot)}}const bDe=`#root{width:100%;display:flex;justify-content:center;align-items:center}#root #main{margin-top:100px;margin-bottom:100px;display:flex;flex-direction:column;justify-content:center;align-items:center}#root #main #first{font-size:36px;font-weight:600;display:flex;justify-content:left;align-items:center}#root #main #first #logo{width:40px;height:40px;display:flex;justify-content:center;align-items:center;margin-left:8px}#root #main #second{font-weight:400;margin-top:8px}
`;class $De extends xe{constructor(){super({styles:bDe})}}class wDe extends kt{constructor(){super({manipulators:[new yDe,new $De]})}}class SDe extends sDe{constructor(){super({idTreeNodes:[{id:"body",component:new re,manipulator:new ODe},{id:"footer",component:new re,manipulator:new wDe}]})}}class xDe extends Se{async manipulate(t){Me(De`
        <div id='root'>
          <div id='main'>
            <div id='label'>회원가입</div>
            <input id='email' placeholder='이메일'></input>
            <input id='nickname' placeholder='닉네임'></input>
            <div id='signup-button'>회원가입</div>
          </div>
          <div id='logo'></div>
        </div>
      `,t.shadowRoot)}}const kDe=`#root{width:100%;height:100%;display:flex;justify-content:center;align-items:start}#root #main{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:280px;width:400px}#root #main #label{width:100%;display:flex;justify-content:left;align-items:center;font-size:52px;font-weight:600;margin-bottom:60px}#root #main #email,#root #main #nickname{width:calc(100% - 6px);height:60px;margin-bottom:20px;border-width:.5px;border-style:solid;border-color:#00000040}#root #main #signup-button{background-color:#ecf9ff;width:100%;height:60px;display:flex;justify-content:center;align-items:center}#root #main #signup-button:hover{cursor:pointer}
`;class PDe extends xe{constructor(){super({styles:kDe})}}async function TDe(i,t){await dr.get("/api/signup/requestCertification",{params:{email:i,nickname:t}})}class _De extends Ft{constructor(){super({id:"signup-button"});Q(this,"eventName","click")}async handle(e){await TDe(R5.getData(),M5.getData()),location.href=`${Cr}/`}}class EDe extends Wi{constructor(){super({idTreeNodes:[{id:"email",component:new re,manipulator:new Xf}],manipulators:[new xDe,new PDe,new _De,new b$({id:"email",component:O$,model:R5}),new b$({id:"nickname",component:O$,model:M5})]})}}class CDe extends Fl{constructor(){super({body:new EDe,bodyComponent:O$,additionalManipulators:[new jl({model:A5})]})}}class IDe extends IMe{constructor(){super({idTreeNodes:[{id:"main",component:gAe,manipulator:new SDe},{id:"login-entry-popup",component:OAe,manipulator:new VMe},{id:"email-login-popup",component:bAe,manipulator:new tDe},{id:"email-signup-popup",component:new re,manipulator:new CDe}]})}}class QDe extends Se{constructor(e){super();Q(this,"routes");this.routes=e.routes}async manipulate(e){for(let r of this.routes)if(r.pattern.test(location.pathname)){await r.manipulator.manipulate(r.component),e.shadowRoot.appendChild(r.component);break}}}class ADe extends IAe{constructor(){super({idTreeNodes:[{id:"nav",component:vAe,manipulator:new TMe},{id:"main",component:pAe,manipulator:new QDe({routes:[{pattern:new RegExp(`^${Cr}/$`),component:fAe,manipulator:new IDe},{pattern:new RegExp(`^${Cr}/my-page/$`),component:F5,manipulator:new jRe}]})}]})}}async function hC(){return(await dr.get("/api/user/getMyProfile",{params:{}})).data}async function RDe(){try{const i=localStorage.getItem("refreshToken");if(i===null)throw"no refreshToken";return(await dr.get("/api/login/refresh",{params:{refreshToken:i}})).data}catch(i){throw console.log(i),"refreshLogin failed"}}async function MDe(){try{const i=await RDe();window.localStorage.setItem("accessToken",i.accessToken),window.localStorage.setItem("refreshToken",i.refreshToken)}catch(i){throw console.log(i),"refresh failed"}}async function DDe(i){await dr.get("/api/signup",{params:{uuid:i}})}const NDe=document.getElementById("root");(async()=>{if(new RegExp(`^/${Cr}/login$`).test(location.pathname)){const t=new URLSearchParams(location.search).get("uuid");if(t!==null){const e=await dAe(t);localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken)}location.href=`${Cr}/`}if(new RegExp(`^/${Cr}/signup$`).test(location.pathname)){const t=new URLSearchParams(location.search).get("uuid");t!==null&&await DDe(t),location.href=`${Cr}/`}try{await ba.setData(await hC())}catch{try{await MDe(),await ba.setData(await hC())}catch{}}NDe.appendChild(lC),await new ADe().manipulate(lC),new RegExp(`^${Cr}/my-page/$`).test(location.pathname)&&await cAe()})();
